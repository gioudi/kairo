{"version":3,"sources":["webpack/universalModuleDefinition","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Core\\Page.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\Terminales\\GestionTerminales.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\Terminales\\Terminales.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\ConfigureDataTable.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\ConfirmModalMessage.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\DatepickerComponent.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\HttpFetchService.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\ActionsPermission.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Area.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Cabezote.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Compañia.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Conductor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Contador.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Despacho.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\FechasCorteDTO.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Linea.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Log.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\ProcesamientoArchivos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Producto.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Proveedor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Rol.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Tanque.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Terminal.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Trailer.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Usuario.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\HTMLExtensions.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\JQValidations.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\MaskFormats.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\MaskFormatsManager.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\SelectorMenu.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\index.ts","webpack/bootstrap","webpack/runtime/define property getters","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"names":["root","factory","exports","module","define","amd","self","customParseFormat","dayjs","locale","extend","this","AdjustValidation","RegisterMasks","masks","MaskManager","MaskFormatsManager","GetPermissions","url","HttpFetchService","Post","then","data","Permisions","catch","error","ActionsPermission","Destroy","$","validator","methods","range","value","element","param","globalizedValue","replace","optional","Page","modalBase","_baseUrl","_creado","_opcion","twelveHour","_validador","_index","_httpService","_modalBase","InicializarModal","RegistrarFormatos","NuevaTerminal","document","getElementById","innerHTML","InicilizarFormTerminal","InicializarButtons","GuardarTerminal","token","_formData","get","toString","PostForm","Result","prop","onTerminalCreado","ExtraerTerminal","getElementsByTagName","setAttribute","M","toast","html","Message","classes","err","console","log","AsignarVigenciaProducto","vigenciaEstado","validarVigencia","CerrarModalRecetas","ModificarAsignarVigencia","set","_productoIdActualizar","DatosTerminal","idTerminal","lectura","payload","terminal","_terminalIdActualizar","ActualizarTerminal","onTerminalActualizado","ConsultaId","selector","ModalHabilitarCompania","_idCompHab","ModalDeshabilitarCompania","_idCompDes","idCompania","Compañia","Terminal","IdTerminal","InicilizarFormCompania","_modalInstance","open","ModalAsignarProductos","IdProducto","dataset","productoid","InicilizarFormRecetas","HabilitarCompania","RecargarVistaListaCompania","ConfirmModalMessage","Confirm","Modal","init","dismissible","opacity","inDuration","outDuration","startingTop","endingTop","modoCreacion","_Table1","ConfigureDataTable","Configure","_Table2","_TableProductos","select2","dropdownAutoWidth","width","Tabs","querySelectorAll","updateTextFields","_formTerminal","querySelector","FormData","removeData","unobtrusive","parse","addEventListener","ev","onsubmit","e","preventDefault","valid","Collapsible","DatepickerComponent","GetInstances","undefined","UpdateMaskValue","Timepicker","on","event","target","matches","ActivarVigencia","DesActivarVigencia","AgregarVigencia","_formReceta","_estadoProducto","_formCompania","CerrarModal","OrdernarFechas","sort","o1","o2","Date","fi","getTime","recetas","forEach","receta","re","recetaid","find","each","tr","fechaInicial","val","horaInicial","fechaFinal","horaFinal","FormatoFecha","fechaInicialTotal","trim","fechaFinalTotal","switchId","attr","fechaObjet","ff","sw","push","removeAttribute","validarCondiones","contador","banderaSinVigencia","banderaActivo","tam","length","fa","fechaActual","i","estado","mensaje","j","k","Comparar","l","resultado","activo","sinVigencia","date","dia","getDate","mes","getMonth","year","getFullYear","hora","getHours","minuto","getMinutes","tableProductos","checks","getElementsByClassName","checksInh","tableHab","tableHabDesCheck","tableInh","tableInhDesCheck","id","compid","DesAsignar","DatosProductoVigencia","closest","checked","idProducto","Lectura","check","DesAsignarProducto","checkElement","padre","card","removeChild","Contar","index","idReceta","recetaName","recetaId","container","createElement","classList","add","appendChild","vigenciaId","vigenciaid","insertRow","Nombre","ExtraerProducto","producto","NombreCorto","Estado","Tipo","Clase","SICOM","ActualizarFilaDatatableProducto","row","cond","Recetas","lenght","close","parentNode","fechaOriginal","MesActual","split","MaskFormats","DateShortFormat","UpdateValue","TerminalesGestionPage","BaseUrl","Init","InicializarControls","SelectorMenu","SeleccionEnElMenu","gestionTerminales","AgregarFilaDatatable","ActualizarFilaDatatable","JQValidations","MaxFileSizeValidation","AllowedExtensionsValidation","terminalAdd","EditarTerminal","BorrarTerminal","CrearTerminal","terminalId","terminalid","terminalName","terminalname","BoorarTerminalKanba","DisableAction","habilitado","TerminalesPage","terminalesPage","URL","indexOf","columns","table","DataTable","columnDefs","destroy","responsive","language","FilterGlobal","ConfigureScrollX","columnsDef","inputId","scrollX","ConfigureScrollXSinInfo","paging","ordering","searching","info","input","search","draw","column","parents","title","message","acceptText","dismissText","idMesssage","parent","body","CreateModal","AppendModel","modal","content","header","textContent","buttonGroup","dismissButton","type","acceptButton","modalInstance","elem","Promise","resolve","reject","getInstance","GetInstances2","options","elements","Datepicker","ConfigBasics","format","autoClose","i18n","cancel","clear","done","months","monthsShort","weekdays","weekdaysShort","weekdaysAbbrev","onSelect","onClose","onDraw","selectedDate","GetInstances3","jsonResponse","fetch","method","headers","JSON","stringify","response","json","text","PostFormURL","services","Area","Cabezote","Conductor","Contador","Despacho","FechasCorteDTO","Linea","Log","MapeoArchivos","Paso1Mapeo","Paso2Mapeo","Producto","Proveedor","Rol","Tanque","Trailer","Usuario","models","HTMLElement","prototype","eventType","childSelector","eventHandler","eventOnElement","addMethod","params","size","file","files","adapters","rules","messages","exts","extsArray","RegExp","join","test","NotEqualValidation","IdName","ActualValue","Id","IntegerFormat","Selector","Mask","mask","Number","scale","signed","thousandsSeparator","padFractionalZeros","normalizeZeros","radix","mapToRadix","DecimalFormat","overwrite","autofix","blocks","MMM","MaskedEnum","enum","DateLongFormat","HH","MaskedRange","from","to","TT","IntegerFormatRang","rangoMinimo","rangoMaximo","min","max","DecimalFormatRang","Alfanumerico","lazy","NumericoSinSignos","FormatElements","Array","CleanAll","Masks","ApplyMasks","CleanFormats","object","ApplyFormat","AddApplyMask","UnmaskFormats","MaskInput","el","unmaskedValue","masked","reset","SetUnmaskedFormValue","formData","name","selectors","formatEl","filter","updateValue","splice","location","href","substr","removeClass","css","addClass","identi","identi2","first","components","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call","m","x","d","definition","key","o","Object","defineProperty","enumerable","obj","hasOwnProperty","r","Symbol","toStringTag","installedChunks","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","apply","chunkLoadingGlobal","checkDeferredModulesImpl","result","deferredModule","fulfilled","depId","s","bind","startup"],"mappings":"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","file":"js/pages/terminales.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kairosv2\"] = factory();\n\telse\n\t\troot[\"kairosv2\"] = factory();\n})(self, function() {\nreturn ","import dayjs = require(\"dayjs\");\r\nimport { IMaskFormat, MaskFormatsManager } from \"../Shared/Utils\";\r\nimport 'dayjs/locale/es-do';\r\nimport { ActionsPermission } from \"../Shared/Models/ActionsPermission\";\r\nimport { HttpFetchService } from \"../Shared\";\r\n\r\nvar customParseFormat = require('dayjs/plugin/customParseFormat');\r\n\r\nexport abstract class Page {\r\n    public MaskManager: MaskFormatsManager;\r\n    public BaseUrl;\r\n    public Permisions: ActionsPermission;\r\n\r\n    constructor() {\r\n        dayjs.locale('es-do');\r\n        dayjs.extend(customParseFormat);\r\n        this.AdjustValidation();\r\n    }\r\n\r\n    protected RegisterMasks(masks: Array<IMaskFormat>): void {\r\n        if (!this.MaskManager) {\r\n            this.MaskManager = new MaskFormatsManager();\r\n        }\r\n\r\n        this.MaskManager.RegisterMasks(masks);\r\n    }\r\n\r\n    protected GetPermissions(url: string): void {\r\n        const httpService = new HttpFetchService();\r\n        httpService.Post<ActionsPermission>(url, \"\", true)\r\n            .then((data) => {\r\n                if (data) {\r\n                    this.Permisions = data;\r\n                }\r\n            }).catch((error) => {\r\n                this.Permisions = new ActionsPermission();\r\n            });\r\n    }\r\n\r\n    public Destroy(): void {\r\n        this.MaskManager?.Destroy();\r\n    }\r\n\r\n    private AdjustValidation(): void {\r\n        $.validator.methods.range = function (value, element, param) {\r\n            var globalizedValue = value.replace(\",\", \"\");\r\n            let result = this.optional(element) || (globalizedValue >= param[0] && globalizedValue <= param[1]);\r\n            return result;\r\n        }\r\n    }\r\n}","\r\nimport { ConfigureDataTable } from '../../Shared/Components/ConfigureDataTable';\r\nimport { HttpFetchService, IMessageResponse } from '../../Shared';\r\nimport { ConfirmModalMessage } from '../../Shared/Components/ConfirmModalMessage';\r\nimport { Terminal } from '../../Shared/Models/Terminal';\r\n\r\nimport 'jquery-qubit';\r\nimport 'jquery-bonsai';\r\nimport 'jquery-bonsai/jquery.bonsai.css';\r\nimport 'select2';\r\nimport 'select2/dist/css/select2.css';\r\nimport { DatepickerComponent } from '../../Shared/Components/DatepickerComponent';\r\nimport { MaskFormats, IMaskFormat } from '../../Shared/Utils/MaskFormats';\r\nimport { Page } from '../../Core/Page';\r\nimport dayjs = require('dayjs');\r\n\r\nexport class TerminalesGestionPage extends Page {\r\n\r\n    //PROPIEDADES\r\n    public onTerminalCreado?: (terminal: Terminal) => void;\r\n    public onTerminalActualizado?: (terminal: Terminal) => void;\r\n\r\n    //CAMPOS\r\n    private _baseUrl = \"/Terminales\";\r\n    private _httpService: HttpFetchService;\r\n    private _modalInstance: M.Modal;\r\n    private _modalBase: HTMLElement;\r\n    private _formTerminal: HTMLFormElement;\r\n    private _formCompania: HTMLFormElement;\r\n    private _formReceta: HTMLFormElement;\r\n    private _formData: FormData;\r\n    private _terminalIdActualizar: string;\r\n    private _productoIdActualizar: string;\r\n    private _estadoProducto: EventTarget;\r\n    private _Table1: DataTables.Api;\r\n    private _Table2: DataTables.Api;\r\n    private _TableProductos: DataTables.Api;\r\n    private _idCompDes;\r\n    private _idCompHab;\r\n    private _creado: boolean = false;\r\n    private _opcion = { twelveHour: false };\r\n    private _validador = [];\r\n    private _index = 0;\r\n\r\n\r\n    //CONSTRUCTOR\r\n    constructor(modalBase: HTMLElement) {\r\n        super();\r\n        this._httpService = new HttpFetchService();\r\n        this._modalBase = modalBase;\r\n        this.InicializarModal();\r\n        this.RegistrarFormatos();\r\n    }\r\n\r\n\r\n    //METODOS\r\n\r\n    //Creación de nueva terminal\r\n\r\n    public NuevaTerminal() {\r\n        this._httpService.Post<string>(this._baseUrl + \"/NuevaTerminal\", null, false)\r\n            .then((data) => {\r\n                document.getElementById(\"teminales\").innerHTML = data;\r\n                this.InicilizarFormTerminal(true);\r\n                this.InicializarButtons();\r\n            });\r\n    }\r\n\r\n    //Guardar Terminal\r\n    private GuardarTerminal(): void {        \r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/CrearSoloTerminal\", this._formData, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    $('#fieldset-compania').prop('disabled', false);\r\n                    $('#fieldset-producto').prop('disabled', false);\r\n                    if (this.onTerminalCreado)\r\n                        this.onTerminalCreado(this.ExtraerTerminal());\r\n                    let button = document.getElementsByTagName('button');\r\n                    button[0].innerHTML = 'Modificar <i class=\"material-icons left\"> save </i>';\r\n                    let disableId = document.getElementById('terminal-id');\r\n                    disableId.setAttribute('readonly', 'true');\r\n                    this._creado = true;\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Metodo para guardar la asignaicon de las vigencia de las recetas a un producto\r\n    private AsignarVigenciaProducto(): void {\r\n        let vigenciaEstado = this.validarVigencia();\r\n        if (!vigenciaEstado['estado']) {\r\n            M.toast({ html: vigenciaEstado['mensaje'], classes: \"error\" });\r\n            return;\r\n        }\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/CrearAsignacionProducto\", this._formData, token)\r\n            .then((data) => {\r\n                console.log(data);\r\n                if (data.Result) {\r\n                    //this.ActualizarFilaDatatableProducto(this.ExtraerProducto());\r\n                    this.CerrarModalRecetas();\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Actualizar Producto\r\n    private ModificarAsignarVigencia(): void {\r\n        let vigenciaEstado = this.validarVigencia();\r\n        if (!vigenciaEstado['estado']) {\r\n            M.toast({ html: vigenciaEstado['mensaje'], classes: \"error\" });\r\n            return;\r\n        }\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        this._formData.set(\"IdProducto\", this._productoIdActualizar);\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/ActualizarAsignacionProducto\", this._formData, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    //this.ActualizarFilaDatatableProducto(this.ExtraerProducto());\r\n                    //this.LimpiarFormulario();\r\n                    this.CerrarModalRecetas();\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n\r\n    //Edicion de terminal\r\n    public DatosTerminal(idTerminal: string, lectura: boolean) {\r\n\r\n        var payload = { terminal: idTerminal, lectura: lectura };\r\n        this._terminalIdActualizar = idTerminal;\r\n\r\n        console.log('Terminal Id 1: ', this._terminalIdActualizar)\r\n\r\n        this._httpService.Post<string>(this._baseUrl + \"/EditarTerminal\", payload, false)\r\n            .then((data) => {\r\n                if (data) {\r\n                    document.getElementById(\"teminales\").innerHTML = data;\r\n                    this.InicilizarFormTerminal(false);\r\n                    this.InicializarButtons();\r\n                }\r\n                else\r\n                    M.toast({ html: data, classes: (false) ? \"succes\" : \"error\" });\r\n            }).catch((error) => {\r\n                M.toast({ html: \"No es posible abrir la ventana correctamente: \" + error, classes: \"error\" });\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    //Actualizar terminal\r\n    private ActualizarTerminal(): void {\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        this._formData.set(\"IdTerminal\", this._terminalIdActualizar);\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/ActualizarSoloTerminal\", this._formData, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    if (this.onTerminalActualizado)\r\n                        this.onTerminalActualizado(this.ExtraerTerminal());\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Consulta Id de tablas\r\n    private ConsultaId(selector: boolean) {\r\n\r\n        if (selector) {\r\n            this.ModalHabilitarCompania(this._idCompHab);\r\n        } else {\r\n            this.ModalDeshabilitarCompania(this._idCompDes)\r\n        }\r\n\r\n    }\r\n\r\n    //Abre modal para habiliatar compañia\r\n    private ModalHabilitarCompania(idCompania: string) {\r\n\r\n        if (idCompania) {\r\n            var Terminal = this.ExtraerTerminal().IdTerminal;\r\n            var payload = { Compañia: idCompania, Terminal: Terminal };\r\n            this._httpService.Post<string>(this._baseUrl + \"/ModalHabilitarCompania\", payload, false)\r\n                .then((data) => {\r\n                    this._modalBase.innerHTML = data;\r\n                    this.InicilizarFormCompania();\r\n                });\r\n\r\n            this._modalInstance.open();\r\n\r\n        } else {\r\n            M.toast({ html: \"No se ha seleccionado una compañia\", classes: \"error\" });\r\n        }\r\n    }\r\n    // Jeffer\r\n    // Modal para asignar productos a las teminales\r\n    private ModalAsignarProductos(element: HTMLElement) {\r\n        let productoId = element.dataset.productoid;\r\n        var payload = { IdProducto: productoId, IdTerminal: this._terminalIdActualizar };\r\n        console.log('Terminal Id 1: ', this._terminalIdActualizar);\r\n        this._httpService.Post<string>(this._baseUrl + \"/AsignarProducto\", payload, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicilizarFormRecetas(true);\r\n            });\r\n\r\n        this._modalInstance.open();\r\n    }\r\n\r\n    //Habilita compañia\r\n    private HabilitarCompania(): void {\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/AsignarCompañiaATerminal\", this._formData, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    this.RecargarVistaListaCompania();\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Abre modal para inhabiliatar compañia\r\n    private async ModalDeshabilitarCompania(idCompania: string) {\r\n        if (idCompania) {\r\n            const confirm = new ConfirmModalMessage(\"Deshabilitar Compañia\", \"¿Desea deshabilitar la compañia \" + idCompania + \"?\", \"Aceptar\", \"Cancelar\");\r\n            const shouldDelete = await confirm.Confirm();\r\n            if (shouldDelete) {\r\n                var terminal = this.ExtraerTerminal();\r\n                var payload = { Compañia: idCompania, Terminal: terminal.IdTerminal };\r\n                const httpService = new HttpFetchService();\r\n                httpService.Post<IMessageResponse>(this._baseUrl + \"/EliminarCompañiaDeTerminal\", payload)\r\n                    .then((data) => {\r\n                        if (data.Result) {\r\n                            this.RecargarVistaListaCompania();\r\n                        }\r\n                        M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n\r\n\r\n                    }).catch((error) => {\r\n                        M.toast({ html: error, classes: \"error\" });\r\n                    });\r\n            }\r\n        } else {\r\n            M.toast({ html: \"No se ha seleccionado una compañía\", classes: \"error\" });\r\n        }\r\n\r\n    }\r\n\r\n    //Recarga a vista de _ListaCompania\r\n    public RecargarVistaListaCompania() {\r\n        var terminal = this.ExtraerTerminal();\r\n        var payload = { Terminal: terminal.IdTerminal };\r\n        this._httpService.Post<string>(this._baseUrl + \"/RecargarVistaListaCompania\", payload, false)\r\n            .then((data) => {\r\n                document.getElementById(\"compania\").innerHTML = data;\r\n                this.InicilizarFormTerminal(false);\r\n                this.InicializarButtons();\r\n            });\r\n    }\r\n\r\n    //Inicializar control modal\r\n    private InicializarModal() {\r\n\r\n        this._modalInstance = M.Modal.init(this._modalBase, {\r\n            dismissible: false,\r\n            opacity: .5,\r\n            inDuration: 300,\r\n            outDuration: 200,\r\n            startingTop: '6%',\r\n            endingTop: '5%'\r\n        });\r\n\r\n    }\r\n\r\n    //Inicializar controles de formulario terminal\r\n    private InicilizarFormTerminal(modoCreacion: boolean): void {\r\n        if (!modoCreacion) {\r\n            $('#fieldset-producto').prop('disabled', false);\r\n        }\r\n        this._Table1 = new ConfigureDataTable().Configure(\"#companias-habilitadas\", [{ \"width\": \"5%\", \"targets\": 0 }]);\r\n        this._Table2 = new ConfigureDataTable().Configure(\"#companias-inhabilitadas\", [{ \"width\": \"5%\", \"targets\": 0 }]);\r\n        this._TableProductos = new ConfigureDataTable().Configure(\"#data-table-producto\");\r\n        $(\"#terminal-estado\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        $(\"#terminal-area\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        M.Tabs.init(document.querySelectorAll('.tabs'));\r\n\r\n        M.updateTextFields();\r\n        this._formTerminal = document.querySelector(\"#terminal-form\");\r\n        this._formData = new FormData(this._formTerminal);\r\n        $(this._formTerminal).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.unobtrusive.parse(this._formTerminal);\r\n        document.getElementById(\"companias-habilitar\").addEventListener('click', (ev) => this.ConsultaId(true));\r\n        document.getElementById(\"companias-deshabilitar\").addEventListener('click', (ev) => this.ConsultaId(false));\r\n\r\n        this._formTerminal.onsubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            if ($(this._formTerminal).valid()) {\r\n                this._formData = new FormData(this._formTerminal);\r\n\r\n                if (modoCreacion && this._creado == false) {\r\n                    this.GuardarTerminal();\r\n\r\n                } else {\r\n                    this.ActualizarTerminal();\r\n                }\r\n            }\r\n\r\n            return false; // prevent reload\r\n        };\r\n    }\r\n\r\n    //Jeffer\r\n    //Inicializar controles de formulario producto y recetas\r\n    private InicilizarFormRecetas(modoCreacion: boolean): void {\r\n        M.Collapsible.init(document.querySelectorAll(\".collapsible\"));\r\n        var DatePickers = new DatepickerComponent().GetInstances('.datepicker', undefined, () => { this.UpdateMaskValue() });\r\n        M.Timepicker.init(document.querySelectorAll(\".timepicker\"), this._opcion);\r\n        M.updateTextFields();\r\n\r\n        console.log('Terminal Id 3: ', this._terminalIdActualizar)\r\n        // Jeffer\r\n        var recetas = document.getElementById(\"recetas-container\");\r\n        recetas.on('click', '.receta-action', event => {\r\n            if (event.target.matches(\".receta-check\")) {\r\n                if (event.target['checked'])\r\n                    this.ActivarVigencia(event.target as HTMLElement)\r\n                else\r\n                    this.DesActivarVigencia(event.target as HTMLElement);\r\n            } else if (event.target.matches(\".vigencia-add\")) {\r\n                this.AgregarVigencia(event.target as HTMLElement);\r\n\r\n            } else if (event.target.matches(\".vigencia-delete\")) {\r\n                this.validarVigencia();\r\n            }\r\n\r\n        });\r\n\r\n        this._formReceta = document.querySelector(\"#receta-form\");\r\n        this._formData = new FormData(this._formReceta);\r\n        $(this._formReceta).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.unobtrusive.parse(this._formReceta);\r\n\r\n        this._formReceta.onsubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            if ($(this._formReceta).valid()) {\r\n                this._formData = new FormData(this._formReceta);\r\n                if (modoCreacion) {\r\n                    this.AsignarVigenciaProducto();\r\n                } else {\r\n                    this.ModificarAsignarVigencia();\r\n                }\r\n            }\r\n\r\n            return false; // prevent reload\r\n        };\r\n\r\n        document.getElementById(\"receta-modal-cancel\").addEventListener('click', (ev) => this.CerrarModalRecetas(this._estadoProducto));\r\n    }\r\n\r\n    //Inicializar controles de formulario compañia\r\n    private InicilizarFormCompania(): void {\r\n        $(\"#compañia-agrupadora\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        M.updateTextFields();\r\n        this._formCompania = document.querySelector(\"#compania-form\");\r\n        this._formData = new FormData(this._formCompania);\r\n        $(this._formCompania).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.unobtrusive.parse(this._formCompania);\r\n        document.getElementById(\"compania-modal-cancel\").addEventListener('click', (ev) => this.CerrarModal());\r\n\r\n        this._formCompania.onsubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            if ($(this._formCompania).valid()) {\r\n                this._formData = new FormData(this._formCompania);\r\n                this.HabilitarCompania();\r\n            }\r\n\r\n            return false; // prevent reload\r\n        };\r\n    }\r\n\r\n\r\n    private OrdernarFechas() {\r\n        this._validador.sort(function (o1, o2) {\r\n            if (new Date(o1.fi).getTime() > new Date(o2.fi).getTime()) {\r\n                //comparación lexicogŕafica\r\n                return 1;\r\n            } else if (new Date(o1.fi).getTime() < new Date(o2.fi).getTime()) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n    }\r\n\r\n    // Este es el validador pendiente cambiar nombre\r\n    private validarVigencia() {\r\n        this._validador = [];\r\n        let recetas = document.querySelectorAll('.receta');\r\n        let self = this;\r\n        recetas.forEach(receta => {\r\n            let re = (receta as HTMLElement).dataset.recetaid;\r\n            let tabla = '#table-vigencia-' + re + ' tbody';\r\n            $(tabla).find('tr').each(function () {\r\n\r\n                let tr = $(this),\r\n                    fechaInicial = tr.find('input.fechaIni').val(),\r\n                    horaInicial = tr.find('input.horaIni').val(),\r\n                    fechaFinal = tr.find(\"input.fechaFin\").val(),\r\n                    horaFinal = tr.find('input.horaFin').val();\r\n\r\n                fechaInicial = self.FormatoFecha(fechaInicial);\r\n                fechaFinal = self.FormatoFecha(fechaFinal);\r\n\r\n                let fechaInicialTotal = (fechaInicial + ' ' + horaInicial).trim();\r\n                let fechaFinalTotal = (fechaFinal + ' ' + horaFinal).trim();\r\n\r\n                let switchId = tr.find('input.activo').attr('id');\r\n\r\n                let fechaObjet = { fi: fechaInicialTotal, ff: fechaFinalTotal, sw: switchId }\r\n\r\n                self._validador.push(fechaObjet);\r\n\r\n\r\n                let sw = document.getElementById(switchId);\r\n                sw.removeAttribute('checked');\r\n\r\n            });\r\n        });\r\n\r\n        this.OrdernarFechas();\r\n        return this.validarCondiones();\r\n    }\r\n\r\n    private validarCondiones() {\r\n        // Diferencia maxima permitida de 1 minuto\r\n        let difMax = 0.0006944444444444445;\r\n\r\n        // Diferencia maxima para validar que la fecha inicial sea mayor a la actual, de 2 minutos\r\n        let timeLapse = -0.001388888888888889;\r\n        // Contador que valida si hay mas de una vigencia sin fecha final\r\n        let contador = 0;\r\n        // Variable que indica la posicion de en el array de la vigencia sin fecha final\r\n        let banderaSinVigencia = 0;\r\n        // Variable que indica la posicion de en el array de la vigencia que debe estar activa\r\n        let banderaActivo = 0;\r\n        let tam = this._validador.length;\r\n        let fa = this.fechaActual();\r\n\r\n        let switchActivo;\r\n\r\n        for (var i = 0; i < tam; i++) {\r\n            if (this._validador[i].fi.length < 6) {\r\n                return { estado: false, mensaje: 'Vigencia sin fecha inicial' };\r\n            }\r\n            if (this._validador[i].ff == \"\" && this._validador[i].fi != \"\") {\r\n                contador++;\r\n                banderaSinVigencia = i;\r\n            }\r\n        }\r\n        //if (this.Comparar(fa, new Date(this._validador[0].fi)) < timeLapse) {\r\n        //    console.log('La primer fecha inical es menor a la fecha actual por mas de 2 minutos');\r\n        //    return { estado: false, mensaje: 'La primer fecha inical es menor a la fecha actual por mas de 2 minutos' };\r\n        //}\r\n        if (contador == 0)\r\n            return { estado: false, mensaje: 'Debe haber por lo menos una vigencia sin fecha final' };\r\n        else if (contador > 1)\r\n            return { estado: false, mensaje: 'Hay mas o de una vigencia sin final' };        \r\n\r\n        for (var j = 0; j < tam; j++) {\r\n            if (j == banderaSinVigencia) {\r\n                continue;\r\n            }\r\n            if (new Date(this._validador[j].fi).getTime() > new Date(this._validador[j].ff).getTime()) {\r\n                return { estado: false, mensaje: 'Fecha final debe ser mayor a fecha inicial' };\r\n            }\r\n        }\r\n\r\n        for (var k = 0; k < tam; k++) {\r\n            if (k + 1 < tam) {\r\n                if (new Date(this._validador[k].ff).getTime() <= new Date(this._validador[k + 1].fi).getTime()) {\r\n                    if (this.Comparar(this._validador[k].ff, this._validador[k + 1].fi) < 0) {\r\n                        return { estado: false, mensaje: 'Hay un hueco entre las fechas por menor' };;\r\n                    } else if (this.Comparar(this._validador[k].ff, this._validador[k + 1].fi) > difMax) {\r\n                        return { estado: false, mensaje: `El lapso de tiempo entre las fechas ${this._validador[k].ff} y ${this._validador[k + 1].fi} es mayor a 1 minuto` };\r\n                    }\r\n                    continue;\r\n                }\r\n                if (new Date(this._validador[k].fi).getTime() <= new Date(this._validador[k + 1].fi).getTime() || new Date(this._validador[k].ff).getTime() > new Date(this._validador[k + 1].fi).getTime()) {\r\n                    return { estado: false, mensaje: 'Hay fechas cruzadas' };;\r\n                }\r\n            }\r\n            if (k == banderaSinVigencia) {\r\n                console.log('Secta final');\r\n            }\r\n        }\r\n\r\n        for (var l = 0; l < tam; l++) {\r\n            if (new Date(this._validador[l].fi).getTime() <= fa && new Date(this._validador[l].ff).getTime() > fa) {\r\n                banderaActivo = l;\r\n            }\r\n        }\r\n\r\n        let resultado = { activo: this._validador[banderaActivo], sinVigencia: this._validador[banderaSinVigencia] }\r\n\r\n        console.log('Resultado', resultado);\r\n\r\n        if (resultado.activo.sw == resultado.sinVigencia.sw) {\r\n            switchActivo = document.getElementById(resultado.activo.sw);\r\n            switchActivo.setAttribute('checked', 'checked');\r\n        } else {\r\n            switchActivo = document.getElementById(resultado.activo.sw);\r\n            switchActivo.setAttribute('checked', 'checked');\r\n        }\r\n        return { estado: true, mensaje: 'Bien echo' };;\r\n    }\r\n\r\n\r\n    private Comparar(ff, fi) {\r\n        let resta = new Date(fi).getTime() - new Date(ff).getTime();\r\n        //resta = Math.round(resta / (1000 * 60 * 60 * 24));\r\n        resta = resta / (1000 * 60 * 60 * 24);\r\n        return resta;\r\n    }\r\n\r\n    /* \r\n         FI 2021/04/28\r\n         HI 2021/04/28\r\n     */\r\n    private fechaActual() {\r\n        let date: Date = new Date();\r\n\r\n        let dia = date.getDate()\r\n        let mes = date.getMonth() + 1 + '';\r\n        let year = date.getFullYear()\r\n        let hora = date.getHours();\r\n        let minuto = date.getMinutes();\r\n\r\n        let actual = `${dia}/${mes}/${year} ${hora}:${minuto}:00`;\r\n        let ac = new Date(actual).getTime();\r\n        return ac;\r\n    }\r\n\r\n\r\n    private InicializarButtons() {\r\n        delete this._idCompDes;\r\n        delete this._idCompHab;\r\n\r\n        let tableProductos = document.getElementById(\"data-table-producto\");\r\n        let checksProductos = document.getElementsByClassName('producto-asignar');\r\n\r\n        let checks = document.getElementsByClassName('chb');\r\n        let checksInh = document.getElementsByClassName('chbi');\r\n        let tableHab = document.getElementById(\"companias-habilitadas\");\r\n        let tableHabDesCheck = document.getElementById(\"companias-habilitadas_paginate\");\r\n        let tableInh = document.getElementById(\"companias-inhabilitadas\");\r\n        let tableInhDesCheck = document.getElementById(\"companias-inhabilitadas_paginate\");\r\n        for (let i = 0; i < checks.length; i++) {\r\n            checks[i]['checked'] = false;\r\n        }\r\n        for (let i = 0; i < checksInh.length; i++) {\r\n            checksInh[i]['checked'] = false;\r\n        }\r\n\r\n        tableHabDesCheck.on('click', '.paginate_button', event => {\r\n            for (let i = 0; i < checks.length; i++) {\r\n                checks[i]['checked'] = false;\r\n            }\r\n            delete this._idCompDes;\r\n        });\r\n        tableInhDesCheck.on('click', '.paginate_button', event => {\r\n            for (let i = 0; i < checksInh.length; i++) {\r\n                checksInh[i]['checked'] = false;\r\n            }\r\n            delete this._idCompHab;\r\n        });\r\n        tableHab.addEventListener('change', event => {\r\n            let id = event.target as HTMLElement;\r\n            this._idCompDes = id.dataset.compid;\r\n            for (let i = 0; i < checks.length; i++) {\r\n                if (checks[i]['checked'] == false) {\r\n                    if (checks[i]['dataset'].compid == this._idCompDes) {\r\n                        checks[i]['checked'] = true;\r\n                    }\r\n                }\r\n                if (checks[i]['checked'] == true) {\r\n                    if (checks[i]['dataset'].compid !== this._idCompDes) {\r\n                        checks[i]['checked'] = false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        tableInh.addEventListener('change', event => {\r\n            let id = event.target as HTMLElement;\r\n            this._idCompHab = id.dataset.compid;\r\n            for (let i = 0; i < checksInh.length; i++) {\r\n                if (checksInh[i]['checked'] == false) {\r\n                    if (checksInh[i]['dataset'].compid == this._idCompHab) {\r\n                        checksInh[i]['checked'] = true;\r\n                    }\r\n                }\r\n                if (checksInh[i]['checked'] == true) {\r\n                    if (checksInh[i]['dataset'].compid !== this._idCompHab) {\r\n                        checksInh[i]['checked'] = false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // Jeffer \r\n\r\n        tableProductos.on('click', '.producto-action', event => {\r\n            if (event.target.matches(\".producto-asignar\")) {\r\n                if (!event.target['checked']) {\r\n                    console.log(event.target);\r\n                    this.DesAsignar(event.target, event.target.dataset.productoid);\r\n\r\n                } else {\r\n                    this._productoIdActualizar = event.target.dataset.productoid;\r\n                    this.ModalAsignarProductos(event.target as HTMLElement);\r\n                    this._estadoProducto = event.target;\r\n                }\r\n\r\n            } else if (event.target.matches(\".producto-detail\")) {\r\n                this.DatosProductoVigencia(event.target.dataset.productoid, true);\r\n\r\n            } else if (event.target.matches(\".producto-edit\")) {\r\n                console.log(\"jeffer\");\r\n                console.log((event.target as HTMLElement).closest(\"tr\").querySelector<HTMLInputElement>(\"input[type='checkbox']\").checked);\r\n                if ((event.target as HTMLElement).closest(\"tr\").querySelector<HTMLInputElement>(\"input[type='checkbox']\").checked) {\r\n                    this.DatosProductoVigencia(event.target.dataset.productoid, false);\r\n                } else {\r\n                    M.toast({ html: \"No se puede editar un producto sin asignación\", classes: \"error\" });\r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n    // Jeffer\r\n    // ABRIR MODAL PARA EDITAR ASIGNACION PRODUCTO\r\n    private DatosProductoVigencia(idProducto: string, lectura: boolean) {\r\n        // Falta ID Terminal to do\r\n        var payload = { IdProducto: idProducto, IdTerminal: this._terminalIdActualizar, Lectura: lectura };\r\n        console.log(\"editando\");\r\n        console.log(payload);\r\n        this._productoIdActualizar = idProducto;\r\n        this._httpService.Post<string>(this._baseUrl + \"/DatosProductoTerminal\", payload, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicilizarFormRecetas(false);\r\n            });\r\n\r\n        this._modalInstance.open();\r\n    }\r\n\r\n    // Jeffer\r\n    private async DesAsignar(check, idProducto) {\r\n\r\n        let shouldDelete = false;\r\n        const confirm = new ConfirmModalMessage(\"Cambio de clase\", \"Esta acción borrara todas las recetas\", \"Aceptar\", \"Cancelar\");\r\n        shouldDelete = await confirm.Confirm();\r\n        if (shouldDelete) {\r\n            this.DesAsignarProducto(check, idProducto);\r\n        } else {\r\n            check.checked = true;\r\n        }\r\n    }\r\n\r\n    // Jeffer, este es el metodo que llama al controlador\r\n    private DesAsignarProducto(checkElement, idProducto) {\r\n        // Falta id terminal\r\n        var payload = { IdProducto: idProducto, IdTerminal: this._terminalIdActualizar };\r\n        this._httpService.Post<IMessageResponse>(this._baseUrl + \"/DesasignarProducto\", payload, true)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    checkElement.checked = false;\r\n                    M.toast({ html: \"Se desasigno correctamente el producto\", classes: \"succes\" });\r\n                } else {\r\n                    M.toast({ html: \"No se pudo desasignar\", classes: \"error\" });\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    // Borra una vigencia\r\n    private DesActivarVigencia(element: HTMLElement): void {\r\n        var padre = document.getElementById(\"vigencia-\" + element.dataset.recetaid);\r\n        var card = document.getElementById(\"responsible-table\");\r\n        padre.removeChild(card);\r\n    }\r\n\r\n    public Contar() {\r\n        let index = document.getElementsByClassName('vigencia');\r\n        this._index = index.length;\r\n    }\r\n\r\n    private ActivarVigencia(element: HTMLElement): void {\r\n        this.Contar();\r\n        let idReceta = element.dataset.recetaName;\r\n        let recetaId = element.dataset.recetaid;\r\n        let container = document.getElementById(\"vigencia-\" + recetaId);\r\n        var card = document.createElement(\"div\");\r\n        card.classList.add('card');\r\n        card.classList.add('card-default');\r\n        card.classList.add('scrollspy');\r\n        card.setAttribute('id', 'responsible-table');\r\n        card.innerHTML = '<div class=\"card-content vigencia\">' +\r\n            '<div class=\"row\">' +\r\n            '<div class=\"col s6\">' +\r\n            '<p class=\"mb-2\">' +\r\n            'Vigencia' +\r\n            '</p>' +\r\n            '</div>' +\r\n            '<div class=\"col s6\" style=\"text-align: end\">' +\r\n            '<a class=\"btn-floating waves-effect waves-light blue accent-2\" style=\"text-align: center; margin-top: 10px; height: 30px; width: 30px;\">' +\r\n            `<i class=\"material-icons receta-action vigencia-add\" data-vigenciaid=\"${recetaId}\" data-receta-name=\"${recetaId}\" style=\"font-size: 20px; display: flex; margin: -5px 0px 0px 5px\"> add </i>` +\r\n            '</a>' +\r\n            '</div>' +\r\n            '</div>' +\r\n            '<div class=\"row\">' +\r\n            '<div class=\"col s12\">' +\r\n            `<table class=\"Highlight\" id=\"table-vigencia-${recetaId}\">` +\r\n            '<thead>' +\r\n            '<tr>' +\r\n            '<th><b>Fecha Inicio </b></th> ' +\r\n            '<th><b>Fecha Expiración </b></th> ' +\r\n            '<th><b>Activo</b></th> ' +\r\n            '<th><b>Acción</b></th> ' +\r\n            '</tr>' +\r\n            '</thead>' +\r\n            '<tbody>' +\r\n            '<tr>' +\r\n            '<td>' +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias.Index\" value=\"${0}\" />` +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias[0].IdTerminal\" value=\"${this._terminalIdActualizar}\"/>` +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias[0].IdProducto\" value=\"${this._productoIdActualizar}\"/>` +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias[0].IdReceta\" value=\"${idReceta}\"/>` +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[0].FechaInicio\" asp-format=\"{0:dd/MMM/yyyy}\" placeholder=\"Fecha\" style=\"width: 45%; margin-right: 5px;\" class=\"datepicker formato-fecha-corta fechaIni\">` +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[0].HoraInicio\" class=\"timepicker horaIni\" placeholder=\"Hora\" style=\"width: 45%;\">` +\r\n            '</td>' +\r\n            '<td>' +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[0].FechaExpiracion\" asp-format=\"{0:dd/MMM/yyyy}\" placeholder=\"Fecha\" style=\"width: 45%; margin-right: 5px;\" class=\"datepicker formato-fecha-corta fechaFin\">` +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[0].HoraExpiracion\" class=\"timepicker horaFin\" placeholder=\"Hora\" style=\"width: 45%;\">` +\r\n            '</td>' +\r\n            '<td style=\"display: -webkit-box; margin-top: 10px;\"> ' +\r\n            '<label> No </label>' +\r\n            '<div class=\"switch\">' +\r\n            '<label>' +\r\n            `<input class=\"activo sv-${recetaId}\" disabled type=\"checkbox\" id=\"sw-${recetaId}-0\">` +\r\n            '<span class=\"lever\"></span>' +\r\n            '</label>' +\r\n            '</div>' +\r\n            '<label> Si </label> </td>' +\r\n            `<td><a class=\"cursor-point\"><i class=\"material-icons receta-action vigencia-delete\" data-switchid='sw-${recetaId}-0' onclick=\"eliminarVigencia(this)\">delete</i></a></td>` +\r\n            '</tr>' +\r\n            '</tbody>' +\r\n            '</table>' +\r\n            '</div>' +\r\n            '</div>' +\r\n            '</div>';\r\n        container.appendChild(card);\r\n        var DatePickers = new DatepickerComponent().GetInstances('.datepicker', undefined, () => { this.UpdateMaskValue() });\r\n        M.Timepicker.init(document.querySelectorAll(\".timepicker\"), this._opcion);\r\n        //M.updateTextFields();\r\n    }\r\n\r\n    private AgregarVigencia(element: HTMLElement): void {\r\n        let vigenciaId = element.dataset.vigenciaid;\r\n        let idReceta = element.dataset.recetaName;\r\n        // Permite obtener el total de vigencias asignadas a una receta\r\n        let index = document.getElementsByClassName(`sv-${vigenciaId}`).length;\r\n\r\n        let table = document.getElementById(\"table-vigencia-\" + vigenciaId) as HTMLTableElement;\r\n        table.insertRow(-1).innerHTML = '<tr><td>' +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias.Index\" value=\"${index}\" />` +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias[${index}].IdTerminal\" value=\"${this._terminalIdActualizar}\" />` +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias[${index}].IdProducto\" value=\"${this._productoIdActualizar}\" />` +\r\n            `<input type=\"hidden\" name=\"Recetas[${this._index}].Vigencias[${index}].IdReceta\" value=\"${idReceta}\"/>` +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[${index}].FechaInicio\" asp-format=\"{0:dd/MMM/yyyy}\" placeholder=\"Fecha\" style=\"width: 45%; margin-right: 5px;\" class=\"datepicker formato-fecha-corta fechaIni\">` +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[${index}].HoraInicio\" class=\"timepicker horaIni\" placeholder=\"Hora\" style=\"width: 45%;\">` +\r\n            '</td>' +\r\n            '<td>' +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[${index}].FechaExpiracion\" asp-format=\"{0:dd/MMM/yyyy}\" placeholder=\"Fecha\" style=\"width: 45%; margin-right: 5px;\" class=\"datepicker formato-fecha-corta fechaFin\">` +\r\n            `<input type=\"text\" name=\"Recetas[${this._index}].Vigencias[${index}].HoraExpiracion\" class=\"timepicker horaFin\" placeholder=\"Hora\" style=\"width: 45%;\">` +\r\n            '</td>' +\r\n            '<td style=\"display: -webkit-box; margin-top: 10px;\">' +\r\n            '<label> No </label>' +\r\n            '<div class=\"switch\">' +\r\n            '<label> ' +\r\n            `<input class=\"activo sv-${vigenciaId}\" disabled type=\"checkbox\" id=\"sw-${index}-${index}\">` +\r\n            '<span class=\"lever\"> </span>' +\r\n            '</label>' +\r\n            '</div>' +\r\n            '<label> Si </label>' +\r\n            '</td>' +\r\n            `<td><a class=\"cursor-point\"><i class=\"material-icons receta-action vigencia-delete\" data-switchid='sw-${vigenciaId}-${index}' onclick=\"eliminarVigencia(this)\">delete</i></a></td></tr>`;\r\n        var DatePickers = new DatepickerComponent().GetInstances('.datepicker', undefined, () => { this.UpdateMaskValue() });\r\n        M.Timepicker.init(document.querySelectorAll(\".timepicker\"), this._opcion);\r\n        //M.updateTextFields();\r\n    }\r\n\r\n    // Jeffer\r\n    //Extraer terminal de formulario revisar\r\n    private ExtraerTerminal(): Terminal {\r\n        let terminal = new Terminal();\r\n\r\n        terminal.IdTerminal = this._formData.get(\"IdTerminal\")?.toString();\r\n        console.log('Terminal Antes:', this._terminalIdActualizar);\r\n        console.log('Terminal Despues:', terminal.IdTerminal);\r\n        console.log(terminal.IdTerminal);\r\n        this._terminalIdActualizar = terminal.IdTerminal;\r\n        terminal.Nombre = this._formData.get(\"Nombre\")?.toString();\r\n\r\n        return terminal;\r\n    }\r\n\r\n    //Extraer Producto de formulario\r\n    //private ExtraerProducto(): Producto {\r\n    //    let producto = new Producto();\r\n    private ExtraerProducto() {\r\n        let producto;\r\n\r\n        producto.IdProducto = this._productoIdActualizar;\r\n        producto.NombreCorto = this._formData.get(\"NombreCorto\")?.toString();\r\n        producto.Estado = this._formData.get(\"Estado\")?.toString();\r\n        producto.Tipo = this._formData.get(\"IdTipo\")?.toString();\r\n        producto.Clase = this._formData.get(\"IdClase\")?.toString();\r\n        producto.SICOM = this._formData.get(\"Sicom\")?.toString();\r\n\r\n        return producto;\r\n    }\r\n\r\n    // Jeffer\r\n    // Actualizar producto en datatable\r\n    private ActualizarFilaDatatableProducto(producto) {\r\n        let row = $(\"tr#\" + producto.IdProducto);\r\n        var cond = this._TableProductos.row(row).data();\r\n        let recetas;\r\n        for (var i = 0; i < producto.Recetas.lenght; i++) {\r\n            if (true) {\r\n                recetas = recetas + `<span class=\"chip lighten-5 green green-text\">${producto.Recetas}</span>`\r\n            } else {\r\n                recetas = recetas + `<span class=\"chip lighten-5 red red-text\">${producto.Recetas}</span>`\r\n            }\r\n        }\r\n        cond[0] = '<label class=\"checkbox-label\">' +\r\n            '<input type=\"checkbox\" name=\"foo\" class=\"producto-action producto-asignar\" data-productoid=\"1\"/>' +\r\n            '<span></span>' +\r\n            '</label>';\r\n        cond[1] = `<i class=\"material-icons\" style=\"color: black\">home</i>`;\r\n        cond[4] = recetas;\r\n        this._TableProductos.row(row).data(cond);\r\n    }\r\n\r\n    //Cerrar Modal\r\n    private CerrarModal() {\r\n        this._modalInstance.close();\r\n        this._formCompania.parentNode.removeChild(this._formCompania);\r\n    }\r\n\r\n    private CerrarModalRecetas(estado?) {\r\n        if (estado != undefined) {\r\n            estado.checked = false;\r\n        }\r\n        this._modalInstance.close();\r\n    }\r\n\r\n    private FormatoFecha(fechaOriginal) {\r\n        var MesActual = fechaOriginal.split(\"/\")[1];\r\n        switch (MesActual) {\r\n            case \"ene\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"01\");\r\n                break;\r\n            case \"feb\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"02\");\r\n                break;\r\n            case \"mar\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"03\");\r\n                break;\r\n            case \"abr\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"04\");\r\n                break;\r\n            case \"may\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"05\");\r\n                break;\r\n            case \"jun\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"06\");\r\n                break;\r\n            case \"jul\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"07\");\r\n                break;\r\n            case \"ago\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"08\");\r\n                break;\r\n            case \"sep\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"09\");\r\n                break;\r\n            case \"oct\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"10\");\r\n                break;\r\n            case \"nov\":\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"11\");\r\n                break;\r\n            default:\r\n                fechaOriginal = fechaOriginal.replace(MesActual, \"12\");\r\n                break;\r\n        }\r\n        return fechaOriginal;\r\n    }\r\n\r\n    //Formatear inputs\r\n    private RegistrarFormatos() {\r\n        //registrar mascaras \r\n        this.RegisterMasks(\r\n            [\r\n                MaskFormats.DateShortFormat()\r\n            ]);\r\n    }\r\n\r\n    private UpdateMaskValue() {\r\n        this.MaskManager.UpdateValue([\".formato-fecha-corta\"])\r\n    }\r\n}","import { HttpFetchService, IMessageResponse, Terminal } from '../../Shared';\r\nimport { ConfirmModalMessage } from '../../Shared/Components/ConfirmModalMessage';\r\nimport { ConfigureDataTable } from '../../Shared/Components/ConfigureDataTable';\r\nimport { TerminalesGestionPage } from './GestionTerminales';\r\nimport { JQValidations } from '../../Shared/Utils/JQValidations';\r\nimport { SelectorMenu } from '../../Shared/Utils/SelectorMenu';\r\nimport { IPage } from '../../Shared/Components/IPage';\r\nimport { Page } from '../../Core/Page';\r\n\r\nexport class TerminalesPage extends Page {\r\n\r\n    private gestionTerminales: TerminalesGestionPage;\r\n\r\n    constructor() {\r\n        super();\r\n        this.BaseUrl = \"/Terminales/Index\";\r\n        this.Init();\r\n    }\r\n\r\n    public Destroy() {\r\n        super.Destroy();\r\n        //this.Table.destroy(false);\r\n    }\r\n\r\n    public Init() {\r\n        this.InicializarButtons();\r\n        this.InicializarControls();\r\n        this.GetPermissions(\"/Terminales/ObtenerPermisos\");\r\n    }\r\n\r\n    private InicializarControls() {\r\n        SelectorMenu.SeleccionEnElMenu();\r\n        this.gestionTerminales = new TerminalesGestionPage(document.getElementById(\"terminal-modal\"));\r\n        this.gestionTerminales.onTerminalCreado = (terminal) => this.AgregarFilaDatatable(terminal);\r\n        this.gestionTerminales.onTerminalActualizado = (terminal) => this.ActualizarFilaDatatable(terminal);\r\n        JQValidations.MaxFileSizeValidation();\r\n        JQValidations.AllowedExtensionsValidation();\r\n    }\r\n\r\n    private InicializarButtons() {\r\n        var card = document.getElementById(\"kanba\");\r\n        var terminalAdd = document.getElementById(\"terminal-add\");\r\n\r\n        card.on('click', '.terminal-action', event => {\r\n            if (event.target.matches(\".terminal-edit\"))\r\n                this.EditarTerminal(event.target as HTMLElement);\r\n\r\n            else if (event.target.matches(\".terminal-delete\"))\r\n                this.BorrarTerminal(event.target as HTMLElement);\r\n        });\r\n        terminalAdd.addEventListener('click', event => this.CrearTerminal());\r\n    }\r\n\r\n    private async BorrarTerminal(element: HTMLElement) {\r\n        let terminalId = element.dataset.terminalid;\r\n        let terminalName = element.dataset.terminalname;\r\n        const confirm = new ConfirmModalMessage(\"Eliminar Terminal\", \"¿Desea eliminar la Terminal \" + terminalName + \"?\", \"Aceptar\", \"Cancelar\");\r\n        const shouldDelete = await confirm.Confirm();\r\n        if (shouldDelete) {\r\n            const httpService = new HttpFetchService();\r\n            httpService.Post<IMessageResponse>('/Terminales/BorrarTerminal', terminalId)\r\n                .then((data) => {\r\n                    if (data.Result)\r\n                        this.BoorarTerminalKanba(element.dataset.terminalid);\r\n                    M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n                }).catch((error) => {\r\n                    M.toast({ html: error, classes: \"error\" });\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    private CrearTerminal() {\r\n        this.gestionTerminales.NuevaTerminal();\r\n    }\r\n\r\n    private EditarTerminal(element: HTMLElement): void {\r\n        this.gestionTerminales.DatosTerminal(element.dataset.terminalid, false);\r\n    }\r\n\r\n    //Funcion para borrar una terminal\r\n    private BoorarTerminalKanba(idTerminal) {\r\n        var padre = document.getElementById(\"kanba\");\r\n        var card = document.getElementById(idTerminal);\r\n        padre.removeChild(card);\r\n    }\r\n\r\n    // agregar una nueva terminal\r\n    private AgregarFilaDatatable(terminal: Terminal) {\r\n\r\n    }\r\n\r\n    // Actualizar una terminal\r\n    private ActualizarFilaDatatable(terminal: Terminal) {\r\n\r\n    }\r\n\r\n    //Obtiene clase disable dependiendo del permiso\r\n    private DisableAction(habilitado: boolean): string {\r\n        return habilitado ? \"\" : \"disable-action\";\r\n    }\r\n}\r\n\r\nvar terminalesPage = new TerminalesPage();\r\n\r\n// Called after every non-initial page load\r\ndocument.addEventListener('turbolinks:render', (e: any) => {\r\n    if (document.URL.indexOf('/Terminales/Index') != -1) {\r\n        if (terminalesPage) {\r\n            terminalesPage.Init();\r\n        }\r\n        else {\r\n            terminalesPage = new TerminalesPage();\r\n        }\r\n        //console.log(e.data.url);\r\n    }\r\n    else\r\n        terminalesPage?.Destroy();\r\n});","//import 'datatables.net';\r\nimport 'datatables.net-responsive';\r\n\r\nexport class ConfigureDataTable {\r\n\r\n    public Configure(id: string, columns?: DataTables.ColumnDefsSettings[]): DataTables.Api {\r\n        \r\n        let table = $(id).DataTable({\r\n            columnDefs: columns,\r\n            destroy: true,\r\n            responsive: true,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n\r\n        this.FilterGlobal(table);\r\n\r\n        return table;\r\n    }\r\n\r\n    public ConfigureScrollX(id: string, columns?: DataTables.ColumnSettings[], columnsDef?: DataTables.ColumnDefsSettings[], inputId?): DataTables.Api {\r\n\r\n        let table = $(id).DataTable({\r\n            columnDefs: columnsDef,\r\n            columns: columns,\r\n            destroy: true,\r\n            scrollX: true,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n\r\n        this.FilterGlobal(table, inputId);\r\n\r\n        return table;\r\n    }\r\n\r\n    public ConfigureScrollXSinInfo(id: string, columns?: DataTables.ColumnDefsSettings[]): DataTables.Api {\r\n\r\n        let table = $(id).DataTable({\r\n            columnDefs: columns,\r\n            destroy: true,\r\n            scrollX: true,\r\n            paging: false,\r\n            ordering: false,\r\n            searching: false,\r\n            info: false,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n        return table;\r\n    }\r\n\r\n    private FilterGlobal(table: DataTables.Api, input?) {\r\n\r\n        if (input) {\r\n            $(`input#${input}`).on(\"keyup click\", function () {\r\n                table.search($(`#${input}`).val().toString(), $(\"#global_regex\").prop(\"checked\"), $(\"#global_smart\").prop(\"checked\")).draw();\r\n            });\r\n        } else {\r\n            $(\"input#global_filter\").on(\"keyup click\", function () {\r\n                table.search($(\"#global_filter\").val().toString(), $(\"#global_regex\").prop(\"checked\"), $(\"#global_smart\").prop(\"checked\")).draw();\r\n            });\r\n        }\r\n\r\n        $(\"input.column_filter\").on(\"keyup click\", function () {\r\n            let column = $(this).parents(\"tr\").attr(\"data-column\");\r\n            table.column(column)\r\n                .search(\r\n                    $(\"#col\" + column + \"_filter\").val().toString(),\r\n                    $(\"#col\" + column + \"_regex\").prop(\"checked\"),\r\n                    $(\"#col\" + column + \"_smart\").prop(\"checked\")\r\n                )\r\n                .draw()\r\n        });\r\n    }\r\n\r\n}","export class ConfirmModalMessage {\r\n\r\n    private parent: HTMLElement;\r\n    private modal: HTMLElement;\r\n    private acceptButton: HTMLButtonElement;\r\n    private dismissButton: HTMLButtonElement;\r\n    private modalInstance: M.Modal;\r\n    private idMesssage: string;\r\n\r\n    constructor(public title: string,\r\n        public message: string,\r\n        public acceptText: string,\r\n        public dismissText: string) {\r\n\r\n        this.idMesssage = \"confirm-message\";\r\n        this.parent = document.body;\r\n        this.CreateModal();\r\n        this.AppendModel();\r\n    }\r\n\r\n    private CreateModal() {\r\n        this.modal = document.createElement(\"div\");\r\n        this.modal.id = this.idMesssage;\r\n        this.modal.classList.add(\"modal\", \"modal-fixed-footer\", \"modal-confirm-message-small\");\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"modal-content\");\r\n        this.modal.appendChild(content);\r\n\r\n        const header = document.createElement(\"h5\");\r\n        header.textContent = this.title;\r\n        content.appendChild(header);\r\n\r\n        const message = document.createElement(\"p\");\r\n        message.textContent = this.message;\r\n        content.appendChild(message);\r\n\r\n        const buttonGroup = document.createElement(\"div\");\r\n        buttonGroup.classList.add(\"modal-footer\");\r\n        this.modal.appendChild(buttonGroup);\r\n\r\n        this.dismissButton = document.createElement(\"button\");\r\n        this.dismissButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.dismissButton.type = \"button\";\r\n        this.dismissButton.textContent = this.dismissText;\r\n        buttonGroup.appendChild(this.dismissButton);\r\n\r\n        this.acceptButton = document.createElement(\"button\");\r\n        this.acceptButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.acceptButton.type = \"button\";\r\n        this.acceptButton.textContent = this.acceptText;\r\n        buttonGroup.appendChild(this.acceptButton);\r\n    }\r\n\r\n    private AppendModel() {\r\n        this.parent.appendChild(this.modal);\r\n    }\r\n\r\n    private destroy() {\r\n        if (this.modalInstance) {\r\n            this.modalInstance.close();\r\n            this.modalInstance.destroy();\r\n        }\r\n\r\n        var elem = document.querySelector(\"#\" + this.idMesssage);\r\n        elem.parentNode.removeChild(elem);\r\n    }\r\n\r\n    public async Confirm() {\r\n        return new Promise<boolean>((resolve, reject) => {\r\n\r\n            const somethingWentWrongUponCreation =\r\n                !this.modal || !this.acceptButton || !this.dismissButton;\r\n            if (somethingWentWrongUponCreation) {\r\n                this.destroy();\r\n                reject(\"Fallo algo en la creación del mensaje\");\r\n            }\r\n\r\n            M.Modal.init(this.modal, {\r\n                dismissible: false,\r\n                opacity: .5,\r\n                inDuration: 300,\r\n                outDuration: 200,\r\n                startingTop: '6%',\r\n                endingTop: '8%'\r\n            });\r\n            this.modalInstance = M.Modal.getInstance(this.modal);\r\n            this.modalInstance.open();\r\n\r\n            this.acceptButton.addEventListener(\"click\", () => {\r\n                resolve(true);\r\n                this.destroy();\r\n            });\r\n\r\n            this.dismissButton.addEventListener(\"click\", () => {\r\n                resolve(false);\r\n                this.destroy();\r\n            });\r\n        });\r\n    }\r\n}","export class DatepickerComponent {\r\n\r\n    public GetInstances2(selector: string, options?: Partial<M.DatepickerOptions>) {\r\n        let elements = document.querySelectorAll(selector);\r\n        let instances = M.Datepicker.init(elements, this.ConfigBasics(options));\r\n        return instances[0];\r\n    }\r\n\r\n    private ConfigBasics(options?: Partial<M.DatepickerOptions>) {\r\n        if (!options) {\r\n            options = {\r\n                format: 'dd/mmm/yyyy',\r\n                container: document.body,\r\n                autoClose: true,\r\n                i18n: {\r\n                    cancel: 'Cancelar',\r\n                    clear: 'Limpiar',\r\n                    done: 'Aceptar',\r\n                    months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                    monthsShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\r\n                    weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],\r\n                    weekdaysAbbrev: ['D', 'L', 'M', 'M', 'J', 'V', 'S']\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            options.format = 'dd/mmm/yyyy';\r\n            options.container = document.body;\r\n            options.autoClose = true;\r\n            options.i18n = {\r\n                cancel: 'Cancelar',\r\n                clear: 'Limpiar',\r\n                done: 'Aceptar',\r\n                months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                monthsShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\r\n                weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],\r\n                weekdaysAbbrev: ['D', 'L', 'M', 'M', 'J', 'V', 'S']\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    public GetInstances(selector: string, onSelect?: (newDate: Date) => void, onClose?: () => void, onDraw?: () => void) {\r\n        let elements = document.querySelectorAll(selector);\r\n        let instances = M.Datepicker.init(elements, {\r\n            format: 'dd/mmm/yyyy',\r\n            container: document.body,\r\n            autoClose: true,\r\n            i18n: {\r\n                cancel: 'Cancelar',\r\n                clear: 'Limpiar',\r\n                done: 'Aceptar',\r\n                months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                monthsShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\r\n                weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab']\r\n            },            \r\n            onSelect: function (selectedDate) {\r\n                if (onSelect !== undefined) { onSelect(selectedDate) }\r\n            },\r\n            onClose: function () {\r\n                if (onClose !== undefined) { onClose() }\r\n            },\r\n        });\r\n\r\n        return instances;\r\n    };\r\n    public GetInstances3(selector: string, onSelect?: (newDate: Date) => void, onClose?: () => void) {\r\n        let elements = document.querySelectorAll(selector);\r\n        let instances = M.Datepicker.init(elements, {\r\n            format: 'yyyy/mm/dd',\r\n            container: document.body,\r\n            autoClose: true,\r\n            i18n: {\r\n                cancel: 'Cancelar',\r\n                clear: 'Limpiar',\r\n                done: 'Aceptar',\r\n                months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab']\r\n            },\r\n            onSelect: function (selectedDate) {\r\n                if (onSelect !== undefined) { onSelect(selectedDate) }\r\n            },\r\n            onClose: function () {\r\n                if (onClose !== undefined) { onClose() }\r\n            },\r\n        });\r\n\r\n        return instances;\r\n    }\r\n\r\n}","// Base class for Http operations GET, PUT, POST, DELETE, PATCH!!\r\nexport class HttpFetchService {\r\n\r\n    public Post<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostForm<U>(url: string, payload: any, token: string, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'RequestVerificationToken': token },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostFormURL<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n}","import { HttpFetchService } from \"./HttpFetchService\";\r\n\r\nexport const services = [HttpFetchService];\r\n\r\nexport * from \"./HttpFetchService\";","export class ActionsPermission {\r\n    IdArea: string;\r\n    Nombre: string;\r\n    Crear: boolean;\r\n    Borrar: boolean;\r\n    Editar: boolean;\r\n    Detalles: boolean;\r\n    Exportar: boolean;\r\n    Importar: boolean;\r\n}","export class Area {\r\n    IdArea: string;\r\n    Nombre: string;\r\n}","export class Cabezote {\r\n    Placa: string;\r\n}","export class Compañia {\r\n     IdCompañia: string;\r\n     Nombre: string;\r\n     SalesOrganization: string;\r\n     DistributionChannel: string;\r\n     Division: string;\r\n     SupplierType: string;\r\n     CodigoSICOM: string\r\n}","export class Conductor {\r\n    Nombre: string;\r\n    Cedula: string;\r\n}","export class Contador {\r\n    IdContador: string;    \r\n}","\r\nexport class Despacho {\r\n    Value: string;\r\n    Text: string;\r\n    Id_Despacho: string;\r\n    Placa_Cabezote: string;\r\n    Placa_Trailer: string;\r\n    Volumen_Ordenado: string;\r\n    Volumen_Cargado: string;\r\n    Cedula_Conductor: string;\r\n}","export class FechasCorteDTO {\r\n    Fecha: Date;\r\n    Cierre: boolean;\r\n}","import { LineaEstado } from \"./LineaEstado\";\r\n\r\nexport class Linea {\r\n    Linea: string;\r\n    Idlinea: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    Producto: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n    Capacidad: number;\r\n    DensidadAforo: number;\r\n    Observaciones: string;\r\n}","export class Log {\r\n    Id: string;\r\n    FechaEvento: string;\r\n    Aplicacion: string\r\n    Area: string\r\n    Seccion: string\r\n    Accion: string\r\n    Objetivo: string\r\n    Entidad: string\r\n    Prioridad: string\r\n    Comentario: string\r\n}","export class MapeoArchivos {\r\n    Paso1Data: Paso1Mapeo;\r\n    Paso2Data: Paso2Mapeo;\r\n}\r\n\r\nexport class Paso1Mapeo {\r\n    IdMapeo: string;\r\n    Descripcion: string;\r\n    Separador: string;\r\n    OtroCaracter: string;\r\n    Archivo: File;\r\n}\r\n\r\nexport class Paso2Mapeo {\r\n    Columnas: string[];\r\n    TableStep2: DataTables.Api;\r\n}","import { ProductoTipo } from \"./ProductoTipo\";\r\n\r\nexport class Producto {\r\n    IdProducto: string;\r\n    NombreCorto: string;\r\n    NombreERP: string;\r\n    Icono: string;\r\n    Estado: string;\r\n    Tipo: string;\r\n    Clase: string;\r\n    SICOM: string;\r\n    IdTipoNavigation: ProductoTipo;\r\n}","export class Proveedor {\r\n    IdProveedor: string;\r\n    NombreProveedor: string;\r\n    SicomProveedor: string;\r\n}","export class Rol {\r\n    IdRol: string;\r\n    Nombre: string;\r\n    Descripcion: string;\r\n}","import { TanquesEstado } from \"./TanquesEstado\";\r\n\r\nexport class Tanque {\r\n    IconoProducto: string;\r\n    IconoColor: string;\r\n    Tanque: string;\r\n    Producto: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    ClaseTanque: string;\r\n    ClaseColor: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n\r\n    TipoTanque: string;\r\n    CapacidadNominal: number;\r\n    CapacidadOperativa: number;\r\n    VolumenNoBombeable: number;\r\n    AlturaMaximaAforo: number;\r\n    AforadoPor: string;\r\n    FechaAforo: Date;\r\n    PantallaFlotante: string;\r\n    Observaciones: string;\r\n    DensidadAforo: number;\r\n    GalonesPorGrado: number;\r\n    NivelCorreccionInicial: number;\r\n    NivelCorreccionFinal: number;\r\n    \r\n}","export class Terminal {\r\n    IdTerminal: string;\r\n    Nombre: string;\r\n    Direccion: string;\r\n    Telefono: string;\r\n    Superintendente: string;\r\n    Estado: string;\r\n    Area: string;\r\n    CentroCosto: string;\r\n    Poliducto: string;\r\n    TipoInforme: string;\r\n    IdCompania: string;\r\n}","export class Trailer {\r\n    Placa: string;\r\n}","export class Usuario {\r\n    Imagen: File;\r\n    IdUsuario: string;\r\n    Nombre: string;\r\n    Rol: string;\r\n    Email: string;\r\n    Telefono: string;\r\n}","import { IMessageResponse } from \"./MessageResponse\";\r\nimport { Usuario } from \"./Usuario\";\r\nimport { Cabezote } from \"./Cabezote\";\r\nimport { Trailer } from \"./Trailer\";\r\nimport { Conductor } from \"./Conductor\";\r\nimport { Area } from \"./Area\";\r\nimport { Compañia } from \"./Compañia\";\r\nimport { Log } from \"./Log\";\r\nimport { Linea } from \"./Linea\";\r\nimport { Rol } from \"./Rol\";\r\nimport { Terminal } from \"./Terminal\";\r\nimport { Tanque } from \"./Tanque\";\r\nimport { Contador } from \"./Contador\";\r\nimport { Proveedor } from \"./Proveedor\";\r\nimport { MapeoArchivos } from \"./ProcesamientoArchivos\";\r\nimport { Producto } from \"./Producto\";\r\nimport { Despacho } from \"./Despacho\";\r\nimport { FechasCorteDTO } from \"./FechasCorteDTO\";\r\n\r\nexport const models = [Usuario, Cabezote, Trailer, Conductor, Area, Log, Rol, Compañia, Terminal, Tanque, Contador, Linea, Proveedor, MapeoArchivos, Producto, Despacho, FechasCorteDTO];\r\n\r\nexport * from \"./MessageResponse\";\r\nexport * from \"./Usuario\";\r\nexport * from \"./Cabezote\";\r\nexport * from \"./Trailer\";\r\nexport * from \"./Conductor\";\r\nexport * from \"./Area\";\r\nexport * from \"./Linea\";\r\nexport * from \"./Compañia\";\r\nexport * from \"./Rol\";\r\nexport * from \"./Terminal\";\r\nexport * from \"./Tanque\";\r\nexport * from \"./Contador\";\r\nexport * from \"./Log\";\r\nexport * from \"./Proveedor\";\r\nexport * from \"./ProcesamientoArchivos\";\r\nexport * from \"./Producto\";\r\nexport * from \"./Despacho\";\r\nexport * from \"./FechasCorteDTO\";\r\n","declare global {\r\n    interface HTMLElement {\r\n        on(eventType: string, childSelector: string, eventHandler: any): void;\r\n    }\r\n}\r\n\r\nHTMLElement.prototype.on = function (eventType: string, childSelector: string, eventHandler: any): void {\r\n    this.addEventListener(eventType, eventOnElement => {\r\n        if (eventOnElement.target.matches(childSelector)) {\r\n            eventHandler(eventOnElement);\r\n        } else {\r\n            //console.log(eventOnElement.target);\r\n        }\r\n    })\r\n}\r\n\r\nexport { };","import \"jquery-validation\";\r\nimport \"jquery-validation-unobtrusive\";\r\n\r\nexport class JQValidations {\r\n\r\n    public static MaxFileSizeValidation(): void {\r\n        if ($.validator.methods['maxfilesize'])\r\n            return;\r\n\r\n        $.validator.addMethod('maxfilesize', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let size = params, file = (input.files[0] as File);\r\n\r\n            if (file) {\r\n                if ((file.size / 1024) > size) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('maxfilesize', ['size'], function (options) {\r\n            //console.log(\"registra maxfilesize en unobtrusive\");\r\n            options.rules['maxfilesize'] = options.params['size'];\r\n            options.messages['maxfilesize'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static AllowedExtensionsValidation(): void {\r\n        if ($.validator.methods['allowedextensions'])\r\n            return;\r\n\r\n        $.validator.addMethod('allowedextensions', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let exts = params, file = (input.files[0] as File);\r\n            let extsArray = exts.split(',');\r\n\r\n            if (file) {\r\n                if ((new RegExp('(' + extsArray.join('|').replace(/\\./g, '\\\\.') + ')$')).test(value)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('allowedextensions', ['exts'], function (options) {\r\n            options.rules['allowedextensions'] = options.params['exts'];\r\n            options.messages['allowedextensions'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static NotEqualValidation(): void {\r\n        if ($.validator.methods['notequal'])\r\n            return;\r\n\r\n        $.validator.addMethod('notequal', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let IdName = params, ActualValue = (input.value as string);\r\n            let Id = (<HTMLInputElement>document.getElementById(IdName)).value;\r\n\r\n            //console.log(\"ActualValue: \" + ActualValue);\r\n            //console.log(\"size: \" + IdName);\r\n            //console.log(\"input: \" + input);\r\n            //console.log(\"value: \" + value);\r\n            //console.log(\"Id: \" + Id);\r\n\r\n            if (ActualValue) {\r\n                if (ActualValue == Id) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('notequal', ['IdinputTocompare'], function (options) {\r\n            options.rules['notequal'] = options.params['IdinputTocompare'];\r\n            options.messages['notequal'] = options.message;\r\n        });\r\n    }\r\n}","import { format, parse, parseISO, toDate } from \"date-fns\";\r\nimport IMask, { InputMask, Masked, MaskedDate, MaskedDynamic, MaskedNumber } from \"imask\";\r\n\r\nexport class MaskFormats {\r\n\r\n    public static IntegerFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-int\",\r\n            Mask: {\r\n                mask: Number,\r\n                scale: 0,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DecimalFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-decimal\",\r\n            Mask: {\r\n                mask: Number,\r\n                scale: 2,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DateShortFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-fecha-corta\",\r\n            Mask: {\r\n                mask: '00{/}MMM{/}0000',\r\n                overwrite: true,\r\n                autofix: true,\r\n                blocks:\r\n                {\r\n                    MMM: {\r\n                        mask: IMask.MaskedEnum,\r\n                        enum: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic']\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DateLongFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-fecha-larga\",\r\n            Mask: {\r\n                mask: '00{/}MMM{/}0000{ }HH{:}TT{:}TT',\r\n                overwrite: true,\r\n                autofix: true,\r\n                blocks:\r\n                {\r\n                    MMM: {\r\n                        mask: IMask.MaskedEnum,\r\n                        enum: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic']\r\n                    },\r\n                    HH: {\r\n                        mask: IMask.MaskedRange,\r\n                        from: 0,\r\n                        to: 24\r\n                    },\r\n                    TT: {\r\n                        mask: IMask.MaskedRange,\r\n                        from: 0,\r\n                        to: 59\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    public static IntegerFormatRang(selector, rangoMinimo, rangoMaximo): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: Number,\r\n                min: rangoMinimo,\r\n                max: rangoMaximo,\r\n                scale: 0,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DecimalFormatRang(selector, rangoMinimo, rangoMaximo): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: Number,\r\n                min: rangoMinimo,\r\n                max: rangoMaximo,\r\n                scale: 2,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static Alfanumerico(selector): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {   \r\n                mask: /^[a-z0-9]+$/i,\r\n                lazy: false\r\n            }\r\n        };\r\n    }\r\n\r\n    public static NumericoSinSignos(selector): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: /^[0-9]+$/i,\r\n                lazy: false\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport interface IMaskFormat {\r\n    Selector: string;\r\n    Mask: any | IMask.AnyMaskedOptions | IMask.AnyMaskedOptionsMasked | IMask.MaskedOptions<typeof Masked>;\r\n}","import IMask, { InputMask, Masked, MaskedNumber } from \"imask\";\r\nimport { IMaskFormat } from \"./MaskFormats\";\r\n\r\nexport class MaskFormatsManager {\r\n\r\n    private Masks: Array<IMaskFormat>;\r\n    private FormatElements: Array<IMaskElement>;\r\n\r\n    constructor() {\r\n        this.FormatElements = new Array<IMaskElement>();\r\n    }\r\n\r\n    public RegisterMasks(masks: Array<IMaskFormat>) {\r\n        this.CleanAll();\r\n        this.Masks = masks;\r\n    }\r\n\r\n    public ApplyMasks() {\r\n\r\n        this.CleanFormats();\r\n\r\n        this.Masks?.forEach((element, index, object) => {\r\n            this.ApplyFormat(element);\r\n        });\r\n    }\r\n\r\n    public AddApplyMask(mask: IMaskFormat) {\r\n        this.Masks.push(mask);\r\n        this.ApplyFormat(mask);\r\n    }\r\n\r\n    public UnmaskFormats() {\r\n        this.FormatElements?.forEach((element, index, object) => {\r\n            element.MaskInput.el['input'].value = element.MaskInput.unmaskedValue;\r\n            element.MaskInput.masked.reset();\r\n        });\r\n    }\r\n\r\n    public SetUnmaskedFormValue(formData: FormData) {\r\n\r\n        this.FormatElements?.forEach((element, index, object) => {\r\n            formData.set(element.MaskInput.el['input'].name, element.MaskInput.unmaskedValue);\r\n            element.MaskInput.masked.reset();\r\n        });\r\n    }\r\n\r\n    public UpdateValue(selectors: string[]) {\r\n\r\n        if (selectors?.length > 0) {\r\n            selectors.forEach((val) => {\r\n                let formatEl = this.FormatElements.filter(e => e.Selector === val);\r\n                if (formatEl?.length > 0) {\r\n                    formatEl.forEach((el) => {\r\n                        el.MaskInput.updateValue();\r\n                        el.MaskInput.unmaskedValue = el.MaskInput.el.value;\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    private ApplyFormat(mask: IMaskFormat) {\r\n        var fields = document.querySelectorAll<HTMLElement>(mask.Selector);\r\n        fields.forEach((element) => {\r\n            this.FormatElements.push({\r\n                Selector: mask.Selector, MaskInput: IMask(element, mask.Mask)\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    private CleanAll() {\r\n\r\n        if (this.Masks?.length > 0)\r\n            this.Masks.forEach((element, index, object) => {\r\n                object.splice(index, 1);\r\n            });\r\n\r\n        this.CleanFormats();\r\n\r\n    }\r\n\r\n    private CleanFormats() {\r\n        if (this.FormatElements?.length > 0)\r\n            this.FormatElements.forEach((element, index, object) => {\r\n                element.MaskInput.masked.reset();\r\n                element.MaskInput.destroy;\r\n                object.splice(index, 1);\r\n            });\r\n    }\r\n\r\n    public Destroy() {\r\n        this.CleanAll();\r\n        this.Masks = null;\r\n        this.FormatElements = null;\r\n    }\r\n\r\n}\r\n\r\nexport interface IMaskElement {\r\n    Selector: string;\r\n    MaskInput: InputMask<IMask.AnyMaskedOptions>;\r\n}\r\n","\r\nexport class SelectorMenu {\r\n\r\n    public static SeleccionEnElMenu(): void {\r\n        //Poner active a la opción especifica del menu\r\n        let url = location.href;\r\n        let contador = url.indexOf(\"/\", 8);\r\n        let cade = url.substr(contador, url.length);\r\n        let selector = \"a[href$='\" + cade + \"']\";\r\n        $('.nav-list li a').removeClass('active');\r\n\r\n        //Desplegar segundo nivel\r\n        $(\".collapsible-body\").css({ 'display': '' });\r\n        $('.listaPadre').removeClass('active');\r\n        $(selector).addClass('active');\r\n        let identi = $(selector).attr('name');\r\n\r\n        $('#' + identi).addClass('active'); // los que estan debajo de este, con una funcion poner .css({ 'display': 'block' })\r\n        $(\"#\" + identi + \" .collapsible-body\").css({ 'display': 'block' });\r\n\r\n        //Desplegar primer nivel\r\n        let identi2 = $('#' + identi).attr('name');\r\n        $('#' + identi2).addClass('active');\r\n        $(\"#\" + identi2 + \" #\" + identi + \" .collapsible-body\").css({ 'display': 'block' });\r\n        $(\"#\" + identi2 + \" .nivel2\").css({ 'display': 'block' });\r\n        $(\"#\" + identi2 + \" .collapsible-body\").first().css({ 'display': 'block' });\r\n    }\r\n}","import { JQValidations } from \"./JQValidations\";\r\nimport { MaskFormats } from \"./MaskFormats\";\r\nimport { MaskFormatsManager } from \"./MaskFormatsManager\";\r\nexport const components = [JQValidations, MaskFormats, MaskFormatsManager];\r\n\r\nexport * from \"./JQValidations\";\r\nexport * from \"./MaskFormats\";\r\nexport * from \"./MaskFormatsManager\";","export * from './Http';\r\nexport * from './Models';\r\nexport * from './Utils/HTMLExtensions';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {};\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"terminales\": 0\n};\n\nvar deferredModules = [\n\t[\"./Scripts/Pages/Terminales/Terminales.ts\",\"packages\"]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkairosv2\"] = self[\"webpackChunkkairosv2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"sourceRoot":""}