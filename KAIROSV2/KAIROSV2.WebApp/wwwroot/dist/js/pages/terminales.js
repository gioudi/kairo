/*! For license information please see terminales.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.kairosv2=t():e.kairosv2=t()}(self,(function(){return(()=>{"use strict";var e={"./Scripts/Core/Page.ts":(e,t,a)=>{var o=a("./node_modules/jquery/dist/jquery.js");Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var i=a("./node_modules/dayjs/dayjs.min.js"),r=a("./Scripts/Shared/Utils/index.ts");a("./node_modules/dayjs/locale/es-do.js");var n=a("./Scripts/Shared/Models/ActionsPermission.ts"),s=a("./Scripts/Shared/index.ts"),c=a("./node_modules/dayjs/plugin/customParseFormat.js"),l=function(){function e(){i.locale("es-do"),i.extend(c),this.AdjustValidation()}return e.prototype.RegisterMasks=function(e){this.MaskManager||(this.MaskManager=new r.MaskFormatsManager),this.MaskManager.RegisterMasks(e)},e.prototype.GetPermissions=function(e){var t=this;(new s.HttpFetchService).Post(e,"",!0).then((function(e){e&&(t.Permisions=e)})).catch((function(e){t.Permisions=new n.ActionsPermission}))},e.prototype.Destroy=function(){var e;null===(e=this.MaskManager)||void 0===e||e.Destroy()},e.prototype.AdjustValidation=function(){o.validator.methods.range=function(e,t,a){var o=e.replace(",","");return this.optional(t)||o>=a[0]&&o<=a[1]}},e}();t.Page=l},"./Scripts/Pages/Terminales/GestionTerminales.ts":function(e,t,a){var o,i=a("./node_modules/jquery/dist/jquery.js"),r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),n=this&&this.__awaiter||function(e,t,a,o){return new(a||(a=Promise))((function(i,r){function n(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,s)}c((o=o.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var a,o,i,r,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,o=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(!((i=(i=n.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){n=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){n.label=r[1];break}if(6===r[0]&&n.label<i[1]){n.label=i[1],i=r;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(r);break}i[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(e){r=[6,e],o=0}finally{a=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalesGestionPage=void 0;var c=a("./Scripts/Shared/Components/ConfigureDataTable.ts"),l=a("./Scripts/Shared/index.ts"),d=a("./Scripts/Shared/Components/ConfirmModalMessage.ts"),u=a("./Scripts/Shared/Models/Terminal.ts");a("./node_modules/jquery-qubit/jquery.qubit.js"),a("./node_modules/jquery-bonsai/jquery.bonsai.js"),a("./node_modules/jquery-bonsai/jquery.bonsai.css"),a("./node_modules/select2/dist/js/select2.js"),a("./node_modules/select2/dist/css/select2.css");var p=a("./Scripts/Shared/Components/DatepickerComponent.ts"),m=a("./Scripts/Shared/Utils/MaskFormats.ts"),h=function(e){function t(t){var a=e.call(this)||this;return a._baseUrl="/Terminales",a._creado=!1,a._opcion={twelveHour:!1},a._validador=[],a._index=0,a._httpService=new l.HttpFetchService,a._modalBase=t,a.InicializarModal(),a.RegistrarFormatos(),a}return r(t,e),t.prototype.NuevaTerminal=function(){var e=this;this._httpService.Post(this._baseUrl+"/NuevaTerminal",null,!1).then((function(t){document.getElementById("teminales").innerHTML=t,e.InicilizarFormTerminal(!0),e.InicializarButtons()}))},t.prototype.GuardarTerminal=function(){var e,t=this,a=null===(e=this._formData.get("RequestVerificationToken"))||void 0===e?void 0:e.toString();this._httpService.PostForm(this._baseUrl+"/CrearSoloTerminal",this._formData,a).then((function(e){e.Result&&(i("#fieldset-compania").prop("disabled",!1),i("#fieldset-producto").prop("disabled",!1),t.onTerminalCreado&&t.onTerminalCreado(t.ExtraerTerminal()),document.getElementsByTagName("button")[0].innerHTML='Modificar <i class="material-icons left"> save </i>',document.getElementById("terminal-id").setAttribute("readonly","true"),t._creado=!0),M.toast({html:e.Message,classes:e.Result?"succes":"error"})})).catch((function(e){return console.log(e)}))},t.prototype.AsignarVigenciaProducto=function(){var e,t=this,a=this.validarVigencia();if(a.estado){var o=null===(e=this._formData.get("RequestVerificationToken"))||void 0===e?void 0:e.toString();this._httpService.PostForm(this._baseUrl+"/CrearAsignacionProducto",this._formData,o).then((function(e){console.log(e),e.Result&&t.CerrarModalRecetas(),M.toast({html:e.Message,classes:e.Result?"succes":"error"})})).catch((function(e){return console.log(e)}))}else M.toast({html:a.mensaje,classes:"error"})},t.prototype.ModificarAsignarVigencia=function(){var e,t=this,a=this.validarVigencia();if(a.estado){var o=null===(e=this._formData.get("RequestVerificationToken"))||void 0===e?void 0:e.toString();this._formData.set("IdProducto",this._productoIdActualizar),this._httpService.PostForm(this._baseUrl+"/ActualizarAsignacionProducto",this._formData,o).then((function(e){e.Result&&t.CerrarModalRecetas(),M.toast({html:e.Message,classes:e.Result?"succes":"error"})})).catch((function(e){return console.log(e)}))}else M.toast({html:a.mensaje,classes:"error"})},t.prototype.DatosTerminal=function(e,t){var a=this,o={terminal:e,lectura:t};this._terminalIdActualizar=e,console.log("Terminal Id 1: ",this._terminalIdActualizar),this._httpService.Post(this._baseUrl+"/EditarTerminal",o,!1).then((function(e){e?(document.getElementById("teminales").innerHTML=e,a.InicilizarFormTerminal(!1),a.InicializarButtons()):M.toast({html:e,classes:"error"})})).catch((function(e){M.toast({html:"No es posible abrir la ventana correctamente: "+e,classes:"error"}),console.log(e)}))},t.prototype.ActualizarTerminal=function(){var e,t=this,a=null===(e=this._formData.get("RequestVerificationToken"))||void 0===e?void 0:e.toString();this._formData.set("IdTerminal",this._terminalIdActualizar),this._httpService.PostForm(this._baseUrl+"/ActualizarSoloTerminal",this._formData,a).then((function(e){e.Result&&t.onTerminalActualizado&&t.onTerminalActualizado(t.ExtraerTerminal()),M.toast({html:e.Message,classes:e.Result?"succes":"error"})})).catch((function(e){return console.log(e)}))},t.prototype.ConsultaId=function(e){e?this.ModalHabilitarCompania(this._idCompHab):this.ModalDeshabilitarCompania(this._idCompDes)},t.prototype.ModalHabilitarCompania=function(e){var t=this;if(e){var a={Compañia:e,Terminal:this.ExtraerTerminal().IdTerminal};this._httpService.Post(this._baseUrl+"/ModalHabilitarCompania",a,!1).then((function(e){t._modalBase.innerHTML=e,t.InicilizarFormCompania()})),this._modalInstance.open()}else M.toast({html:"No se ha seleccionado una compañia",classes:"error"})},t.prototype.ModalAsignarProductos=function(e){var t=this,a={IdProducto:e.dataset.productoid,IdTerminal:this._terminalIdActualizar};console.log("Terminal Id 1: ",this._terminalIdActualizar),this._httpService.Post(this._baseUrl+"/AsignarProducto",a,!1).then((function(e){t._modalBase.innerHTML=e,t.InicilizarFormRecetas(!0)})),this._modalInstance.open()},t.prototype.HabilitarCompania=function(){var e,t=this,a=null===(e=this._formData.get("RequestVerificationToken"))||void 0===e?void 0:e.toString();this._httpService.PostForm(this._baseUrl+"/AsignarCompañiaATerminal",this._formData,a).then((function(e){e.Result&&t.RecargarVistaListaCompania(),M.toast({html:e.Message,classes:e.Result?"succes":"error"})})).catch((function(e){return console.log(e)}))},t.prototype.ModalDeshabilitarCompania=function(e){return n(this,void 0,void 0,(function(){var t,a,o=this;return s(this,(function(i){switch(i.label){case 0:return e?[4,new d.ConfirmModalMessage("Deshabilitar Compañia","¿Desea deshabilitar la compañia "+e+"?","Aceptar","Cancelar").Confirm()]:[3,2];case 1:return i.sent()&&(t=this.ExtraerTerminal(),a={Compañia:e,Terminal:t.IdTerminal},(new l.HttpFetchService).Post(this._baseUrl+"/EliminarCompañiaDeTerminal",a).then((function(e){e.Result&&o.RecargarVistaListaCompania(),M.toast({html:e.Message,classes:e.Result?"succes":"error"})})).catch((function(e){M.toast({html:e,classes:"error"})}))),[3,3];case 2:M.toast({html:"No se ha seleccionado una compañía",classes:"error"}),i.label=3;case 3:return[2]}}))}))},t.prototype.RecargarVistaListaCompania=function(){var e=this,t={Terminal:this.ExtraerTerminal().IdTerminal};this._httpService.Post(this._baseUrl+"/RecargarVistaListaCompania",t,!1).then((function(t){document.getElementById("compania").innerHTML=t,e.InicilizarFormTerminal(!1),e.InicializarButtons()}))},t.prototype.InicializarModal=function(){this._modalInstance=M.Modal.init(this._modalBase,{dismissible:!1,opacity:.5,inDuration:300,outDuration:200,startingTop:"6%",endingTop:"5%"})},t.prototype.InicilizarFormTerminal=function(e){var t=this;e||i("#fieldset-producto").prop("disabled",!1),this._Table1=(new c.ConfigureDataTable).Configure("#companias-habilitadas",[{width:"5%",targets:0}]),this._Table2=(new c.ConfigureDataTable).Configure("#companias-inhabilitadas",[{width:"5%",targets:0}]),this._TableProductos=(new c.ConfigureDataTable).Configure("#data-table-producto"),i("#terminal-estado").select2({dropdownAutoWidth:!0,width:"100%"}),i("#terminal-area").select2({dropdownAutoWidth:!0,width:"100%"}),M.Tabs.init(document.querySelectorAll(".tabs")),M.updateTextFields(),this._formTerminal=document.querySelector("#terminal-form"),this._formData=new FormData(this._formTerminal),i(this._formTerminal).removeData("validator").removeData("unobtrusiveValidation"),i.validator.unobtrusive.parse(this._formTerminal),document.getElementById("companias-habilitar").addEventListener("click",(function(e){return t.ConsultaId(!0)})),document.getElementById("companias-deshabilitar").addEventListener("click",(function(e){return t.ConsultaId(!1)})),this._formTerminal.onsubmit=function(a){return a.preventDefault(),i(t._formTerminal).valid()&&(t._formData=new FormData(t._formTerminal),e&&0==t._creado?t.GuardarTerminal():t.ActualizarTerminal()),!1}},t.prototype.InicilizarFormRecetas=function(e){var t=this;M.Collapsible.init(document.querySelectorAll(".collapsible")),(new p.DatepickerComponent).GetInstances(".datepicker",void 0,(function(){t.UpdateMaskValue()})),M.Timepicker.init(document.querySelectorAll(".timepicker"),this._opcion),M.updateTextFields(),console.log("Terminal Id 3: ",this._terminalIdActualizar),document.getElementById("recetas-container").on("click",".receta-action",(function(e){e.target.matches(".receta-check")?e.target.checked?t.ActivarVigencia(e.target):t.DesActivarVigencia(e.target):e.target.matches(".vigencia-add")?t.AgregarVigencia(e.target):e.target.matches(".vigencia-delete")&&t.validarVigencia()})),this._formReceta=document.querySelector("#receta-form"),this._formData=new FormData(this._formReceta),i(this._formReceta).removeData("validator").removeData("unobtrusiveValidation"),i.validator.unobtrusive.parse(this._formReceta),this._formReceta.onsubmit=function(a){return a.preventDefault(),i(t._formReceta).valid()&&(t._formData=new FormData(t._formReceta),e?t.AsignarVigenciaProducto():t.ModificarAsignarVigencia()),!1},document.getElementById("receta-modal-cancel").addEventListener("click",(function(e){return t.CerrarModalRecetas(t._estadoProducto)}))},t.prototype.InicilizarFormCompania=function(){var e=this;i("#compañia-agrupadora").select2({dropdownAutoWidth:!0,width:"100%"}),M.updateTextFields(),this._formCompania=document.querySelector("#compania-form"),this._formData=new FormData(this._formCompania),i(this._formCompania).removeData("validator").removeData("unobtrusiveValidation"),i.validator.unobtrusive.parse(this._formCompania),document.getElementById("compania-modal-cancel").addEventListener("click",(function(t){return e.CerrarModal()})),this._formCompania.onsubmit=function(t){return t.preventDefault(),i(e._formCompania).valid()&&(e._formData=new FormData(e._formCompania),e.HabilitarCompania()),!1}},t.prototype.OrdernarFechas=function(){this._validador.sort((function(e,t){return new Date(e.fi).getTime()>new Date(t.fi).getTime()?1:new Date(e.fi).getTime()<new Date(t.fi).getTime()?-1:0}))},t.prototype.validarVigencia=function(){this._validador=[];var e=document.querySelectorAll(".receta"),t=this;return e.forEach((function(e){var a=e.dataset.recetaid;i("#table-vigencia-"+a+" tbody").find("tr").each((function(){var e=i(this),a=e.find("input.fechaIni").val(),o=e.find("input.horaIni").val(),r=e.find("input.fechaFin").val(),n=e.find("input.horaFin").val();a=t.FormatoFecha(a),r=t.FormatoFecha(r);var s=(a+" "+o).trim(),c=(r+" "+n).trim(),l=e.find("input.activo").attr("id"),d={fi:s,ff:c,sw:l};t._validador.push(d),document.getElementById(l).removeAttribute("checked")}))})),this.OrdernarFechas(),this.validarCondiones()},t.prototype.validarCondiones=function(){for(var e=0,t=0,a=0,o=this._validador.length,i=this.fechaActual(),r=0;r<o;r++){if(this._validador[r].fi.length<6)return{estado:!1,mensaje:"Vigencia sin fecha inicial"};""==this._validador[r].ff&&""!=this._validador[r].fi&&(e++,t=r)}if(0==e)return{estado:!1,mensaje:"Debe haber por lo menos una vigencia sin fecha final"};if(e>1)return{estado:!1,mensaje:"Hay mas o de una vigencia sin final"};for(var n=0;n<o;n++)if(n!=t&&new Date(this._validador[n].fi).getTime()>new Date(this._validador[n].ff).getTime())return{estado:!1,mensaje:"Fecha final debe ser mayor a fecha inicial"};for(var s=0;s<o;s++){if(s+1<o){if(new Date(this._validador[s].ff).getTime()<=new Date(this._validador[s+1].fi).getTime()){if(this.Comparar(this._validador[s].ff,this._validador[s+1].fi)<0)return{estado:!1,mensaje:"Hay un hueco entre las fechas por menor"};if(this.Comparar(this._validador[s].ff,this._validador[s+1].fi)>.0006944444444444445)return{estado:!1,mensaje:"El lapso de tiempo entre las fechas "+this._validador[s].ff+" y "+this._validador[s+1].fi+" es mayor a 1 minuto"};continue}if(new Date(this._validador[s].fi).getTime()<=new Date(this._validador[s+1].fi).getTime()||new Date(this._validador[s].ff).getTime()>new Date(this._validador[s+1].fi).getTime())return{estado:!1,mensaje:"Hay fechas cruzadas"}}s==t&&console.log("Secta final")}for(var c=0;c<o;c++)new Date(this._validador[c].fi).getTime()<=i&&new Date(this._validador[c].ff).getTime()>i&&(a=c);var l={activo:this._validador[a],sinVigencia:this._validador[t]};return console.log("Resultado",l),l.activo.sw,l.sinVigencia.sw,document.getElementById(l.activo.sw).setAttribute("checked","checked"),{estado:!0,mensaje:"Bien echo"}},t.prototype.Comparar=function(e,t){return(new Date(t).getTime()-new Date(e).getTime())/864e5},t.prototype.fechaActual=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1+"",o=e.getFullYear(),i=e.getHours(),r=e.getMinutes();return new Date(t+"/"+a+"/"+o+" "+i+":"+r+":00").getTime()},t.prototype.InicializarButtons=function(){var e=this;delete this._idCompDes,delete this._idCompHab;for(var t=document.getElementById("data-table-producto"),a=(document.getElementsByClassName("producto-asignar"),document.getElementsByClassName("chb")),o=document.getElementsByClassName("chbi"),i=document.getElementById("companias-habilitadas"),r=document.getElementById("companias-habilitadas_paginate"),n=document.getElementById("companias-inhabilitadas"),s=document.getElementById("companias-inhabilitadas_paginate"),c=0;c<a.length;c++)a[c].checked=!1;for(c=0;c<o.length;c++)o[c].checked=!1;r.on("click",".paginate_button",(function(t){for(var o=0;o<a.length;o++)a[o].checked=!1;delete e._idCompDes})),s.on("click",".paginate_button",(function(t){for(var a=0;a<o.length;a++)o[a].checked=!1;delete e._idCompHab})),i.addEventListener("change",(function(t){var o=t.target;e._idCompDes=o.dataset.compid;for(var i=0;i<a.length;i++)0==a[i].checked&&a[i].dataset.compid==e._idCompDes&&(a[i].checked=!0),1==a[i].checked&&a[i].dataset.compid!==e._idCompDes&&(a[i].checked=!1)})),n.addEventListener("change",(function(t){var a=t.target;e._idCompHab=a.dataset.compid;for(var i=0;i<o.length;i++)0==o[i].checked&&o[i].dataset.compid==e._idCompHab&&(o[i].checked=!0),1==o[i].checked&&o[i].dataset.compid!==e._idCompHab&&(o[i].checked=!1)})),t.on("click",".producto-action",(function(t){t.target.matches(".producto-asignar")?t.target.checked?(e._productoIdActualizar=t.target.dataset.productoid,e.ModalAsignarProductos(t.target),e._estadoProducto=t.target):(console.log(t.target),e.DesAsignar(t.target,t.target.dataset.productoid)):t.target.matches(".producto-detail")?e.DatosProductoVigencia(t.target.dataset.productoid,!0):t.target.matches(".producto-edit")&&(console.log("jeffer"),console.log(t.target.closest("tr").querySelector("input[type='checkbox']").checked),t.target.closest("tr").querySelector("input[type='checkbox']").checked?e.DatosProductoVigencia(t.target.dataset.productoid,!1):M.toast({html:"No se puede editar un producto sin asignación",classes:"error"}))}))},t.prototype.DatosProductoVigencia=function(e,t){var a=this,o={IdProducto:e,IdTerminal:this._terminalIdActualizar,Lectura:t};console.log("editando"),console.log(o),this._productoIdActualizar=e,this._httpService.Post(this._baseUrl+"/DatosProductoTerminal",o,!1).then((function(e){a._modalBase.innerHTML=e,a.InicilizarFormRecetas(!1)})),this._modalInstance.open()},t.prototype.DesAsignar=function(e,t){return n(this,void 0,void 0,(function(){return s(this,(function(a){switch(a.label){case 0:return[4,new d.ConfirmModalMessage("Cambio de clase","Esta acción borrara todas las recetas","Aceptar","Cancelar").Confirm()];case 1:return a.sent()?this.DesAsignarProducto(e,t):e.checked=!0,[2]}}))}))},t.prototype.DesAsignarProducto=function(e,t){var a={IdProducto:t,IdTerminal:this._terminalIdActualizar};this._httpService.Post(this._baseUrl+"/DesasignarProducto",a,!0).then((function(t){t.Result?(e.checked=!1,M.toast({html:"Se desasigno correctamente el producto",classes:"succes"})):M.toast({html:"No se pudo desasignar",classes:"error"})}))},t.prototype.DesActivarVigencia=function(e){var t=document.getElementById("vigencia-"+e.dataset.recetaid),a=document.getElementById("responsible-table");t.removeChild(a)},t.prototype.Contar=function(){var e=document.getElementsByClassName("vigencia");this._index=e.length},t.prototype.ActivarVigencia=function(e){var t=this;this.Contar();var a=e.dataset.recetaName,o=e.dataset.recetaid,i=document.getElementById("vigencia-"+o),r=document.createElement("div");r.classList.add("card"),r.classList.add("card-default"),r.classList.add("scrollspy"),r.setAttribute("id","responsible-table"),r.innerHTML='<div class="card-content vigencia"><div class="row"><div class="col s6"><p class="mb-2">Vigencia</p></div><div class="col s6" style="text-align: end"><a class="btn-floating waves-effect waves-light blue accent-2" style="text-align: center; margin-top: 10px; height: 30px; width: 30px;"><i class="material-icons receta-action vigencia-add" data-vigenciaid="'+o+'" data-receta-name="'+o+'" style="font-size: 20px; display: flex; margin: -5px 0px 0px 5px"> add </i></a></div></div><div class="row"><div class="col s12"><table class="Highlight" id="table-vigencia-'+o+'"><thead><tr><th><b>Fecha Inicio </b></th> <th><b>Fecha Expiración </b></th> <th><b>Activo</b></th> <th><b>Acción</b></th> </tr></thead><tbody><tr><td><input type="hidden" name="Recetas['+this._index+'].Vigencias.Index" value="0" /><input type="hidden" name="Recetas['+this._index+'].Vigencias[0].IdTerminal" value="'+this._terminalIdActualizar+'"/><input type="hidden" name="Recetas['+this._index+'].Vigencias[0].IdProducto" value="'+this._productoIdActualizar+'"/><input type="hidden" name="Recetas['+this._index+'].Vigencias[0].IdReceta" value="'+a+'"/><input type="text" name="Recetas['+this._index+'].Vigencias[0].FechaInicio" asp-format="{0:dd/MMM/yyyy}" placeholder="Fecha" style="width: 45%; margin-right: 5px;" class="datepicker formato-fecha-corta fechaIni"><input type="text" name="Recetas['+this._index+'].Vigencias[0].HoraInicio" class="timepicker horaIni" placeholder="Hora" style="width: 45%;"></td><td><input type="text" name="Recetas['+this._index+'].Vigencias[0].FechaExpiracion" asp-format="{0:dd/MMM/yyyy}" placeholder="Fecha" style="width: 45%; margin-right: 5px;" class="datepicker formato-fecha-corta fechaFin"><input type="text" name="Recetas['+this._index+'].Vigencias[0].HoraExpiracion" class="timepicker horaFin" placeholder="Hora" style="width: 45%;"></td><td style="display: -webkit-box; margin-top: 10px;"> <label> No </label><div class="switch"><label><input class="activo sv-'+o+'" disabled type="checkbox" id="sw-'+o+'-0"><span class="lever"></span></label></div><label> Si </label> </td><td><a class="cursor-point"><i class="material-icons receta-action vigencia-delete" data-switchid=\'sw-'+o+'-0\' onclick="eliminarVigencia(this)">delete</i></a></td></tr></tbody></table></div></div></div>',i.appendChild(r),(new p.DatepickerComponent).GetInstances(".datepicker",void 0,(function(){t.UpdateMaskValue()})),M.Timepicker.init(document.querySelectorAll(".timepicker"),this._opcion)},t.prototype.AgregarVigencia=function(e){var t=this,a=e.dataset.vigenciaid,o=e.dataset.recetaName,i=document.getElementsByClassName("sv-"+a).length;document.getElementById("table-vigencia-"+a).insertRow(-1).innerHTML='<tr><td><input type="hidden" name="Recetas['+this._index+'].Vigencias.Index" value="'+i+'" /><input type="hidden" name="Recetas['+this._index+"].Vigencias["+i+'].IdTerminal" value="'+this._terminalIdActualizar+'" /><input type="hidden" name="Recetas['+this._index+"].Vigencias["+i+'].IdProducto" value="'+this._productoIdActualizar+'" /><input type="hidden" name="Recetas['+this._index+"].Vigencias["+i+'].IdReceta" value="'+o+'"/><input type="text" name="Recetas['+this._index+"].Vigencias["+i+'].FechaInicio" asp-format="{0:dd/MMM/yyyy}" placeholder="Fecha" style="width: 45%; margin-right: 5px;" class="datepicker formato-fecha-corta fechaIni"><input type="text" name="Recetas['+this._index+"].Vigencias["+i+'].HoraInicio" class="timepicker horaIni" placeholder="Hora" style="width: 45%;"></td><td><input type="text" name="Recetas['+this._index+"].Vigencias["+i+'].FechaExpiracion" asp-format="{0:dd/MMM/yyyy}" placeholder="Fecha" style="width: 45%; margin-right: 5px;" class="datepicker formato-fecha-corta fechaFin"><input type="text" name="Recetas['+this._index+"].Vigencias["+i+'].HoraExpiracion" class="timepicker horaFin" placeholder="Hora" style="width: 45%;"></td><td style="display: -webkit-box; margin-top: 10px;"><label> No </label><div class="switch"><label> <input class="activo sv-'+a+'" disabled type="checkbox" id="sw-'+i+"-"+i+'"><span class="lever"> </span></label></div><label> Si </label></td><td><a class="cursor-point"><i class="material-icons receta-action vigencia-delete" data-switchid=\'sw-'+a+"-"+i+'\' onclick="eliminarVigencia(this)">delete</i></a></td></tr>',(new p.DatepickerComponent).GetInstances(".datepicker",void 0,(function(){t.UpdateMaskValue()})),M.Timepicker.init(document.querySelectorAll(".timepicker"),this._opcion)},t.prototype.ExtraerTerminal=function(){var e,t,a=new u.Terminal;return a.IdTerminal=null===(e=this._formData.get("IdTerminal"))||void 0===e?void 0:e.toString(),console.log("Terminal Antes:",this._terminalIdActualizar),console.log("Terminal Despues:",a.IdTerminal),console.log(a.IdTerminal),this._terminalIdActualizar=a.IdTerminal,a.Nombre=null===(t=this._formData.get("Nombre"))||void 0===t?void 0:t.toString(),a},t.prototype.ExtraerProducto=function(){var e,t,a,o,i,r;return r.IdProducto=this._productoIdActualizar,r.NombreCorto=null===(e=this._formData.get("NombreCorto"))||void 0===e?void 0:e.toString(),r.Estado=null===(t=this._formData.get("Estado"))||void 0===t?void 0:t.toString(),r.Tipo=null===(a=this._formData.get("IdTipo"))||void 0===a?void 0:a.toString(),r.Clase=null===(o=this._formData.get("IdClase"))||void 0===o?void 0:o.toString(),r.SICOM=null===(i=this._formData.get("Sicom"))||void 0===i?void 0:i.toString(),r},t.prototype.ActualizarFilaDatatableProducto=function(e){for(var t,a=i("tr#"+e.IdProducto),o=this._TableProductos.row(a).data(),r=0;r<e.Recetas.lenght;r++)t=t+'<span class="chip lighten-5 green green-text">'+e.Recetas+"</span>";o[0]='<label class="checkbox-label"><input type="checkbox" name="foo" class="producto-action producto-asignar" data-productoid="1"/><span></span></label>',o[1]='<i class="material-icons" style="color: black">home</i>',o[4]=t,this._TableProductos.row(a).data(o)},t.prototype.CerrarModal=function(){this._modalInstance.close(),this._formCompania.parentNode.removeChild(this._formCompania)},t.prototype.CerrarModalRecetas=function(e){null!=e&&(e.checked=!1),this._modalInstance.close()},t.prototype.FormatoFecha=function(e){var t=e.split("/")[1];switch(t){case"ene":e=e.replace(t,"01");break;case"feb":e=e.replace(t,"02");break;case"mar":e=e.replace(t,"03");break;case"abr":e=e.replace(t,"04");break;case"may":e=e.replace(t,"05");break;case"jun":e=e.replace(t,"06");break;case"jul":e=e.replace(t,"07");break;case"ago":e=e.replace(t,"08");break;case"sep":e=e.replace(t,"09");break;case"oct":e=e.replace(t,"10");break;case"nov":e=e.replace(t,"11");break;default:e=e.replace(t,"12")}return e},t.prototype.RegistrarFormatos=function(){this.RegisterMasks([m.MaskFormats.DateShortFormat()])},t.prototype.UpdateMaskValue=function(){this.MaskManager.UpdateValue([".formato-fecha-corta"])},t}(a("./Scripts/Core/Page.ts").Page);t.TerminalesGestionPage=h},"./Scripts/Pages/Terminales/Terminales.ts":function(e,t,a){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),r=this&&this.__awaiter||function(e,t,a,o){return new(a||(a=Promise))((function(i,r){function n(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,s)}c((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var a,o,i,r,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,o=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(!((i=(i=n.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){n=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){n.label=r[1];break}if(6===r[0]&&n.label<i[1]){n.label=i[1],i=r;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(r);break}i[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(e){r=[6,e],o=0}finally{a=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalesPage=void 0;var s=a("./Scripts/Shared/index.ts"),c=a("./Scripts/Shared/Components/ConfirmModalMessage.ts"),l=a("./Scripts/Pages/Terminales/GestionTerminales.ts"),d=a("./Scripts/Shared/Utils/JQValidations.ts"),u=a("./Scripts/Shared/Utils/SelectorMenu.ts"),p=function(e){function t(){var t=e.call(this)||this;return t.BaseUrl="/Terminales/Index",t.Init(),t}return i(t,e),t.prototype.Destroy=function(){e.prototype.Destroy.call(this)},t.prototype.Init=function(){this.InicializarButtons(),this.InicializarControls(),this.GetPermissions("/Terminales/ObtenerPermisos")},t.prototype.InicializarControls=function(){var e=this;u.SelectorMenu.SeleccionEnElMenu(),this.gestionTerminales=new l.TerminalesGestionPage(document.getElementById("terminal-modal")),this.gestionTerminales.onTerminalCreado=function(t){return e.AgregarFilaDatatable(t)},this.gestionTerminales.onTerminalActualizado=function(t){return e.ActualizarFilaDatatable(t)},d.JQValidations.MaxFileSizeValidation(),d.JQValidations.AllowedExtensionsValidation()},t.prototype.InicializarButtons=function(){var e=this,t=document.getElementById("kanba"),a=document.getElementById("terminal-add");t.on("click",".terminal-action",(function(t){t.target.matches(".terminal-edit")?e.EditarTerminal(t.target):t.target.matches(".terminal-delete")&&e.BorrarTerminal(t.target)})),a.addEventListener("click",(function(t){return e.CrearTerminal()}))},t.prototype.BorrarTerminal=function(e){return r(this,void 0,void 0,(function(){var t,a,o=this;return n(this,(function(i){switch(i.label){case 0:return t=e.dataset.terminalid,a=e.dataset.terminalname,[4,new c.ConfirmModalMessage("Eliminar Terminal","¿Desea eliminar la Terminal "+a+"?","Aceptar","Cancelar").Confirm()];case 1:return i.sent()&&(new s.HttpFetchService).Post("/Terminales/BorrarTerminal",t).then((function(t){t.Result&&o.BoorarTerminalKanba(e.dataset.terminalid),M.toast({html:t.Message,classes:t.Result?"succes":"error"})})).catch((function(e){M.toast({html:e,classes:"error"})})),[2]}}))}))},t.prototype.CrearTerminal=function(){this.gestionTerminales.NuevaTerminal()},t.prototype.EditarTerminal=function(e){this.gestionTerminales.DatosTerminal(e.dataset.terminalid,!1)},t.prototype.BoorarTerminalKanba=function(e){var t=document.getElementById("kanba"),a=document.getElementById(e);t.removeChild(a)},t.prototype.AgregarFilaDatatable=function(e){},t.prototype.ActualizarFilaDatatable=function(e){},t.prototype.DisableAction=function(e){return e?"":"disable-action"},t}(a("./Scripts/Core/Page.ts").Page);t.TerminalesPage=p;var m=new p;document.addEventListener("turbolinks:render",(function(e){-1!=document.URL.indexOf("/Terminales/Index")?m?m.Init():m=new p:null==m||m.Destroy()}))},"./Scripts/Shared/Components/ConfigureDataTable.ts":(e,t,a)=>{var o=a("./node_modules/jquery/dist/jquery.js");Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigureDataTable=void 0,a("./node_modules/datatables.net-responsive/js/dataTables.responsive.js");var i=function(){function e(){}return e.prototype.Configure=function(e,t){var a=o(e).DataTable({columnDefs:t,destroy:!0,responsive:!0,language:{processing:"Procesando...",lengthMenu:"Mostrar _MENU_ registros",zeroRecords:"No se encontraron resultados",emptyTable:"Ningún dato disponible en esta tabla",info:"Mostrando del _START_ al _END_ de _TOTAL_ registros",infoEmpty:"Mostrando del 0 al 0 de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",search:"Buscar:",thousands:",",loadingRecords:"Cargando...",paginate:{first:"Primero",last:"Último",next:"Siguiente",previous:"Anterior"},aria:{sortAscending:": Activar para ordenar la columna de manera ascendente",sortDescending:": Activar para ordenar la columna de manera descendente"}}});return this.FilterGlobal(a),a},e.prototype.ConfigureScrollX=function(e,t,a,i){var r=o(e).DataTable({columnDefs:a,columns:t,destroy:!0,scrollX:!0,language:{processing:"Procesando...",lengthMenu:"Mostrar _MENU_ registros",zeroRecords:"No se encontraron resultados",emptyTable:"Ningún dato disponible en esta tabla",info:"Mostrando del _START_ al _END_ de _TOTAL_ registros",infoEmpty:"Mostrando del 0 al 0 de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",search:"Buscar:",thousands:",",loadingRecords:"Cargando...",paginate:{first:"Primero",last:"Último",next:"Siguiente",previous:"Anterior"},aria:{sortAscending:": Activar para ordenar la columna de manera ascendente",sortDescending:": Activar para ordenar la columna de manera descendente"}}});return this.FilterGlobal(r,i),r},e.prototype.ConfigureScrollXSinInfo=function(e,t){return o(e).DataTable({columnDefs:t,destroy:!0,scrollX:!0,paging:!1,ordering:!1,searching:!1,info:!1,language:{processing:"Procesando...",lengthMenu:"Mostrar _MENU_ registros",zeroRecords:"No se encontraron resultados",emptyTable:"Ningún dato disponible en esta tabla",info:"Mostrando del _START_ al _END_ de _TOTAL_ registros",infoEmpty:"Mostrando del 0 al 0 de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",search:"Buscar:",thousands:",",loadingRecords:"Cargando...",paginate:{first:"Primero",last:"Último",next:"Siguiente",previous:"Anterior"},aria:{sortAscending:": Activar para ordenar la columna de manera ascendente",sortDescending:": Activar para ordenar la columna de manera descendente"}}})},e.prototype.FilterGlobal=function(e,t){t?o("input#"+t).on("keyup click",(function(){e.search(o("#"+t).val().toString(),o("#global_regex").prop("checked"),o("#global_smart").prop("checked")).draw()})):o("input#global_filter").on("keyup click",(function(){e.search(o("#global_filter").val().toString(),o("#global_regex").prop("checked"),o("#global_smart").prop("checked")).draw()})),o("input.column_filter").on("keyup click",(function(){var t=o(this).parents("tr").attr("data-column");e.column(t).search(o("#col"+t+"_filter").val().toString(),o("#col"+t+"_regex").prop("checked"),o("#col"+t+"_smart").prop("checked")).draw()}))},e}();t.ConfigureDataTable=i},"./Scripts/Shared/Components/ConfirmModalMessage.ts":function(e,t){var a=this&&this.__awaiter||function(e,t,a,o){return new(a||(a=Promise))((function(i,r){function n(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,s)}c((o=o.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var a,o,i,r,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,o=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(!((i=(i=n.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){n=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){n.label=r[1];break}if(6===r[0]&&n.label<i[1]){n.label=i[1],i=r;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(r);break}i[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(e){r=[6,e],o=0}finally{a=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmModalMessage=void 0;var i=function(){function e(e,t,a,o){this.title=e,this.message=t,this.acceptText=a,this.dismissText=o,this.idMesssage="confirm-message",this.parent=document.body,this.CreateModal(),this.AppendModel()}return e.prototype.CreateModal=function(){this.modal=document.createElement("div"),this.modal.id=this.idMesssage,this.modal.classList.add("modal","modal-fixed-footer","modal-confirm-message-small");var e=document.createElement("div");e.classList.add("modal-content"),this.modal.appendChild(e);var t=document.createElement("h5");t.textContent=this.title,e.appendChild(t);var a=document.createElement("p");a.textContent=this.message,e.appendChild(a);var o=document.createElement("div");o.classList.add("modal-footer"),this.modal.appendChild(o),this.dismissButton=document.createElement("button"),this.dismissButton.classList.add("modal-action","waves-effect","waves-red","btn-flat","btn-orange"),this.dismissButton.type="button",this.dismissButton.textContent=this.dismissText,o.appendChild(this.dismissButton),this.acceptButton=document.createElement("button"),this.acceptButton.classList.add("modal-action","waves-effect","waves-red","btn-flat","btn-orange"),this.acceptButton.type="button",this.acceptButton.textContent=this.acceptText,o.appendChild(this.acceptButton)},e.prototype.AppendModel=function(){this.parent.appendChild(this.modal)},e.prototype.destroy=function(){this.modalInstance&&(this.modalInstance.close(),this.modalInstance.destroy());var e=document.querySelector("#"+this.idMesssage);e.parentNode.removeChild(e)},e.prototype.Confirm=function(){return a(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return[2,new Promise((function(t,a){(!e.modal||!e.acceptButton||!e.dismissButton)&&(e.destroy(),a("Fallo algo en la creación del mensaje")),M.Modal.init(e.modal,{dismissible:!1,opacity:.5,inDuration:300,outDuration:200,startingTop:"6%",endingTop:"8%"}),e.modalInstance=M.Modal.getInstance(e.modal),e.modalInstance.open(),e.acceptButton.addEventListener("click",(function(){t(!0),e.destroy()})),e.dismissButton.addEventListener("click",(function(){t(!1),e.destroy()}))}))]}))}))},e}();t.ConfirmModalMessage=i},"./Scripts/Shared/Components/DatepickerComponent.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DatepickerComponent=void 0;var a=function(){function e(){}return e.prototype.GetInstances2=function(e,t){var a=document.querySelectorAll(e);return M.Datepicker.init(a,this.ConfigBasics(t))[0]},e.prototype.ConfigBasics=function(e){return e?(e.format="dd/mmm/yyyy",e.container=document.body,e.autoClose=!0,e.i18n={cancel:"Cancelar",clear:"Limpiar",done:"Aceptar",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdays:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],weekdaysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],weekdaysAbbrev:["D","L","M","M","J","V","S"]}):e={format:"dd/mmm/yyyy",container:document.body,autoClose:!0,i18n:{cancel:"Cancelar",clear:"Limpiar",done:"Aceptar",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdays:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],weekdaysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],weekdaysAbbrev:["D","L","M","M","J","V","S"]}},e},e.prototype.GetInstances=function(e,t,a,o){var i=document.querySelectorAll(e);return M.Datepicker.init(i,{format:"dd/mmm/yyyy",container:document.body,autoClose:!0,i18n:{cancel:"Cancelar",clear:"Limpiar",done:"Aceptar",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdays:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],weekdaysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"]},onSelect:function(e){void 0!==t&&t(e)},onClose:function(){void 0!==a&&a()}})},e.prototype.GetInstances3=function(e,t,a){var o=document.querySelectorAll(e);return M.Datepicker.init(o,{format:"yyyy/mm/dd",container:document.body,autoClose:!0,i18n:{cancel:"Cancelar",clear:"Limpiar",done:"Aceptar",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekdays:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],weekdaysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"]},onSelect:function(e){void 0!==t&&t(e)},onClose:function(){void 0!==a&&a()}})},e}();t.DatepickerComponent=a},"./Scripts/Shared/Http/HttpFetchService.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HttpFetchService=void 0;var a=function(){function e(){}return e.prototype.Post=function(e,t,a){return void 0===a&&(a=!0),new Promise((function(o,i){fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return a?e.json():e.text()})).then((function(e){o(e)})).catch((function(e){console.log(e),i(e)}))}))},e.prototype.PostForm=function(e,t,a,o){return void 0===o&&(o=!0),new Promise((function(i,r){fetch(e,{method:"post",headers:{RequestVerificationToken:a},body:t}).then((function(e){return o?e.json():e.text()})).then((function(e){i(e)})).catch((function(e){console.log(e),r(e)}))}))},e.prototype.PostFormURL=function(e,t,a){return void 0===a&&(a=!0),new Promise((function(o,i){fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return a?e.json():e.text()})).then((function(e){o(e)})).catch((function(e){console.log(e),i(e)}))}))},e}();t.HttpFetchService=a},"./Scripts/Shared/Http/index.ts":function(e,t,a){var o=this&&this.__createBinding||(Object.create?function(e,t,a,o){void 0===o&&(o=a),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,o){void 0===o&&(o=a),e[o]=t[a]}),i=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||o(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.services=void 0;var r=a("./Scripts/Shared/Http/HttpFetchService.ts");t.services=[r.HttpFetchService],i(a("./Scripts/Shared/Http/HttpFetchService.ts"),t)},"./Scripts/Shared/Models/ActionsPermission.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsPermission=void 0;t.ActionsPermission=function(){}},"./Scripts/Shared/Models/Area.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Area=void 0;t.Area=function(){}},"./Scripts/Shared/Models/Cabezote.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Cabezote=void 0;t.Cabezote=function(){}},"./Scripts/Shared/Models/Compañia.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["Compañia"]=void 0;t["Compañia"]=function(){}},"./Scripts/Shared/Models/Conductor.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Conductor=void 0;t.Conductor=function(){}},"./Scripts/Shared/Models/Contador.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Contador=void 0;t.Contador=function(){}},"./Scripts/Shared/Models/Despacho.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Despacho=void 0;t.Despacho=function(){}},"./Scripts/Shared/Models/FechasCorteDTO.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FechasCorteDTO=void 0;t.FechasCorteDTO=function(){}},"./Scripts/Shared/Models/Linea.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Linea=void 0;t.Linea=function(){}},"./Scripts/Shared/Models/Log.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;t.Log=function(){}},"./Scripts/Shared/Models/MessageResponse.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},"./Scripts/Shared/Models/ProcesamientoArchivos.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Paso2Mapeo=t.Paso1Mapeo=t.MapeoArchivos=void 0;t.MapeoArchivos=function(){};t.Paso1Mapeo=function(){};t.Paso2Mapeo=function(){}},"./Scripts/Shared/Models/Producto.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Producto=void 0;t.Producto=function(){}},"./Scripts/Shared/Models/Proveedor.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Proveedor=void 0;t.Proveedor=function(){}},"./Scripts/Shared/Models/Rol.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Rol=void 0;t.Rol=function(){}},"./Scripts/Shared/Models/Tanque.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tanque=void 0;t.Tanque=function(){}},"./Scripts/Shared/Models/Terminal.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;t.Terminal=function(){}},"./Scripts/Shared/Models/Trailer.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Trailer=void 0;t.Trailer=function(){}},"./Scripts/Shared/Models/Usuario.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Usuario=void 0;t.Usuario=function(){}},"./Scripts/Shared/Models/index.ts":function(e,t,a){var o=this&&this.__createBinding||(Object.create?function(e,t,a,o){void 0===o&&(o=a),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,o){void 0===o&&(o=a),e[o]=t[a]}),i=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||o(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.models=void 0;var r=a("./Scripts/Shared/Models/Usuario.ts"),n=a("./Scripts/Shared/Models/Cabezote.ts"),s=a("./Scripts/Shared/Models/Trailer.ts"),c=a("./Scripts/Shared/Models/Conductor.ts"),l=a("./Scripts/Shared/Models/Area.ts"),d=a("./Scripts/Shared/Models/Compañia.ts"),u=a("./Scripts/Shared/Models/Log.ts"),p=a("./Scripts/Shared/Models/Linea.ts"),m=a("./Scripts/Shared/Models/Rol.ts"),h=a("./Scripts/Shared/Models/Terminal.ts"),f=a("./Scripts/Shared/Models/Tanque.ts"),v=a("./Scripts/Shared/Models/Contador.ts"),g=a("./Scripts/Shared/Models/Proveedor.ts"),y=a("./Scripts/Shared/Models/ProcesamientoArchivos.ts"),b=a("./Scripts/Shared/Models/Producto.ts"),M=a("./Scripts/Shared/Models/Despacho.ts"),_=a("./Scripts/Shared/Models/FechasCorteDTO.ts");t.models=[r.Usuario,n.Cabezote,s.Trailer,c.Conductor,l.Area,u.Log,m.Rol,d.Compañia,h.Terminal,f.Tanque,v.Contador,p.Linea,g.Proveedor,y.MapeoArchivos,b.Producto,M.Despacho,_.FechasCorteDTO],i(a("./Scripts/Shared/Models/MessageResponse.ts"),t),i(a("./Scripts/Shared/Models/Usuario.ts"),t),i(a("./Scripts/Shared/Models/Cabezote.ts"),t),i(a("./Scripts/Shared/Models/Trailer.ts"),t),i(a("./Scripts/Shared/Models/Conductor.ts"),t),i(a("./Scripts/Shared/Models/Area.ts"),t),i(a("./Scripts/Shared/Models/Linea.ts"),t),i(a("./Scripts/Shared/Models/Compañia.ts"),t),i(a("./Scripts/Shared/Models/Rol.ts"),t),i(a("./Scripts/Shared/Models/Terminal.ts"),t),i(a("./Scripts/Shared/Models/Tanque.ts"),t),i(a("./Scripts/Shared/Models/Contador.ts"),t),i(a("./Scripts/Shared/Models/Log.ts"),t),i(a("./Scripts/Shared/Models/Proveedor.ts"),t),i(a("./Scripts/Shared/Models/ProcesamientoArchivos.ts"),t),i(a("./Scripts/Shared/Models/Producto.ts"),t),i(a("./Scripts/Shared/Models/Despacho.ts"),t),i(a("./Scripts/Shared/Models/FechasCorteDTO.ts"),t)},"./Scripts/Shared/Utils/HTMLExtensions.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),HTMLElement.prototype.on=function(e,t,a){this.addEventListener(e,(function(e){e.target.matches(t)&&a(e)}))}},"./Scripts/Shared/Utils/JQValidations.ts":(e,t,a)=>{var o=a("./node_modules/jquery/dist/jquery.js");Object.defineProperty(t,"__esModule",{value:!0}),t.JQValidations=void 0,a("./node_modules/jquery-validation/dist/jquery.validate.js"),a("./node_modules/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.js");var i=function(){function e(){}return e.MaxFileSizeValidation=function(){o.validator.methods.maxfilesize||(o.validator.addMethod("maxfilesize",(function(e,t,a){var o=a,i=t.files[0];return!(i&&i.size/1024>o)})),o.validator.unobtrusive.adapters.add("maxfilesize",["size"],(function(e){e.rules.maxfilesize=e.params.size,e.messages.maxfilesize=e.message})))},e.AllowedExtensionsValidation=function(){o.validator.methods.allowedextensions||(o.validator.addMethod("allowedextensions",(function(e,t,a){var o=a,i=t.files[0],r=o.split(",");return!i||!!new RegExp("("+r.join("|").replace(/\./g,"\\.")+")$").test(e)})),o.validator.unobtrusive.adapters.add("allowedextensions",["exts"],(function(e){e.rules.allowedextensions=e.params.exts,e.messages.allowedextensions=e.message})))},e.NotEqualValidation=function(){o.validator.methods.notequal||(o.validator.addMethod("notequal",(function(e,t,a){var o=a,i=t.value,r=document.getElementById(o).value;return!i||i!=r})),o.validator.unobtrusive.adapters.add("notequal",["IdinputTocompare"],(function(e){e.rules.notequal=e.params.IdinputTocompare,e.messages.notequal=e.message})))},e}();t.JQValidations=i},"./Scripts/Shared/Utils/MaskFormats.ts":(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MaskFormats=void 0;var o=a("./node_modules/imask/esm/index.js"),i=function(){function e(){}return e.IntegerFormat=function(){return{Selector:".formato-int",Mask:{mask:Number,scale:0,signed:!1,thousandsSeparator:",",padFractionalZeros:!1,normalizeZeros:!0,radix:".",mapToRadix:["."]}}},e.DecimalFormat=function(){return{Selector:".formato-decimal",Mask:{mask:Number,scale:2,signed:!1,thousandsSeparator:",",padFractionalZeros:!1,normalizeZeros:!0,radix:".",mapToRadix:["."]}}},e.DateShortFormat=function(){return{Selector:".formato-fecha-corta",Mask:{mask:"00{/}MMM{/}0000",overwrite:!0,autofix:!0,blocks:{MMM:{mask:o.default.MaskedEnum,enum:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]}}}}},e.DateLongFormat=function(){return{Selector:".formato-fecha-larga",Mask:{mask:"00{/}MMM{/}0000{ }HH{:}TT{:}TT",overwrite:!0,autofix:!0,blocks:{MMM:{mask:o.default.MaskedEnum,enum:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},HH:{mask:o.default.MaskedRange,from:0,to:24},TT:{mask:o.default.MaskedRange,from:0,to:59}}}}},e.IntegerFormatRang=function(e,t,a){return{Selector:e,Mask:{mask:Number,min:t,max:a,scale:0,signed:!1,thousandsSeparator:",",padFractionalZeros:!1,normalizeZeros:!0,radix:".",mapToRadix:["."]}}},e.DecimalFormatRang=function(e,t,a){return{Selector:e,Mask:{mask:Number,min:t,max:a,scale:2,signed:!1,thousandsSeparator:",",padFractionalZeros:!1,normalizeZeros:!0,radix:".",mapToRadix:["."]}}},e.Alfanumerico=function(e){return{Selector:e,Mask:{mask:/^[a-z0-9]+$/i,lazy:!1}}},e.NumericoSinSignos=function(e){return{Selector:e,Mask:{mask:/^[0-9]+$/i,lazy:!1}}},e}();t.MaskFormats=i},"./Scripts/Shared/Utils/MaskFormatsManager.ts":(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MaskFormatsManager=void 0;var o=a("./node_modules/imask/esm/index.js"),i=function(){function e(){this.FormatElements=new Array}return e.prototype.RegisterMasks=function(e){this.CleanAll(),this.Masks=e},e.prototype.ApplyMasks=function(){var e,t=this;this.CleanFormats(),null===(e=this.Masks)||void 0===e||e.forEach((function(e,a,o){t.ApplyFormat(e)}))},e.prototype.AddApplyMask=function(e){this.Masks.push(e),this.ApplyFormat(e)},e.prototype.UnmaskFormats=function(){var e;null===(e=this.FormatElements)||void 0===e||e.forEach((function(e,t,a){e.MaskInput.el.input.value=e.MaskInput.unmaskedValue,e.MaskInput.masked.reset()}))},e.prototype.SetUnmaskedFormValue=function(e){var t;null===(t=this.FormatElements)||void 0===t||t.forEach((function(t,a,o){e.set(t.MaskInput.el.input.name,t.MaskInput.unmaskedValue),t.MaskInput.masked.reset()}))},e.prototype.UpdateValue=function(e){var t=this;(null==e?void 0:e.length)>0&&e.forEach((function(e){var a=t.FormatElements.filter((function(t){return t.Selector===e}));(null==a?void 0:a.length)>0&&a.forEach((function(e){e.MaskInput.updateValue(),e.MaskInput.unmaskedValue=e.MaskInput.el.value}))}))},e.prototype.ApplyFormat=function(e){var t=this;document.querySelectorAll(e.Selector).forEach((function(a){t.FormatElements.push({Selector:e.Selector,MaskInput:o.default(a,e.Mask)})}))},e.prototype.CleanAll=function(){var e;(null===(e=this.Masks)||void 0===e?void 0:e.length)>0&&this.Masks.forEach((function(e,t,a){a.splice(t,1)})),this.CleanFormats()},e.prototype.CleanFormats=function(){var e;(null===(e=this.FormatElements)||void 0===e?void 0:e.length)>0&&this.FormatElements.forEach((function(e,t,a){e.MaskInput.masked.reset(),e.MaskInput.destroy,a.splice(t,1)}))},e.prototype.Destroy=function(){this.CleanAll(),this.Masks=null,this.FormatElements=null},e}();t.MaskFormatsManager=i},"./Scripts/Shared/Utils/SelectorMenu.ts":(e,t,a)=>{var o=a("./node_modules/jquery/dist/jquery.js");Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorMenu=void 0;var i=function(){function e(){}return e.SeleccionEnElMenu=function(){var e=location.href,t=e.indexOf("/",8),a="a[href$='"+e.substr(t,e.length)+"']";o(".nav-list li a").removeClass("active"),o(".collapsible-body").css({display:""}),o(".listaPadre").removeClass("active"),o(a).addClass("active");var i=o(a).attr("name");o("#"+i).addClass("active"),o("#"+i+" .collapsible-body").css({display:"block"});var r=o("#"+i).attr("name");o("#"+r).addClass("active"),o("#"+r+" #"+i+" .collapsible-body").css({display:"block"}),o("#"+r+" .nivel2").css({display:"block"}),o("#"+r+" .collapsible-body").first().css({display:"block"})},e}();t.SelectorMenu=i},"./Scripts/Shared/Utils/index.ts":function(e,t,a){var o=this&&this.__createBinding||(Object.create?function(e,t,a,o){void 0===o&&(o=a),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,o){void 0===o&&(o=a),e[o]=t[a]}),i=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||o(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.components=void 0;var r=a("./Scripts/Shared/Utils/JQValidations.ts"),n=a("./Scripts/Shared/Utils/MaskFormats.ts"),s=a("./Scripts/Shared/Utils/MaskFormatsManager.ts");t.components=[r.JQValidations,n.MaskFormats,s.MaskFormatsManager],i(a("./Scripts/Shared/Utils/JQValidations.ts"),t),i(a("./Scripts/Shared/Utils/MaskFormats.ts"),t),i(a("./Scripts/Shared/Utils/MaskFormatsManager.ts"),t)},"./Scripts/Shared/index.ts":function(e,t,a){var o=this&&this.__createBinding||(Object.create?function(e,t,a,o){void 0===o&&(o=a),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,o){void 0===o&&(o=a),e[o]=t[a]}),i=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||o(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),i(a("./Scripts/Shared/Http/index.ts"),t),i(a("./Scripts/Shared/Models/index.ts"),t),i(a("./Scripts/Shared/Utils/HTMLExtensions.ts"),t)}},t={};function a(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,a),i.exports}return a.m=e,a.x=e=>{},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={terminales:0},t=[["./Scripts/Pages/Terminales/Terminales.ts","packages"]],o=e=>{},i=(i,r)=>{for(var n,s,[c,l,d,u]=r,p=0,m=[];p<c.length;p++)s=c[p],a.o(e,s)&&e[s]&&m.push(e[s][0]),e[s]=0;for(n in l)a.o(l,n)&&(a.m[n]=l[n]);for(d&&d(a),i&&i(r);m.length;)m.shift()();return u&&t.push.apply(t,u),o()},r=self.webpackChunkkairosv2=self.webpackChunkkairosv2||[];function n(){for(var o,i=0;i<t.length;i++){for(var r=t[i],n=!0,s=1;s<r.length;s++){var c=r[s];0!==e[c]&&(n=!1)}n&&(t.splice(i--,1),o=a(a.s=r[0]))}return 0===t.length&&(a.x(),a.x=e=>{}),o}r.forEach(i.bind(null,0)),r.push=i.bind(null,r.push.bind(r));var s=a.x;a.x=()=>(a.x=s||(e=>{}),(o=n)())})(),a.x()})()}));
//# sourceMappingURL=terminales.js.map