{"version":3,"sources":["webpack/universalModuleDefinition","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\ProcesamientoArchivos\\GestionMapeoArchivo.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\ProcesamientoArchivos\\MapeoArchivos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\ProcesamientoArchivos\\MapeoPaso1.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\ProcesamientoArchivos\\MapeoPaso2.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\ProcesamientoArchivos\\MapeoPaso3.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\ConfirmModalMessage.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\HttpFetchService.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Area.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Cabezote.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Compañia.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Conductor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Contador.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Despacho.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\FechasCorteDTO.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Linea.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Log.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\ProcesamientoArchivos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Producto.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Proveedor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Rol.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Tanque.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Terminal.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Trailer.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Usuario.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\HTMLExtensions.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\JQValidations.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\index.ts","webpack/bootstrap","webpack/runtime/define property getters","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"names":["root","factory","exports","module","define","amd","self","modalBase","_baseUrl","this","_httpService","HttpFetchService","_modalBase","InicializarModal","NuevoProcesamientoArchivos","_defaultActiveStep","_esNuevo","_actualizarMapeo","_dataMapeoArchivo","MapeoArchivos","Post","then","data","innerHTML","InicializarStepper","InicializarControles","_modalInstance","open","DatosProcesamientoArchivos","idMapeo","lectura","Paso1Data","Paso1Mapeo","Paso2Data","Paso2Mapeo","payload","idEntidad","M","Modal","init","inDuration","outDuration","onOpenEnd","_mStepper","MStepper","document","querySelector","firstActive","showFeedbackPreloader","stepTitleNavigation","autoFocusInput","autoFormCreation","feedbackPreloader","resetStepper","paso","updateTextFields","_paso1Vista","Destroy","MapeoPaso1","InicializarControlesPaso1","onPaso1Completado","onPaso1Cerrar","CerrarModal","_paso2Vista","MapeoPaso2","InicializarControlesPaso2","onPaso2Completado","NuevoMapeoArchivoTablas","onPaso2Cerrar","_paso3Vista","MapeoPaso3","InicializarControlesPaso3","onPaso3Anterior","onPaso3Completado","onPaso3Cerrar","PostForm","getElementById","updateStepper","catch","err","console","log","onProcesamientoArchivosGuardado","close","GestionMapeoArchivo","Init","InicializarButtons","InicializarControls","gestionMapeoArchivo","ActualizarListaMapeos","JQValidations","MaxFileSizeValidation","AllowedExtensionsValidation","mappers","search","MapeoArchivosAdd","elems","querySelectorAll","Dropdown","tooltipInstances","Tooltip","on","event","BuscarMapeo","target","matches","EditarMaperArchivo","BorrarMaperArchivos","addEventListener","CrearMaperArchivo","element","dataset","mapperid","ConfirmModalMessage","Confirm","Result","BorrarMapeo","toast","html","Message","classes","error","filtro","textContent","buscar","value","forEach","e","destroy","card","parentElement","removeChild","MapeoArchivosPage","procesamientoArchivosPage","URL","indexOf","stepper","step1","_step1Model","modoCreacion","$","selectSeparator","_select","FormSelect","CheckSepartorOption","click","InicilizarFormMapeoPaso1","_formMapeoPaso1","_dataFormPaso1","FormData","removeData","validator","unobtrusive","parse","onsubmit","preventDefault","valid","ProcesarDatosIniciales","wrongStep","ExtraerDatosPaso1","token","get","toString","nextStep","IdMapeo","Descripcion","Separador","OtroCaracter","Archivo","removeAttribute","setAttribute","step2","_step2Model","ev","TableStep2","DataTable","scrollX","lengthMenu","responsive","paging","language","ExtraerDatosPaso2","Columnas","Array","columns","every","coldx","tableLoop","colLoop","push","column","header","mapeoModel","_step3Model","_tablasKairos","_selects","esNuevo","actualizar","_nuevoMapeo","AddNewMapTable","collapsible","_collapsibleInstance","Collapsible","accordion","InicilizarFormMapeoPaso3","InicializarEventosGenerales","ObtenerNombresTablas","_formMapeoPaso3","InicializarData","ApplyValidation","_dataFormPaso3","ActualizarProcesamientoArchivos","CrearProcesamientoArchivos","page","len","draw","appendChild","table","container","openStep","fileList","from","options","ele","disabled","CambioTablaKairos","CambioColumnaTablaKairos","CambioColumnaArchivoKairos","AgregarNuevaFilaMapeo","BorrarFilaMapeo","BorrarTablaMapeo","RevisarPrioridades","setDefaults","number","parseInt","isNaN","priorities","id","some","RevisarTablaRepetida","selects","selectedIndex","getInstance","input","firstChild","nodeValue","closest","tableId","mapTable","tableList","ObtenerTablaKairos","tablaKairos","columnList","map","Nombre","tBodies","insertAdjacentHTML","GetRowTemplateColumnsTable","concat","remove","ErrorMaterializeCheckboxHidden","elemtn","liElement","tableColumns","idTable","mapColumnList","classList","filter","c","IsNull","columna","s","tableName","tableIndex","columnName","columnSelected","find","row","isKey","cells","Llave","checked","isnullCell","Tipo","GetRemoveColumnButton","nombreTabla","undefined","t","NombreTabla","ObtenerTablaColumnas","nombre","Promise","resolve","reject","_optionsTablas","el","num","parent","AddTableOptionsToSelect","newIndex","GetNewIndexListTable","li","GetCardTemplateColumns","selectItems","GetSelectTemplateTablesList","GetTableTemplateColumns","selectElement","createElement","SetValidationAttributes","name","add","outerHTML","columnaData","columnsList","indexColumn","GetNewIndexColumnListTable","GetSelectTemplateColumnsFile","GetSelectTemplateColumnsTable","columnData","firstOption","Option","option","wrap","hidden","GetValidationMessage","elment","message","mapTables","lastMap","length","mapColumn","title","acceptText","dismissText","idMesssage","body","CreateModal","AppendModel","modal","content","buttonGroup","dismissButton","type","acceptButton","modalInstance","elem","parentNode","dismissible","opacity","startingTop","endingTop","url","jsonResponse","fetch","method","headers","JSON","stringify","response","json","text","PostFormURL","services","Area","Cabezote","Conductor","Contador","Despacho","FechasCorteDTO","Linea","Log","Producto","Proveedor","Rol","Tanque","Terminal","Trailer","Usuario","models","Compañia","HTMLElement","prototype","eventType","childSelector","eventHandler","eventOnElement","methods","addMethod","params","size","file","files","adapters","rules","messages","exts","extsArray","split","RegExp","join","replace","test","NotEqualValidation","IdName","ActualValue","Id","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call","m","x","d","definition","key","o","Object","defineProperty","enumerable","obj","prop","hasOwnProperty","r","Symbol","toStringTag","installedChunks","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","i","resolves","shift","apply","chunkLoadingGlobal","checkDeferredModulesImpl","result","deferredModule","fulfilled","j","depId","splice","bind","startup"],"mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAkB,SAAID,IAEtBD,EAAe,SAAIC,IARrB,CASGK,MAAM,WACT,M,iLCTA,qCACA,wDACA,4DACA,8DACA,0EAGA,+DACA,2DACA,2DAEA,aAoBI,WAAYC,GAdJ,KAAAC,SAAW,yBAefC,KAAKC,aAAe,IAAI,EAAAC,iBAExBF,KAAKG,WAAaL,EAClBE,KAAKI,mBA6Hb,OAvHW,YAAAC,2BAAP,sBACIL,KAAKM,mBAAqB,EAC1BN,KAAKO,UAAW,EAChBP,KAAKQ,kBAAmB,EACxBR,KAAKS,kBAAoB,IAAI,EAAAC,cAC7BV,KAAKC,aAAaU,KAAaX,KAAKD,SAAW,8BAA+B,MAAM,GAC/Ea,MAAK,SAACC,GACH,EAAKV,WAAWW,UAAYD,EAC5B,EAAKE,qBACL,EAAKC,qBAAqB,GAC1B,EAAKC,eAAeC,WAKzB,YAAAC,2BAAP,SAAkCC,EAAiBC,GAAnD,WACIrB,KAAKO,UAAW,EAChBP,KAAKQ,kBAAmB,EACxBR,KAAKM,mBAAqB,EAC1BN,KAAKS,kBAAoB,IAAI,EAAAC,cAC7BV,KAAKS,kBAAkBa,UAAY,IAAI,EAAAC,WACvCvB,KAAKS,kBAAkBe,UAAY,IAAI,EAAAC,WACvC,IAAIC,EAAU,CAAEC,UAAWP,EAASC,QAASA,GAC7CrB,KAAKC,aAAaU,KAAaX,KAAKD,SAAW,8BAA+B2B,GAAS,GAClFd,MAAK,SAACC,GACH,EAAKV,WAAWW,UAAYD,EAC5B,EAAKE,qBACL,EAAKC,qBAAqB,GAC1B,EAAKC,eAAeC,WAOxB,YAAAd,iBAAR,WAEIJ,KAAKiB,eAAiBW,EAAEC,MAAMC,KAAK9B,KAAKG,WAAY,CAChD4B,WAAY,IACZC,YAAa,IACbC,UAAW,gBAMX,YAAAlB,mBAAR,WACIf,KAAKkC,UAAY,IAAIC,SAASC,SAASC,cAAc,YAAa,CAC9DC,YAAatC,KAAKM,mBAClBiC,uBAAuB,EACvBC,qBAAqB,EACrBC,gBAAgB,EAChBC,kBAAkB,EAClBC,kBAAmB,2DAGvB3C,KAAKkC,UAAUU,gBAIX,YAAA5B,qBAAR,SAA6B6B,GAA7B,I,MAAA,OACIjB,EAAEkB,mBAEU,GAARD,GACgB,QAAhB,EAAA7C,KAAK+C,mBAAW,SAAEC,UAClBhD,KAAKS,kBAAkBa,UAAY,IAAI,EAAAC,WACvCvB,KAAK+C,YAAc,IAAI,EAAAE,WAAWjD,KAAKkC,UAAWlC,KAAKS,kBAAkBa,WACzEtB,KAAK+C,YAAYG,0BAA0BlD,KAAKO,UAChDP,KAAK+C,YAAYI,kBAAoB,WAAM,SAAKnC,qBAAqB,IACrEhB,KAAK+C,YAAYK,cAAgB,WAAM,SAAKC,gBAE/B,GAARR,GACW,QAAhB,EAAA7C,KAAKsD,mBAAW,SAAEN,UAClBhD,KAAKS,kBAAkBe,UAAY,IAAI,EAAAC,WACvCzB,KAAKsD,YAAc,IAAI,EAAAC,WAAWvD,KAAKkC,UAAWlC,KAAKS,kBAAkBe,WACzExB,KAAKsD,YAAYE,0BAA0BxD,KAAKO,UAChDP,KAAKsD,YAAYG,kBAAoB,WAAM,SAAKC,2BAChD1D,KAAKsD,YAAYK,cAAgB,WAAM,SAAKN,gBAE/B,GAARR,IACW,QAAhB,EAAA7C,KAAK4D,mBAAW,SAAEZ,UAClBhD,KAAK4D,YAAc,IAAI,EAAAC,WAAW7D,KAAKkC,UAAWlC,KAAKS,mBACvDT,KAAK4D,YAAYE,0BAA0B9D,KAAKO,SAAUP,KAAKQ,kBAC/DR,KAAK4D,YAAYG,gBAAkB,WAAM,SAAK/C,qBAAqB,IACnEhB,KAAK4D,YAAYI,kBAAoB,WAAM,SAAKX,eAChDrD,KAAK4D,YAAYK,cAAgB,WAAM,SAAKZ,iBAM5C,YAAAK,wBAAR,sBACI1D,KAAKC,aAAaiE,SAAiBlE,KAAKD,SAAW,2BAA4B,KAAM,MAAM,GACtFa,MAAK,SAACC,GACHuB,SAAS+B,eAAe,kBAAkBrD,UAAYD,EACtD,EAAKqB,UAAUkC,gBACf,EAAK5D,kBAAoB,EAAKD,SAC9B,EAAKA,UAAW,EAChB,EAAKS,qBAAqB,MAE7BqD,OAAM,SAACC,GAAQ,OAAAC,QAAQC,IAAIF,OAI5B,YAAAjB,YAAR,W,QACQrD,KAAKyE,iCACLzE,KAAKyE,kCAGTzE,KAAKiB,eAAeyD,QAEpB1E,KAAK+C,YAAc,KACH,QAAhB,EAAA/C,KAAKsD,mBAAW,SAAEN,UAClBhD,KAAKsD,YAAc,KACH,QAAhB,EAAAtD,KAAK4D,mBAAW,SAAEZ,UAClBhD,KAAK4D,YAAc,KACnB5D,KAAKS,kBAAoB,MAGjC,EArJA,GAAa,EAAAkE,uB,ohDCZb,qCACA,0DACA,oEACA,+CAGA,aAQI,aACI3E,KAAK4E,OA4Gb,OAzGW,YAAA5B,QAAP,aAIO,YAAA4B,KAAP,WACI5E,KAAK6E,qBACL7E,KAAK8E,uBAGD,YAAAA,oBAAR,sBACI9E,KAAK+E,oBAAsB,IAAI,EAAAJ,oBAAoBvC,SAAS+B,eAAe,cAC3EnE,KAAK+E,oBAAoBN,gCAAkC,WAAM,SAAKO,yBACtE,EAAAC,cAAcC,wBACd,EAAAD,cAAcE,+BAGV,YAAAN,mBAAR,sBACQO,EAAUhD,SAAS+B,eAAe,gBAClCkB,EAASjD,SAAS+B,eAAe,eACjCmB,EAAmBlD,SAAS+B,eAAe,qBAC3CoB,EAAQnD,SAASoD,iBAAiB,qBACtB5D,EAAE6D,SAAS3D,KAAKyD,GAChCvF,KAAK0F,iBAAmB9D,EAAE+D,QAAQ7D,KAAKM,SAASoD,iBAAiB,gBAEjEH,EAAOO,GAAG,QAAS,kBAAkB,SAAAC,GACjC,EAAKC,YAAYD,EAAME,WAG3BX,EAAQQ,GAAG,QAAS,iBAAiB,SAAAC,GAC7BA,EAAME,OAAOC,QAAQ,eACrB,EAAKC,mBAAmBJ,EAAME,QAEzBF,EAAME,OAAOC,QAAQ,kBAC1B,EAAKE,oBAAoBL,EAAME,WAGvCT,EAAiBa,iBAAiB,SAAS,SAAAN,GAAS,SAAKO,wBAG/C,YAAAF,oBAAd,SAAkCG,G,uGAGT,OAFjBjF,EAAUiF,EAAQC,QAAQC,SAET,GADL,IAAI,EAAAC,oBAAoB,iBAAkB,4BAA8BpF,EAAU,IAAK,UAAW,YAC/EqF,W,cAAd,WAEG,IAAI,EAAAvG,kBACZS,KAAuB,qDAAsDS,GACpFR,MAAK,SAACC,GACCA,EAAK6F,QACL,EAAKC,YAAYvF,GAErBQ,EAAEgF,MAAM,CAAEC,KAAMhG,EAAKiG,QAASC,QAAUlG,EAAW,OAAI,SAAW,aAEnEwD,OAAM,SAAC2C,GACNpF,EAAEgF,MAAM,CAAEC,KAAMG,EAAOD,QAAS,a,YAKxC,YAAAd,mBAAR,SAA2BI,GACvBrG,KAAK+E,oBAAoB5D,2BAA2BkF,EAAQC,QAAQC,UAAU,IAG1E,YAAAH,kBAAR,WACIpG,KAAK+E,oBAAoB1E,8BAGrB,YAAAyF,YAAR,SAAoBO,GAApB,WACQY,EAASZ,EAAQa,YACjBC,EAAS/E,SAASC,cAAgC,iBACtD,GAAc,SAAV4E,EACAE,EAAOC,MAAQ,QACd,GAAc,SAAVH,IAAsC,MAAhBE,EAAOC,OAAiC,IAAhBD,EAAOC,OAE1D,YADAxF,EAAEgF,MAAM,CAAEC,KAAM,+BAAgCE,QAAS,UAI7D,IAAIrF,EAAU,CAAEuF,OAAQA,EAAQE,OAAQA,EAAOC,QAC7B,IAAI,EAAAlH,kBACVS,KAAa,wCAAyCe,GAAS,GACtEd,MAAK,SAACC,G,MACHuB,SAASC,cAAc,iBAAiBvB,UAAYD,EAC/B,QAArB,IAAK6E,wBAAgB,SAAE2B,SAAQ,SAAAC,GAAC,OAAIA,aAAC,EAADA,EAAGC,aACvC,EAAK7B,iBAAmB9D,EAAE+D,QAAQ7D,KAAKM,SAASoD,iBAAiB,mBAEpEnB,OAAM,SAACC,GAAQ,OAAAC,QAAQC,IAAIF,OAI5B,YAAAqC,YAAR,SAAoBvF,GAChB,IAAIoG,EAAOpF,SAAS+B,eAAe/C,GACnCoG,EAAKC,cAAcC,YAAYF,IAI3B,YAAAxC,sBAAR,uBACwB,IAAI,EAAA9E,kBACZS,KAAa,wCAAyC,MAAM,GACnEC,MAAK,SAACC,G,MACHuB,SAASC,cAAc,iBAAiBvB,UAAYD,EAC/B,QAArB,IAAK6E,wBAAgB,SAAE2B,SAAQ,SAAAC,GAAC,OAAIA,aAAC,EAADA,EAAGC,aACvC,EAAK7B,iBAAmB9D,EAAE+D,QAAQ7D,KAAKM,SAASoD,iBAAiB,mBAEpEnB,OAAM,SAACC,GAAQ,OAAAC,QAAQC,IAAIF,OAGxC,EArHA,GAAa,EAAAqD,oBAuHb,IAAIC,EAA4B,IAAID,EAGpCvF,SAAS+D,iBAAiB,qBAAqB,SAACmB,IACiB,GAAzDlF,SAASyF,IAAIC,QAAQ,gCACjBF,EACAA,EAA0BhD,OAG1BgD,EAA4B,IAAID,EAKpCC,WAA2B5E,c,qLC3InC,qCAEA,aAeI,WAAY+E,EAAmBC,GARvB,KAAAjI,SAAW,yBASfC,KAAKC,aAAe,IAAI,EAAAC,iBACxBF,KAAKkC,UAAY6F,EACjB/H,KAAKiI,YAAcD,EA+E3B,OAzEW,YAAA9E,0BAAP,SAAiCgF,GAAjC,WACIC,EAAE,cAAcvC,GAAG,SAAS,WAAM,SAAKxC,mBACvC,IAAIgF,EAAkBhG,SAASC,cAAiC,8BAChErC,KAAKqI,QAAUzG,EAAE0G,WAAWxG,KAAKsG,GACjCA,EAAgBjC,iBAAiB,UAAU,SAACN,GAAU,SAAK0C,oBAAqB1C,EAAME,WAEtFoC,EAAE,iBAAiBvC,GAAG,SAAS,WAAcuC,EAAE,kBAAkBK,WACjExI,KAAKyI,yBAAyBP,IAI1B,YAAAO,yBAAR,SAAiCP,GAAjC,WACIlI,KAAK0I,gBAAkBtG,SAASC,cAAc,qBAC9CrC,KAAK2I,eAAiB,IAAIC,SAAS5I,KAAK0I,iBACxCP,EAAEnI,KAAK0I,iBAAiBG,WAAW,aAAaA,WAAW,yBAC3DV,EAAEW,UAAUC,YAAYC,MAAMhJ,KAAK0I,iBAEnC1I,KAAK0I,gBAAgBO,SAAW,SAAC3B,GAW7B,OAVAA,EAAE4B,iBACEf,EAAE,EAAKO,iBAAiBS,SACxB,EAAKR,eAAiB,IAAIC,SAAS,EAAKF,iBAExC,EAAKU,0BAGL,EAAKlH,UAAUmH,aAGZ,IAOP,YAAAD,uBAAR,e,EAAA,OACIpJ,KAAKsJ,oBACL,IAAIC,EAA2D,QAAtD,EAAGvJ,KAAK2I,eAAea,IAAI,mCAA2B,eAAEC,WACjEzJ,KAAKC,aAAaiE,SAAiBlE,KAAKD,SAAW,wBAAyBC,KAAK2I,eAAgBY,GAAO,GACnG3I,MAAK,SAACC,GAEHuB,SAAS+B,eAAe,kBAAkBrD,UAAYD,EACtD,EAAKqB,UAAUwH,SAAS,MACxB,EAAKxH,UAAUkC,gBACX,EAAKjB,mBACL,EAAKA,uBAEZkB,OAAM,SAACC,GAAQ,OAAAC,QAAQC,IAAIF,OAM5B,YAAAgF,kBAAR,W,YACItJ,KAAKiI,YAAY0B,QAA4C,QAArC,EAAG3J,KAAK2I,eAAea,IAAI,kBAAU,eAAEC,WAC/DzJ,KAAKiI,YAAY2B,YAAoD,QAAzC,EAAG5J,KAAK2I,eAAea,IAAI,sBAAc,eAAEC,WACvEzJ,KAAKiI,YAAY4B,UAAgD,QAAvC,EAAG7J,KAAK2I,eAAea,IAAI,oBAAY,eAAEC,WACnEzJ,KAAKiI,YAAY6B,aAAsD,QAA1C,EAAG9J,KAAK2I,eAAea,IAAI,uBAAe,eAAEC,WACzEzJ,KAAKiI,YAAY8B,QAAW/J,KAAK2I,eAAea,IAAI,YAGhD,YAAAjB,oBAAR,SAA4BlC,GAEH,MAAjBA,EAAQe,MACRhF,SAASC,cAAgC,gBAAgB2H,gBAAgB,YAEzE5H,SAASC,cAAgC,gBAAgB4H,aAAa,WAAY,SAGnF,YAAAjH,QAAP,WACIhD,KAAKqI,QAAQd,UACbvH,KAAKiI,YAAc,MAE3B,EAjGA,GAAa,EAAAhF,c,qLCAb,iBAUI,WAAY8E,EAAmBmC,GAC3BlK,KAAKkC,UAAY6F,EACjB/H,KAAKmK,YAAcD,EAyD3B,OAnDW,YAAA1G,0BAAP,SAAiC0E,GAAjC,WACIC,EAAE,cAAcvC,GAAG,SAAS,WAAM,SAAKjC,mBACvCvB,SAAS+B,eAAe,cAAcgC,iBAAiB,SAAS,SAACiE,GACzD,EAAK3G,mBACL,EAAKA,uBAEbzD,KAAKmK,YAAYE,WAAalC,EAAE,gBAAgBmC,UAAU,CAEtDC,SAAS,EACTlF,QAAQ,EACRmF,WAAY,CAAC,GACbjD,SAAS,EACTkD,YAAY,EACZC,QAAQ,EACRC,SAAU,CACN,WAAc,gBACd,WAAc,2BACd,YAAe,+BACf,WAAc,uCACd,KAAQ,sDACR,UAAa,sCACb,aAAgB,4CAChB,OAAU,UACV,UAAa,IACb,eAAkB,cAClB,SAAY,CACR,MAAS,UACT,KAAQ,SACR,KAAQ,YACR,SAAY,YAEhB,KAAQ,CACJ,cAAiB,yDACjB,eAAkB,8DAI9B3K,KAAK4K,qBAGD,YAAAA,kBAAR,sBACI5K,KAAKmK,YAAYU,SAAW,IAAIC,MAChC9K,KAAKmK,YAAYE,WAAWU,UAAUC,OAAM,SAACC,EAAOC,EAAWC,GAC3D,EAAKhB,YAAYU,SAASO,KAAK,EAAKjB,YAAYE,WAAWgB,OAAOJ,GAAOK,SAASxK,eAInF,YAAAkC,QAAP,W,QACgC,QAA5B,EAAgB,QAAhB,EAAAhD,KAAKmK,mBAAW,eAAEE,kBAAU,SAAE9C,SAAQ,GACtCvH,KAAKmK,YAAc,MAE3B,EArEA,GAAa,EAAA5G,c,sjDCFb,qCAGA,aAqBI,WAAYwE,EAAmBwD,GAZvB,KAAAxL,SAAW,yBAafC,KAAKC,aAAe,IAAI,EAAAC,iBACxBF,KAAKkC,UAAY6F,EACjB/H,KAAKwL,YAAcD,EACnBvL,KAAKyL,cAAgB,IAAIX,MACzB9K,KAAK0L,SAAW,IAAIZ,MAggB5B,OA3fiB,YAAAhH,0BAAb,SAAuC6H,EAAkBC,G,uFACrD5L,KAAK6L,YAAcF,EACnB3L,KAAKQ,iBAAmBoL,EACxBzD,EAAE,kBAAkBvC,GAAG,SAAS,WAAQ,EAAKkG,oBAC7C3D,EAAE,cAAcvC,GAAG,SAAS,WAAM,SAAK3B,mBACnC8H,EAAc3J,SAASC,cAA2B,uBACtDrC,KAAKgM,qBAAuBpK,EAAEqK,YAAYnK,KAAKiK,EAAa,CAAEG,WAAW,IACzE/D,EAAE,iDAAiDvC,GAAG,SAAS,WAAc,OAAO,KACpF5F,KAAKmM,2BACLnM,KAAKwD,4BACLxD,KAAKoM,4BAA4BL,GACjC/L,KAAKqM,uB,WAID,YAAAF,yBAAR,sBAEInM,KAAKsM,gBAAkBlK,SAASC,cAA+B,qBAC/DrC,KAAKuM,kBACLvM,KAAKwM,kBAGLxM,KAAKsM,gBAAgBrD,SAAW,SAAC3B,GAgB7B,OAfAA,EAAE4B,iBAEEf,EAAE,EAAKmE,iBAAiBnD,SACxB,EAAKsD,eAAiB,IAAI7D,SAAS,EAAK0D,iBAEpC,EAAK9L,iBACL,EAAKkM,kCAEL,EAAKC,+BAGT/K,EAAEgF,MAAM,CAAEC,KAAM,iFAAkFE,QAAS,UAC3G,EAAK7E,UAAUmH,cAGZ,IAIP,YAAA7F,0BAAR,sBAEQxD,KAAK6L,aACLzJ,SAAS+B,eAAe,kBAAkBgC,iBAAiB,SAAS,SAACiE,GACjE,EAAKoB,YAAYhK,UAAU6I,WAAWuC,KAAKC,IAAI,GAAGC,OAClD1K,SAAS+B,eAAe,yBAAyB4I,YAAY,EAAKvB,YAAYhK,UAAU6I,WAAW2C,MAAM,gBAAgBC,gBAE7HjN,KAAKwL,YAAYhK,UAAU6I,WAAWuC,KAAKC,IAAI,GAAGC,OAClD1K,SAAS+B,eAAe,yBAAyB4I,YAAY/M,KAAKwL,YAAYhK,UAAU6I,WAAW2C,MAAM,gBAAgBC,cAGzH7K,SAAS+B,eAAe,kBAAkBgC,iBAAiB,SAAS,SAACiE,GAC7D,EAAKrG,iBACL,EAAKA,kBACT,EAAK7B,UAAUgL,SAAS,EAAG,UAK/B,YAAAX,gBAAR,sBAEI,GAAIvM,KAAK6L,YACLzJ,SAASC,cAAgC,wBAAwB+E,MAAQpH,KAAKwL,YAAYlK,UAAUuI,UACpGzH,SAASC,cAAgC,6BAA6B+E,MAAQpH,KAAKwL,YAAYlK,UAAUwI,aACzG1H,SAASC,cAAgC,mBAAmB+E,MAAQpH,KAAKwL,YAAYlK,UAAUqI,QAC/FvH,SAASC,cAAgC,qBAAqB+E,MAAQpH,KAAKwL,YAAYlK,UAAUsI,gBAEhG,CACD5J,KAAKwL,YAAYhK,UAAUqJ,SAAW,IAAIC,MAC1C,IAAIqC,EAAW/K,SAASC,cAAiC,yBACzDyI,MAAMsC,KAAKD,EAASE,SAAShG,SAAQ,SAACiG,GAC7BA,EAAIC,UACL,EAAK/B,YAAYhK,UAAUqJ,SAASO,KAAKkC,EAAIlG,YAKrD,YAAAgF,4BAAR,SAAoCL,GAApC,WACIA,EAAYnG,GAAG,SAAU,UAAU,SAAMC,GAAK,qC,yDACtCA,EAAME,OAAOC,QAAQ,qBACrB,GAAMhG,KAAKwN,kBAAkB3H,EAAME,SADnC,M,OACA,S,wBAEAF,EAAME,OAAOC,QAAQ,0BACrB,GAAMhG,KAAKyN,yBAAyB5H,EAAME,SAD1C,M,OACA,S,wBAEAF,EAAME,OAAOC,QAAQ,yBACrB,GAAMhG,KAAK0N,2BAA2B7H,EAAME,SAD5C,M,OACA,S,qCAIRgG,EAAYnG,GAAG,QAAS,qBAAqB,SAAMC,GAAK,qC,yDAChDA,EAAME,OAAOC,QAAQ,yBACrB,GAAMhG,KAAK2N,sBAAsB9H,EAAME,SADvC,M,OACA,S,wBAGAF,EAAME,OAAOC,QAAQ,4BACrB,GAAMhG,KAAK4N,gBAAgB/H,EAAME,SADjC,M,OACA,S,wBAGAF,EAAME,OAAOC,QAAQ,2BACrB,GAAMhG,KAAK6N,iBAAiBhI,EAAME,SADlC,M,OACA,S,qCAKRgG,EAAYnG,GAAG,QAAS,iBAAiB,SAAMC,GAAK,qC,kDAChD,SAAM7F,KAAK8N,mBAAmBjI,EAAME,S,cAApC,S,eAIA,YAAAyG,gBAAR,WACIxM,KAAKyM,eAAiB,IAAI7D,SAAS5I,KAAKsM,iBACxCnE,EAAEnI,KAAKsM,iBAAiBzD,WAAW,aAAaA,WAAW,yBAC3DV,EAAEW,UAAUiF,YAAY,CAAE,OAAU,uBACpC5F,EAAEW,UAAUC,YAAYC,MAAMhJ,KAAKsM,kBAG/B,YAAAwB,mBAAR,SAA2BzH,GACvB,GAAqB,IAAjBA,EAAQe,MAAa,CACrB,IAAI4G,EAASC,SAAS5H,EAAQe,OAC9B,GAAI8G,MAAMF,GACN3H,EAAQe,MAAQ,OAEf,CACDf,EAAQe,MAAQ4G,EAAOvE,WACvB,IAAI0E,EAAa/L,SAASoD,iBAAmC,sBAAwBa,EAAQ+H,GAAK,KAC9FtD,MAAMsC,KAAKe,GAAYE,MAAK,SAAA/G,GAAK,OAAAA,EAAEF,OAASf,EAAQe,WACpDxF,EAAEgF,MAAM,CAAEC,KAAM,cAAgBR,EAAQe,MAAQ,iBAAkBL,QAAS,UAC3EV,EAAQe,MAAQ,OAOxB,YAAAkH,qBAAR,SAA6BjI,GACzB,IAAIkI,EAAUnM,SAASoD,iBAAoC,0BAA4Ba,EAAQ+H,GAAK,KACpG,OAAItD,MAAMsC,KAAKmB,GAASF,MAAK,SAAA/G,GAAK,OAAAA,EAAEF,OAASf,EAAQe,WACjDxF,EAAEgF,MAAM,CAAEC,KAAM,aAAeR,EAAQe,MAAQ,oBAAqBL,QAAS,UAC7EV,EAAQmI,cAAgB,EACxB5M,EAAE0G,WAAWmG,YAAYpI,GAASqI,MAAMtH,MAAQ,GAChDf,EAAQoB,cAAckH,WAAWC,UAAY,IACtC,IAKD,YAAAjB,sBAAd,SAAoCtH,G,0GAKd,OAJdmB,EAAOnB,EAAQwI,QAA0B,oBACzCC,EAAUb,SAASzG,EAAKlB,QAAQyI,UAChCC,EAAYxH,EAAKnF,cAAiC,qBAClD2K,EAAQxF,EAAKnF,cAAc,SACb,GAAMrC,KAAKiP,mBAAmBD,EAAU5H,Q,cAAtD8H,EAAc,SACdC,EAAaD,EAAYrE,SAASuE,KAAI,SAAA9H,GAAK,OAAAA,EAAE+H,UACjDrC,EAAMsC,QAAQ,GAAGC,mBAAmB,YAAavP,KAAKwP,2BAA2BV,EAAS,KAAMK,IAChGnP,KAAK0L,SAAS+D,OAAO7N,EAAE0G,WAAWxG,KAAKkL,EAAMsC,QAAQ,GAAG9J,iBAAoC,2CAC5F5D,EAAEkB,mBACF9C,KAAKwM,kB,YAGD,YAAAoB,gBAAR,SAAwBvH,GACpBA,EAAQwI,QAA6B,MAAMa,SAC3C1P,KAAK2P,kCAGD,YAAA9B,iBAAR,SAAyBxH,GACrBA,EAAQwI,QAAuB,MAAMa,SACrC1P,KAAK2P,kCAGD,YAAAA,+BAAR,WACIvN,SAASoD,iBAAiB,uCAAuC6B,SAAQ,SAAAC,GAAK,OAAAA,EAAEoI,YAChFtN,SAASoD,iBAAiB,wCAAwC6B,SAAQ,SAAAC,GAAK,OAAAA,EAAEoI,aAEvE,YAAAlC,kBAAd,SAAgCoC,G,+GAC5B,OAAK5P,KAAKsO,qBAAqBsB,GAGb,GAAM5P,KAAKiP,mBAAmBW,EAAOxI,QAFnD,I,cAEA8H,EAAc,SACdW,EAAYD,EAAOf,QAAQ,oBAC3BiB,EAAeD,EAAUxN,cAAgC,0BACzD0N,EAAU9B,SAAS6B,EAAaxJ,QAAQ0J,eACxCb,EAAaD,EAAYrE,SAASuE,KAAI,SAAA9H,GAAK,OAAAA,EAAE+H,UACjDQ,EAAUxN,cAAc,yBAAyBoF,cAAcwI,UAAUP,OAAO,gBAEhFI,EAAaR,QAAQ,GAAGxO,UAAY,GACpCoO,EAAYrE,SAASqF,QAAO,SAAAC,GAAK,OAAa,IAAbA,EAAEC,UAAkB/I,SAAQ,SAACgJ,GAC1DP,EAAaR,QAAQ,GAAGC,mBAAmB,YAAa,EAAKC,2BAA2BO,EAASM,EAASlB,OAE9GW,EAAatK,iBAAoC,6BAA6B6B,SAAQ,SAAAiJ,GAAK,OAAAA,EAAE/C,UAAW,KACxGvN,KAAK0L,SAAS+D,OAAO7N,EAAE0G,WAAWxG,KAAKgO,EAAatK,iBAAiB,YACrE5D,EAAEkB,mBACF9C,KAAKwM,kB,YAGK,YAAAkB,2BAAd,SAAyCkC,G,0EACrCA,EAAOf,QAAQ,MAAMxM,cAAgC,qDAAqD+E,MAAQwI,EAAOpB,cAAc/E,W,WAG7H,YAAAgE,yBAAd,SAAuCmC,G,8GAIjB,OAHdW,EAAYX,EAAOf,QAAQ,MAAMxM,cAAiC,qBAAqB+E,MACvFoJ,EAAavC,SAAS2B,EAAOf,QAAQ,SAASvI,QAAQ0J,eACtDS,EAAab,EAAOxI,MACN,GAAMpH,KAAKiP,mBAAmBsB,I,cAA5CrB,EAAc,SACdwB,EAAiBxB,EAAYrE,SAAS8F,MAAK,SAAArJ,GAAK,OAAAA,EAAE+H,QAAUoB,KAC5DG,EAAMhB,EAAOf,QAA6B,OAE1CgC,EAAQD,EAAIE,MAAM,GAAGzO,cAAgC,2BACnD+E,MAAQsJ,EAAeK,MAAMtH,WACnCoH,EAAMG,QAAUN,EAAeK,OAE3BE,EAAaL,EAAIE,MAAM,GAAGzO,cAAgC,2BACnD+E,MAAQsJ,EAAeN,OAAO3G,WACzCwH,EAAWD,QAAUN,EAAeN,OAEpCQ,EAAIE,MAAM,GAAGzO,cAAgC,sBAAsB+E,MAAQsJ,EAAeQ,KAC1FN,EAAIE,MAAM,GAAGhQ,UAAYd,KAAKmR,sBAAsBT,EAAeN,OAAQI,G,YAGjE,YAAAvB,mBAAd,SAAiCmC,G,6GAEVC,OADfnC,EAAgC,QAArB,EAAGlP,KAAKyL,qBAAa,eAAEkF,MAAK,SAAAW,GAAK,OAAAA,EAAEC,aAAeH,MAC7D,MACc,GAAMpR,KAAKwR,qBAAqBJ,I,OAA9ClC,EAAc,SACdlP,KAAKyL,cAAcL,KAAK8D,G,iBAE5B,MAAO,CAAP,EAAOA,WAKG,YAAAsC,qBAAd,SAAmCC,G,8EAC/B,MAAO,CAAP,EAAO,IAAIC,SAAuB,SAACC,EAASC,GAExC,EAAK3R,aAAaU,KAAoB,EAAKZ,SAAW,oBAAqB0R,GAAQ,GAC9E7Q,MAAK,SAACC,GACH8Q,EAAQ9Q,MAEXwD,OAAM,SAACC,GACJsN,EAAOtN,iBAMf,YAAA+H,qBAAR,sBACIrM,KAAKC,aAAaU,KAAeX,KAAKD,SAAW,aAAc,MAAM,GAChEa,MAAK,SAACC,GAEH,EAAKgR,eAAiBhR,EACjB,EAAKL,kBACN4B,SAASoD,iBAAoC,qBAAqB6B,SAAQ,SAACyK,EAAIC,EAAKC,GAChF,EAAKC,wBAAwBH,MAGrC,EAAKpG,SAAS+D,OAAO7N,EAAE0G,WAAWxG,KAAKM,SAASoD,iBAAiB,eAEpEnB,OAAM,SAACC,GAAQ,OAAAC,QAAQC,IAAIF,OAI5B,YAAAqI,2BAAR,e,EAAA,OACQpD,EAA2D,QAAtD,EAAGvJ,KAAKyM,eAAejD,IAAI,mCAA2B,eAAEC,WACjEzJ,KAAKC,aAAaiE,SAA2BlE,KAAKD,SAAW,8BAA+BC,KAAKyM,eAAgBlD,GAC5G3I,MAAK,SAACC,GACCA,EAAK6F,QACD,EAAK1C,mBACL,EAAKA,oBAEbpC,EAAEgF,MAAM,CAAEC,KAAMhG,EAAKiG,QAASC,QAAUlG,EAAW,OAAI,SAAW,aAErEwD,OAAM,SAACC,GAAQ,OAAAC,QAAQC,IAAIF,OAI5B,YAAAoI,gCAAR,e,EAAA,OACQnD,EAA2D,QAAtD,EAAGvJ,KAAKyM,eAAejD,IAAI,mCAA2B,eAAEC,WAEjEzJ,KAAKC,aAAaiE,SAA2BlE,KAAKD,SAAW,mCAAoCC,KAAKyM,eAAgBlD,GACjH3I,MAAK,SAACC,GACCA,EAAK6F,QACD,EAAK1C,mBACL,EAAKA,oBAEbpC,EAAEgF,MAAM,CAAEC,KAAMhG,EAAKiG,QAASC,QAAUlG,EAAW,OAAI,SAAW,aAErEwD,OAAM,SAACC,GAAQ,OAAAC,QAAQC,IAAIF,OAK5B,YAAAwH,eAAR,WACI,IAAIoG,EAAWlS,KAAKmS,uBAEhBC,EAAKpS,KAAKqS,yBACbrS,KAAKgM,qBAAqB8F,GAAwBvC,mBAAmB,YAAa6C,GACnF,IACIE,EADalQ,SAASC,cAAc,oBAAsB6P,EAAW,MAC5C1M,iBAAiB,UAC9C2C,EAAE,oBAAsB+J,EAAW,MAAMvB,KAAK,gBAAgB/K,GAAG,SAAS,WAAc,OAAO,KAC/F5F,KAAK0L,SAAS+D,OAAO7N,EAAE0G,WAAWxG,KAAKwQ,IACvCtS,KAAKwM,mBAID,YAAA6F,uBAAR,WACI,IAAIH,EAAWlS,KAAKmS,uBACpB,MAAO,wBAAwBD,EAAQ,8MAGmCA,EAAQ,wFAE5DlS,KAAKuS,8BAA6B,0SAIoCL,EAAQ,kLAGXA,EAAQ,8RAIFA,EAAQ,8SAGPA,EAAQ,qCAAqCA,EAAQ,uZAEvDA,EAAQ,oHAGhFlS,KAAKwS,wBAAwBN,GAAS,uFAMxD,YAAAK,4BAAR,WACI,IAAIL,EAAWlS,KAAKmS,uBAChBM,EAAgBrQ,SAASsQ,cAAc,UAO3C,OANA1S,KAAK2S,wBAAwBF,EAAe,+BAC5CA,EAAcrE,GAAK,kBAAkB8D,EAAQ,gBAC7CO,EAAcG,KAAO,kBAAkBV,EAAQ,gBAC/CO,EAAcxC,UAAU4C,IAAI,oBAC5B7S,KAAKiS,wBAAwBQ,GAEtBA,EAAcK,WAGjB,YAAAN,wBAAR,SAAgCxF,GAC5B,MAAO,+KAEwCA,EAAK,wtBAmBhD,YAAAwC,2BAAR,SAAmCxC,EAAe+F,EAAkCC,GAChF,IAAIC,EAAcjT,KAAKkT,2BAA2BlG,GAElD,MAAO,wBAAwBiG,EAAW,mGAEkBjG,EAAK,4BAA4BiG,EAAW,2EAC5CjG,EAAK,cAAciG,EAAW,6GAEpEjT,KAAKmT,6BAA6BnG,GAAM,yKAKxChN,KAAKoT,8BAA8BpG,EAAO+F,EAAaC,GAAY,mMAKvBhG,EAAK,cAAciG,EAAW,oBAAmBF,aAAW,EAAXA,EAAahC,OAAK,OAAKgC,aAAW,EAAXA,EAAahC,OAAQ,UAAY,IAAE,2PAM3G/D,EAAK,cAAciG,EAAW,qBAAoBF,aAAW,EAAXA,EAAa3C,QAAM,OAAK2C,aAAW,EAAXA,EAAa3C,QAAS,UAAY,IAAE,2LAIrHpD,EAAK,cAAciG,EAAW,mBAAkBF,aAAW,EAAXA,EAAa7B,MAAI,wEAE1GlR,KAAKmR,sBAAsB4B,aAAW,EAAXA,EAAa3C,OAAQpD,GAAM,sDAKpE,YAAAoG,8BAAR,SAAsCpG,EAAeqG,EAAiClE,GAClF,IAAI9D,EAASrL,KAAKkT,2BAA2BlG,GACzCyF,EAAgBrQ,SAASsQ,cAAc,UAC3CD,EAAcrE,GAAK,kBAAkBpB,EAAK,cAAc3B,EAAM,WAC9DoH,EAAcG,KAAO,kBAAkB5F,EAAK,cAAc3B,EAAM,WAChEoH,EAAcxC,UAAU4C,IAAI,yBAC5B7S,KAAK2S,wBAAwBF,EAAe,gCAC5C,IAAIa,EAAc,IAAIC,OAAO,iBAAkB,GAAmBlC,MAAdgC,GAOpD,GANAC,EAAY/F,UAAW,EACvBkF,EAAcI,IAAIS,GAClBnE,EAAW9H,SAAQ,SAACmM,GAChBf,EAAcpF,QAAQwF,IAAI,IAAIU,OAAOC,EAAQA,EAASA,IAAUH,aAAU,EAAVA,EAAYhE,aAG5EgE,EAAY,CACZ,IAAII,EAAOrR,SAASsQ,cAAc,OAC9BgB,EAAStR,SAASsQ,cAAc,SAOpC,OANAgB,EAAOd,KAAO,kBAAkB5F,EAAK,cAAc3B,EAAM,WACzDqI,EAAOA,QAAS,EAChBA,EAAOtM,MAAQiM,EAAWhE,OAC1BqE,EAAOzJ,aAAa,QAASoJ,EAAWhE,QACxCoE,EAAK1G,YAAY2G,GACjBD,EAAK1G,YAAY0F,GACVgB,EAAKX,UAIhB,OAAOL,EAAcK,UAAY9S,KAAK2T,qBAAqBlB,EAAcG,OAGrE,YAAAO,6BAAR,SAAqCnG,GACjC,IAAI3B,EAASrL,KAAKkT,2BAA2BlG,GACzCyF,EAAgBrQ,SAASsQ,cAAc,UAC3CD,EAAcrE,GAAK,kBAAkBpB,EAAK,cAAc3B,EAAM,mBAC9DoH,EAAcG,KAAO,kBAAkB5F,EAAK,cAAc3B,EAAM,mBAChEoH,EAAcxC,UAAU4C,IAAI,wBAC5B7S,KAAK2S,wBAAwBF,EAAe,kCAE5C,IAAIa,EAAc,IAAIC,OAAO,iBAAkB,IAAI,GAInD,OAHAD,EAAY/F,UAAW,EACvBkF,EAAcI,IAAIS,GAClBtT,KAAKwL,YAAYhK,UAAUqJ,SAASxD,SAAQ,SAACmM,GAAW,OAAAf,EAAcpF,QAAQwF,IAAI,IAAIU,OAAOC,EAAQA,OAC9Ff,EAAcK,UAAY9S,KAAK2T,qBAAqBlB,EAAcG,OAGrE,YAAAe,qBAAR,SAA6Bf,GACzB,MAAO,gGACsEA,EAAI,kEAI7E,YAAAD,wBAAR,SAAgCiB,EAAqBC,GACjDD,EAAO3J,aAAa,WAAY,QAChC2J,EAAO3J,aAAa,oBAAqB4J,IAGrC,YAAA1C,sBAAR,SAA8BzB,EAAiB1C,GAE3C,OAAe,IAAX0C,GAA6B,MAAVA,GAAnBA,MAAqCA,EAC9B,8KACsE1C,EAAK,qCAG3E,IAKP,YAAAmF,qBAAR,WACI,IAAI2B,EAAY1R,SAASoD,iBAAiB,sBAC1C,GAAIsO,EAAW,CACX,IAAIC,EAAWD,EAAUA,EAAUE,OAAS,GAC5C,OAAQ/F,SAAS8F,EAAQzN,QAAQyI,UAAY,EAG7C,OAAO,GAGP,YAAAmE,2BAAR,SAAmClG,GAC/B,IACI4D,EADiBxO,SAASC,cAAgC,+BAAiC2K,EAAQ,MAC9E3K,cAAmC,wCAC5D,OAAIuO,EACO3C,SAAS2C,EAAItK,QAAQ2N,WAAa,EAElC,GAGP,YAAAhC,wBAAR,SAAgC5L,GAC5BA,EAAQvF,UAAY,GACpB,IAAIwS,EAAc,IAAIC,OAAO,uBAAwB,IAAI,GAAM,GAC/DD,EAAY/F,UAAW,EACvBlH,EAAQwM,IAAIS,GACZtT,KAAK6R,eAAexK,SAAQ,SAACmM,GAAW,OAAAnN,EAAQgH,QAAQwF,IAAI,IAAIU,OAAOC,EAAQA,QAG5E,YAAAxQ,QAAP,W,QAC6B,QAAzB,EAAAhD,KAAKgM,4BAAoB,SAAEzE,UACd,QAAb,EAAAvH,KAAK0L,gBAAQ,SAAEV,OAAM,SAAAsF,GAAK,OAAAA,EAAE/I,aAC5BvH,KAAK6R,eAAiB,KACtB7R,KAAKyL,cAAgB,MAE7B,EA1hBA,GAAa,EAAA5H,c,ghDCHb,iBASI,WAAmBqQ,EACRL,EACAM,EACAC,GAHQ,KAAAF,QACR,KAAAL,UACA,KAAAM,aACA,KAAAC,cAEPpU,KAAKqU,WAAa,kBAClBrU,KAAKgS,OAAS5P,SAASkS,KACvBtU,KAAKuU,cACLvU,KAAKwU,cA+Fb,OA5FY,YAAAD,YAAR,WACIvU,KAAKyU,MAAQrS,SAASsQ,cAAc,OACpC1S,KAAKyU,MAAMrG,GAAKpO,KAAKqU,WACrBrU,KAAKyU,MAAMxE,UAAU4C,IAAI,QAAS,qBAAsB,+BAExD,IAAM6B,EAAUtS,SAASsQ,cAAc,OACvCgC,EAAQzE,UAAU4C,IAAI,iBACtB7S,KAAKyU,MAAM1H,YAAY2H,GAEvB,IAAMpJ,EAASlJ,SAASsQ,cAAc,MACtCpH,EAAOpE,YAAclH,KAAKkU,MAC1BQ,EAAQ3H,YAAYzB,GAEpB,IAAMuI,EAAUzR,SAASsQ,cAAc,KACvCmB,EAAQ3M,YAAclH,KAAK6T,QAC3Ba,EAAQ3H,YAAY8G,GAEpB,IAAMc,EAAcvS,SAASsQ,cAAc,OAC3CiC,EAAY1E,UAAU4C,IAAI,gBAC1B7S,KAAKyU,MAAM1H,YAAY4H,GAEvB3U,KAAK4U,cAAgBxS,SAASsQ,cAAc,UAC5C1S,KAAK4U,cAAc3E,UAAU4C,IACzB,eACA,eACA,YACA,WACA,cAEJ7S,KAAK4U,cAAcC,KAAO,SAC1B7U,KAAK4U,cAAc1N,YAAclH,KAAKoU,YACtCO,EAAY5H,YAAY/M,KAAK4U,eAE7B5U,KAAK8U,aAAe1S,SAASsQ,cAAc,UAC3C1S,KAAK8U,aAAa7E,UAAU4C,IACxB,eACA,eACA,YACA,WACA,cAEJ7S,KAAK8U,aAAaD,KAAO,SACzB7U,KAAK8U,aAAa5N,YAAclH,KAAKmU,WACrCQ,EAAY5H,YAAY/M,KAAK8U,eAGzB,YAAAN,YAAR,WACIxU,KAAKgS,OAAOjF,YAAY/M,KAAKyU,QAGzB,YAAAlN,QAAR,WACQvH,KAAK+U,gBACL/U,KAAK+U,cAAcrQ,QACnB1E,KAAK+U,cAAcxN,WAGvB,IAAIyN,EAAO5S,SAASC,cAAc,IAAMrC,KAAKqU,YAC7CW,EAAKC,WAAWvN,YAAYsN,IAGnB,YAAAvO,QAAb,W,8EACI,MAAO,CAAP,EAAO,IAAIiL,SAAiB,SAACC,EAASC,KAG7B,EAAK6C,QAAU,EAAKK,eAAiB,EAAKF,iBAE3C,EAAKrN,UACLqK,EAAO,0CAGXhQ,EAAEC,MAAMC,KAAK,EAAK2S,MAAO,CACrBS,aAAa,EACbC,QAAS,GACTpT,WAAY,IACZC,YAAa,IACboT,YAAa,KACbC,UAAW,OAEf,EAAKN,cAAgBnT,EAAEC,MAAM4M,YAAY,EAAKgG,OAC9C,EAAKM,cAAc7T,OAEnB,EAAK4T,aAAa3O,iBAAiB,SAAS,WACxCwL,GAAQ,GACR,EAAKpK,aAGT,EAAKqN,cAAczO,iBAAiB,SAAS,WACzCwL,GAAQ,GACR,EAAKpK,wBAIrB,EAhHA,GAAa,EAAAf,uB,+HCCb,+BA6DA,OA3DW,YAAA7F,KAAP,SAAe2U,EAAa5T,EAAc6T,GAiBtC,YAjBsC,IAAAA,OAAA,GACtB,IAAI7D,SAAW,SAACC,EAASC,GACrC4D,MAAMF,EAAK,CACPG,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BpB,KAAMqB,KAAKC,UAAUlU,KAEpBd,MAAK,SAAAiV,GAAY,SAAiBA,EAASC,OAASD,EAASE,UAC7DnV,MAAK,SAAAC,GACF8Q,EAAQ9Q,MAEXwD,OAAM,SAAC2C,GACJzC,QAAQC,IAAIwC,GACZ4K,EAAO5K,UAOhB,YAAA9C,SAAP,SAAmBoR,EAAa5T,EAAc6H,EAAegM,GAiBzD,YAjByD,IAAAA,OAAA,GACzC,IAAI7D,SAAW,SAACC,EAASC,GACrC4D,MAAMF,EAAK,CACPG,OAAQ,OACRC,QAAS,CAAE,yBAA4BnM,GACvC+K,KAAM5S,IAELd,MAAK,SAAAiV,GAAY,SAAiBA,EAASC,OAASD,EAASE,UAC7DnV,MAAK,SAAAC,GACF8Q,EAAQ9Q,MAEXwD,OAAM,SAAC2C,GACJzC,QAAQC,IAAIwC,GACZ4K,EAAO5K,UAOhB,YAAAgP,YAAP,SAAsBV,EAAa5T,EAAc6T,GAiB7C,YAjB6C,IAAAA,OAAA,GAC7B,IAAI7D,SAAW,SAACC,EAASC,GACrC4D,MAAMF,EAAK,CACPG,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BpB,KAAM5S,IAELd,MAAK,SAAAiV,GAAY,SAAiBA,EAASC,OAASD,EAASE,UAC7DnV,MAAK,SAAAC,GACF8Q,EAAQ9Q,MAEXwD,OAAM,SAAC2C,GACJzC,QAAQC,IAAIwC,GACZ4K,EAAO5K,UAM3B,EA7DA,GAAa,EAAA9G,oB,6bCDb,qDAEa,EAAA+V,SAAW,CAAC,EAAA/V,kBAEzB,qD,yGCJa,EAAAgW,KAAb,c,iHCAa,EAAAC,SAAb,c,oHCAa,cAAb,c,mHCAa,EAAAC,UAAb,c,iHCAa,EAAAC,SAAb,c,iHCCa,EAAAC,SAAb,c,6HCDa,EAAAC,eAAb,c,2GCEa,EAAAC,MAAb,c,uGCFa,EAAAC,IAAb,c,oQCAa,EAAA/V,cAAb,aAKa,EAAAa,WAAb,aAQa,EAAAE,WAAb,c,iHCXa,EAAAiV,SAAb,c,mHCFa,EAAAC,UAAb,c,uGCAa,EAAAC,IAAb,c,6GCEa,EAAAC,OAAb,c,iHCFa,EAAAC,SAAb,c,+GCAa,EAAAC,QAAb,c,+GCAa,EAAAC,QAAb,c,6bCCA,8CACA,2CACA,0CACA,4CACA,uCACA,2CACA,sCACA,wCACA,sCACA,2CACA,yCACA,2CACA,4CACA,wDACA,2CACA,2CACA,iDAEa,EAAAC,OAAS,CAAC,EAAAD,QAAS,EAAAb,SAAU,EAAAY,QAAS,EAAAX,UAAW,EAAAF,KAAM,EAAAO,IAAK,EAAAG,IAAK,EAAAM,SAAU,EAAAJ,SAAU,EAAAD,OAAQ,EAAAR,SAAU,EAAAG,MAAO,EAAAG,UAAW,EAAAjW,cAAe,EAAAgW,SAAU,EAAAJ,SAAU,EAAAC,gBAEzK,qDACA,6CACA,8CACA,6CACA,+CACA,0CACA,2CACA,8CACA,yCACA,8CACA,4CACA,8CACA,yCACA,+CACA,2DACA,8CACA,8CACA,qD,oGChCAY,YAAYC,UAAUxR,GAAK,SAAUyR,EAAmBC,EAAuBC,GAC3EvX,KAAKmG,iBAAiBkR,GAAW,SAAAG,GACzBA,EAAezR,OAAOC,QAAQsR,IAC9BC,EAAaC,Q,4KCTzB,8DACA,sFAEA,+BA6EA,OA3EkB,EAAAtS,sBAAd,WACQiD,EAAEW,UAAU2O,QAAqB,cAGrCtP,EAAEW,UAAU4O,UAAU,eAAe,SAAUtQ,EAAOf,EAASsR,GAC3D,IACIC,EAAOD,EAAQE,EADNxR,EACoByR,MAAM,GAEvC,QAAID,GACKA,EAAKD,KAAO,KAAQA,MAOjCzP,EAAEW,UAAUC,YAAYgP,SAASlF,IAAI,cAAe,CAAC,SAAS,SAAUxF,GAEpEA,EAAQ2K,MAAmB,YAAI3K,EAAQsK,OAAa,KACpDtK,EAAQ4K,SAAsB,YAAI5K,EAAQwG,aAIpC,EAAA1O,4BAAd,WACQgD,EAAEW,UAAU2O,QAA2B,oBAG3CtP,EAAEW,UAAU4O,UAAU,qBAAqB,SAAUtQ,EAAOf,EAASsR,GACjE,IACIO,EAAOP,EAAQE,EADNxR,EACoByR,MAAM,GACnCK,EAAYD,EAAKE,MAAM,KAE3B,OAAIP,KACI,IAAKQ,OAAO,IAAMF,EAAUG,KAAK,KAAKC,QAAQ,MAAO,OAAS,MAAOC,KAAKpR,MAQtFe,EAAEW,UAAUC,YAAYgP,SAASlF,IAAI,oBAAqB,CAAC,SAAS,SAAUxF,GAC1EA,EAAQ2K,MAAyB,kBAAI3K,EAAQsK,OAAa,KAC1DtK,EAAQ4K,SAA4B,kBAAI5K,EAAQwG,aAI1C,EAAA4E,mBAAd,WACQtQ,EAAEW,UAAU2O,QAAkB,WAGlCtP,EAAEW,UAAU4O,UAAU,YAAY,SAAUtQ,EAAOf,EAASsR,GACxD,IACIe,EAASf,EAAQgB,EADRtS,EAC6Be,MACtCwR,EAAwBxW,SAAS+B,eAAeuU,GAAStR,MAQ7D,OAAIuR,GACIA,GAAeC,KAO3BzQ,EAAEW,UAAUC,YAAYgP,SAASlF,IAAI,WAAY,CAAC,qBAAqB,SAAUxF,GAC7EA,EAAQ2K,MAAgB,SAAI3K,EAAQsK,OAAyB,iBAC7DtK,EAAQ4K,SAAmB,SAAI5K,EAAQwG,aAGnD,EA7EA,GAAa,EAAA5O,iB,saCHb,yCACA,2CACA,qDCDI4T,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUtZ,QAG3C,IAAIC,EAASmZ,EAAyBE,GAAY,CAGjDtZ,QAAS,IAOV,OAHAuZ,EAAoBD,GAAUE,KAAKvZ,EAAOD,QAASC,EAAQA,EAAOD,QAASqZ,GAGpEpZ,EAAOD,Q,OAIfqZ,EAAoBI,EAAIF,EAIxBF,EAAoBK,EAAIA,MC3BxBL,EAAoBM,EAAI,CAAC3Z,EAAS4Z,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAE9Z,EAAS6Z,IAC5EE,OAAOC,eAAeha,EAAS6Z,EAAK,CAAEI,YAAY,EAAMlQ,IAAK6P,EAAWC,MCJ3ER,EAAoBS,EAAI,CAACI,EAAKC,IAAUJ,OAAOpC,UAAUyC,eAAeZ,KAAKU,EAAKC,GCClFd,EAAoBgB,EAAKra,IACH,oBAAXsa,QAA0BA,OAAOC,aAC1CR,OAAOC,eAAeha,EAASsa,OAAOC,YAAa,CAAE5S,MAAO,WAE7DoS,OAAOC,eAAeha,EAAS,aAAc,CAAE2H,OAAO,K,MCAvD,IAAI6S,EAAkB,CACrB,cAAiB,GAGdC,EAAkB,CACrB,CAAC,yDAAyD,aAYvDC,EAAuBhB,MAGvBiB,EAAuB,CAACC,EAA4BxZ,KAKvD,IAJA,IAGIkY,EAAUuB,GAHTC,EAAUC,EAAaC,EAASC,GAAkB7Z,EAGhC8Z,EAAI,EAAGC,EAAW,GACpCD,EAAIJ,EAASvG,OAAQ2G,IACzBL,EAAUC,EAASI,GAChB7B,EAAoBS,EAAEU,EAAiBK,IAAYL,EAAgBK,IACrEM,EAASxP,KAAK6O,EAAgBK,GAAS,IAExCL,EAAgBK,GAAW,EAE5B,IAAIvB,KAAYyB,EACZ1B,EAAoBS,EAAEiB,EAAazB,KACrCD,EAAoBI,EAAEH,GAAYyB,EAAYzB,IAKhD,IAFG0B,GAASA,EAAQ3B,GACjBuB,GAA4BA,EAA2BxZ,GACpD+Z,EAAS5G,QACd4G,EAASC,OAATD,GAOD,OAHGF,GAAgBR,EAAgB9O,KAAK0P,MAAMZ,EAAiBQ,GAGxDP,KAGJY,EAAqBlb,KAA2B,qBAAIA,KAA2B,sBAAK,GAIxF,SAASmb,IAER,IADA,IAAIC,EACIN,EAAI,EAAGA,EAAIT,EAAgBlG,OAAQ2G,IAAK,CAG/C,IAFA,IAAIO,EAAiBhB,EAAgBS,GACjCQ,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAelH,OAAQoH,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BnB,EAAgBoB,KAAcF,GAAY,GAE3CA,IACFjB,EAAgBoB,OAAOX,IAAK,GAC5BM,EAASnC,EAAoBA,EAAoBxI,EAAI4K,EAAe,KAOtE,OAJ8B,IAA3BhB,EAAgBlG,SAClB8E,EAAoBK,IACpBL,EAAoBK,EAAIA,OAElB8B,EArBRF,EAAmB1T,QAAQ+S,EAAqBmB,KAAK,KAAM,IAC3DR,EAAmB3P,KAAOgP,EAAqBmB,KAAK,KAAMR,EAAmB3P,KAAKmQ,KAAKR,IAsBvF,IAAIS,EAAU1C,EAAoBK,EAClCL,EAAoBK,EAAI,KAEvBL,EAAoBK,EAAIqC,GAAW,CAACrC,QAC5BgB,EAAuBa,O,GClFNlC,EAAoBK,K","file":"js/pages/mapeoArchivos.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kairosv2\"] = factory();\n\telse\n\t\troot[\"kairosv2\"] = factory();\n})(self, function() {\nreturn ","\r\nimport { HttpFetchService, IMessageResponse } from '../../Shared';\r\nimport { Paso1Mapeo, Paso2Mapeo, MapeoArchivos } from '../../Shared/Models/ProcesamientoArchivos';\r\nimport 'materialize-stepper/dist/js/mstepper.js';\r\nimport 'materialize-stepper/dist/css/mstepper.css';\r\nimport 'datatables.net-responsive';\r\nimport { TablaSistemaColumna, TablasSistema } from '../../Shared/Models/TablasKairos';\r\nimport { ConfigureDataTable } from '../../Shared/Components';\r\nimport { MapeoPaso1 } from './MapeoPaso1';\r\nimport { MapeoPaso2 } from './MapeoPaso2';\r\nimport { MapeoPaso3 } from './MapeoPaso3';\r\n\r\nexport class GestionMapeoArchivo {\r\n\r\n    //PROPIEDADES\r\n    public onProcesamientoArchivosGuardado?: () => void;\r\n\r\n    //CAMPOS\r\n    private _baseUrl = \"/ProcesamientoArchivos\";\r\n    private _httpService: HttpFetchService;\r\n    private _modalInstance: M.Modal;\r\n    private _modalBase: HTMLElement;\r\n    private _mStepper: MStepper;\r\n    private _dataMapeoArchivo: MapeoArchivos;\r\n    private _defaultActiveStep: number;\r\n    private _esNuevo: boolean;\r\n    private _actualizarMapeo: boolean;\r\n    private _paso1Vista: MapeoPaso1;\r\n    private _paso2Vista: MapeoPaso2;\r\n    private _paso3Vista: MapeoPaso3;\r\n\r\n    //CONSTRUCTOR\r\n    constructor(modalBase: HTMLElement) {\r\n        this._httpService = new HttpFetchService();\r\n\r\n        this._modalBase = modalBase;\r\n        this.InicializarModal();\r\n    }\r\n\r\n    //METODOS\r\n\r\n    //Creación de nueva Mapeo\r\n    public NuevoProcesamientoArchivos() {\r\n        this._defaultActiveStep = 0;\r\n        this._esNuevo = true;\r\n        this._actualizarMapeo = false;\r\n        this._dataMapeoArchivo = new MapeoArchivos();\r\n        this._httpService.Post<string>(this._baseUrl + \"/NuevoProcesamientoArchivos\", null, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicializarStepper();\r\n                this.InicializarControles(1);\r\n                this._modalInstance.open();\r\n            });\r\n    }\r\n\r\n    //Edición y detalles de mapeo\r\n    public DatosProcesamientoArchivos(idMapeo: string, lectura: boolean) {\r\n        this._esNuevo = false;\r\n        this._actualizarMapeo = true;\r\n        this._defaultActiveStep = 2;\r\n        this._dataMapeoArchivo = new MapeoArchivos();\r\n        this._dataMapeoArchivo.Paso1Data = new Paso1Mapeo();\r\n        this._dataMapeoArchivo.Paso2Data = new Paso2Mapeo();\r\n        var payload = { idEntidad: idMapeo, lectura: lectura };\r\n        this._httpService.Post<string>(this._baseUrl + \"/DatosProcesamientoArchivos\", payload, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicializarStepper();\r\n                this.InicializarControles(3);\r\n                this._modalInstance.open();\r\n            });\r\n    }\r\n\r\n    //-- INICIALIZA CONTROLES GENERALES --\r\n\r\n    //Inicializar control modal y stepper\r\n    private InicializarModal() {\r\n\r\n        this._modalInstance = M.Modal.init(this._modalBase, {\r\n            inDuration: 300,\r\n            outDuration: 200,\r\n            onOpenEnd: () => {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private InicializarStepper() {\r\n        this._mStepper = new MStepper(document.querySelector(\".stepper\"), {\r\n            firstActive: this._defaultActiveStep,\r\n            showFeedbackPreloader: true,\r\n            stepTitleNavigation: false,\r\n            autoFocusInput: false,\r\n            autoFormCreation: false,\r\n            feedbackPreloader: '<div class=\"spinner-layer spinner-blue-only\">...</div>'\r\n        });\r\n\r\n        this._mStepper.resetStepper();\r\n    }\r\n\r\n    //Inicializa controles general\r\n    private InicializarControles(paso: number): void {\r\n        M.updateTextFields();\r\n        //TODO: Review if is needed destroy steps instances\r\n        if (paso == 1) {\r\n            this._paso1Vista?.Destroy();\r\n            this._dataMapeoArchivo.Paso1Data = new Paso1Mapeo();\r\n            this._paso1Vista = new MapeoPaso1(this._mStepper, this._dataMapeoArchivo.Paso1Data)\r\n            this._paso1Vista.InicializarControlesPaso1(this._esNuevo);\r\n            this._paso1Vista.onPaso1Completado = () => this.InicializarControles(2);\r\n            this._paso1Vista.onPaso1Cerrar = () => this.CerrarModal();\r\n        }\r\n        else if (paso == 2) {\r\n            this._paso2Vista?.Destroy();\r\n            this._dataMapeoArchivo.Paso2Data = new Paso2Mapeo();\r\n            this._paso2Vista = new MapeoPaso2(this._mStepper, this._dataMapeoArchivo.Paso2Data);\r\n            this._paso2Vista.InicializarControlesPaso2(this._esNuevo);\r\n            this._paso2Vista.onPaso2Completado = () => this.NuevoMapeoArchivoTablas();\r\n            this._paso2Vista.onPaso2Cerrar = () => this.CerrarModal();\r\n        }\r\n        else if (paso == 3) {\r\n            this._paso3Vista?.Destroy();\r\n            this._paso3Vista = new MapeoPaso3(this._mStepper, this._dataMapeoArchivo);\r\n            this._paso3Vista.InicializarControlesPaso3(this._esNuevo, this._actualizarMapeo);\r\n            this._paso3Vista.onPaso3Anterior = () => this.InicializarControles(1);\r\n            this._paso3Vista.onPaso3Completado = () => this.CerrarModal();\r\n            this._paso3Vista.onPaso3Cerrar = () => this.CerrarModal();\r\n            //TODO: Destroy evertything\r\n        }\r\n    }\r\n\r\n    //Crear nuevo mapeo archivo\r\n    private NuevoMapeoArchivoTablas(): void {\r\n        this._httpService.PostForm<string>(this._baseUrl + \"/NuevoMapeoArchivoTablas\", null, null, false)\r\n            .then((data) => {\r\n                document.getElementById(\"step-3-content\").innerHTML = data;\r\n                this._mStepper.updateStepper();\r\n                this._actualizarMapeo = !this._esNuevo;\r\n                this._esNuevo = true;\r\n                this.InicializarControles(3);\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Cerrar control modal\r\n    private CerrarModal() {\r\n        if (this.onProcesamientoArchivosGuardado)\r\n            this.onProcesamientoArchivosGuardado();\r\n\r\n\r\n        this._modalInstance.close();\r\n        //this._paso1Vista?.Destroy();\r\n        this._paso1Vista = null;\r\n        this._paso2Vista?.Destroy();\r\n        this._paso2Vista = null;\r\n        this._paso3Vista?.Destroy();\r\n        this._paso3Vista = null;\r\n        this._dataMapeoArchivo = null;\r\n        //this._formMapeoPaso1.parentNode.removeChild(this._formMapeoPaso1);\r\n    }\r\n}","import { HttpFetchService, IMessageResponse, MapeoArchivos } from '../../Shared';\r\nimport { ConfirmModalMessage } from '../../Shared/Components/ConfirmModalMessage';\r\nimport { GestionMapeoArchivo } from './GestionMapeoArchivo';\r\nimport { JQValidations } from '../../Shared/Utils/JQValidations';\r\nimport { IPage } from '../../Shared/Components/IPage';\r\n\r\nexport class MapeoArchivosPage implements IPage {\r\n\r\n    private modalInstance: M.Modal;\r\n    private gestionMapeoArchivo: GestionMapeoArchivo;\r\n    private tooltipInstances: M.Tooltip[];\r\n\r\n    BaseURL: \"/ProcesamientoArchivos/Index\";\r\n\r\n    constructor() {\r\n        this.Init();\r\n    }\r\n\r\n    public Destroy() {\r\n        //this.Table.destroy(false);\r\n    }\r\n\r\n    public Init() {\r\n        this.InicializarButtons();\r\n        this.InicializarControls();\r\n    }\r\n\r\n    private InicializarControls() {\r\n        this.gestionMapeoArchivo = new GestionMapeoArchivo(document.getElementById(\"img-modal\"));\r\n        this.gestionMapeoArchivo.onProcesamientoArchivosGuardado = () => this.ActualizarListaMapeos();\r\n        JQValidations.MaxFileSizeValidation();\r\n        JQValidations.AllowedExtensionsValidation();\r\n    }\r\n\r\n    private InicializarButtons() {\r\n        let mappers = document.getElementById(\"files-mapped\");\r\n        let search = document.getElementById(\"search-page\");\r\n        var MapeoArchivosAdd = document.getElementById(\"mapeoArchivos-add\");\r\n        var elems = document.querySelectorAll('.dropdown-trigger');\r\n        var instances = M.Dropdown.init(elems);\r\n        this.tooltipInstances = M.Tooltip.init(document.querySelectorAll('.tooltipped'));\r\n\r\n        search.on('click', '.filter-action', event => {\r\n            this.BuscarMapeo(event.target as HTMLElement);\r\n        });\r\n\r\n        mappers.on('click', '.files-action', event => {\r\n            if (event.target.matches(\".files-edit\"))\r\n                this.EditarMaperArchivo(event.target as HTMLElement);\r\n\r\n            else if (event.target.matches(\".files-delete\"))\r\n                this.BorrarMaperArchivos(event.target as HTMLElement);\r\n\r\n        });\r\n        MapeoArchivosAdd.addEventListener('click', event => this.CrearMaperArchivo());\r\n    }\r\n\r\n    private async BorrarMaperArchivos(element: HTMLElement) {\r\n        let idMapeo = element.dataset.mapperid;\r\n        const confirm = new ConfirmModalMessage(\"Eliminar Mapeo\", \"¿Desea eliminar el Mapeo \" + idMapeo + \"?\", \"Aceptar\", \"Cancelar\");\r\n        const shouldDelete = await confirm.Confirm();\r\n        if (shouldDelete) {\r\n            const httpService = new HttpFetchService();\r\n            httpService.Post<IMessageResponse>('/ProcesamientoArchivos/BorrarProcesamientoArchivos', idMapeo)\r\n                .then((data) => {\r\n                    if (data.Result) {\r\n                        this.BorrarMapeo(idMapeo);\r\n                    }\r\n                    M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n                }).catch((error) => {\r\n                    M.toast({ html: error, classes: \"error\" });\r\n                });\r\n        }\r\n    }\r\n\r\n    private EditarMaperArchivo(element: HTMLElement): void {\r\n        this.gestionMapeoArchivo.DatosProcesamientoArchivos(element.dataset.mapperid, false);\r\n    }\r\n\r\n    private CrearMaperArchivo() {\r\n        this.gestionMapeoArchivo.NuevoProcesamientoArchivos();\r\n    }\r\n\r\n    private BuscarMapeo(element: HTMLElement): void {\r\n        let filtro = element.textContent;\r\n        let buscar = document.querySelector<HTMLInputElement>(\"#map-busqueda\");\r\n        if (filtro == \"Todos\")\r\n            buscar.value = \"\";\r\n        else if (filtro != \"Todos\" && (buscar.value == null || buscar.value == \"\")) {\r\n            M.toast({ html: \"Debes escribir algún término\", classes: \"error\" });\r\n            return;\r\n        }\r\n\r\n        var payload = { filtro: filtro, buscar: buscar.value };\r\n        let httpService = new HttpFetchService();\r\n        httpService.Post<string>(\"/ProcesamientoArchivos/ObtenerListado\", payload, false)\r\n            .then((data) => {\r\n                document.querySelector(\".file-process\").innerHTML = data;\r\n                this.tooltipInstances?.forEach(e => e?.destroy());\r\n                this.tooltipInstances = M.Tooltip.init(document.querySelectorAll('.tooltipped'));\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Funcion para borrar Mapeo\r\n    private BorrarMapeo(idMapeo) {\r\n        let card = document.getElementById(idMapeo);\r\n        card.parentElement.removeChild(card);\r\n    }\r\n\r\n    //Actualiza lista de mapeos\r\n    private ActualizarListaMapeos() {\r\n        const httpService = new HttpFetchService();\r\n        httpService.Post<string>(\"/ProcesamientoArchivos/ObtenerListado\", null, false)\r\n            .then((data) => {\r\n                document.querySelector(\".file-process\").innerHTML = data;\r\n                this.tooltipInstances?.forEach(e => e?.destroy());\r\n                this.tooltipInstances = M.Tooltip.init(document.querySelectorAll('.tooltipped'));\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n}\r\n\r\nvar procesamientoArchivosPage = new MapeoArchivosPage();\r\n\r\n// Called after every non-initial page load\r\ndocument.addEventListener('turbolinks:render', (e: any) => {\r\n    if (document.URL.indexOf('/ProcesamientoArchivos/Index') != -1) {\r\n        if (procesamientoArchivosPage) {\r\n            procesamientoArchivosPage.Init();\r\n        }\r\n        else {\r\n            procesamientoArchivosPage = new MapeoArchivosPage();\r\n        }\r\n        //console.log(e.data.url);\r\n    }\r\n    else\r\n        procesamientoArchivosPage?.Destroy();\r\n});","import { HttpFetchService, Paso1Mapeo } from \"../../Shared\";\r\n\r\nexport class MapeoPaso1 {\r\n\r\n    //PROPIEDADES\r\n    public onPaso1Cerrar?: () => void;\r\n    public onPaso1Completado?: () => void;\r\n\r\n    //CAMPOS\r\n    private _baseUrl = \"/ProcesamientoArchivos\";\r\n    private _httpService: HttpFetchService;\r\n    private _formMapeoPaso1: HTMLFormElement;\r\n    private _dataFormPaso1: FormData;\r\n    private _select: M.FormSelect;\r\n    private _mStepper: MStepper;\r\n    private _step1Model: Paso1Mapeo;\r\n\r\n    constructor(stepper: MStepper, step1: Paso1Mapeo) {\r\n        this._httpService = new HttpFetchService();\r\n        this._mStepper = stepper;\r\n        this._step1Model = step1;\r\n    }\r\n\r\n    //--- METODOS -----------------------------------------------------------------\r\n\r\n    //Inicializa controles paso 1\r\n    public InicializarControlesPaso1(modoCreacion: boolean) {\r\n        $('.btn.close').on('click', () => this.onPaso1Cerrar());\r\n        let selectSeparator = document.querySelector<HTMLSelectElement>(\"#datos-iniciales-separador\");\r\n        this._select = M.FormSelect.init(selectSeparator);\r\n        selectSeparator.addEventListener(\"change\", (event) => this.CheckSepartorOption((event.target as HTMLSelectElement)));\r\n\r\n        $(\"#select-files\").on(\"click\", function () { $(\"#mapeo-archivo\").click(); })\r\n        this.InicilizarFormMapeoPaso1(modoCreacion);\r\n    }\r\n\r\n    //Inicializa formulario paso 1\r\n    private InicilizarFormMapeoPaso1(modoCreacion: boolean): void {\r\n        this._formMapeoPaso1 = document.querySelector('#mapeo-form-step1');\r\n        this._dataFormPaso1 = new FormData(this._formMapeoPaso1);\r\n        $(this._formMapeoPaso1).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.unobtrusive.parse(this._formMapeoPaso1);\r\n\r\n        this._formMapeoPaso1.onsubmit = (e) => {\r\n            e.preventDefault();\r\n            if ($(this._formMapeoPaso1).valid()) {\r\n                this._dataFormPaso1 = new FormData(this._formMapeoPaso1);\r\n                //this._dataFormPaso1.forEach((value, key) => { console.log(key + \": \" + value) });\r\n                this.ProcesarDatosIniciales();\r\n            }\r\n            else {\r\n                this._mStepper.wrongStep();\r\n            }\r\n\r\n            return false; // prevent reload\r\n        };\r\n    }\r\n\r\n    //-- OPERACIONES SERVIDOR -----------------------------------------------------\r\n\r\n    //Procesar archivo\r\n    private ProcesarDatosIniciales(): void {\r\n        this.ExtraerDatosPaso1();\r\n        let token = this._dataFormPaso1.get(\"RequestVerificationToken\")?.toString();\r\n        this._httpService.PostForm<string>(this._baseUrl + \"/PrevisualizarArchivo\", this._dataFormPaso1, token, false)\r\n            .then((data) => {\r\n                //console.log(data);\r\n                document.getElementById(\"step-2-content\").innerHTML = data;\r\n                this._mStepper.nextStep(null);\r\n                this._mStepper.updateStepper();\r\n                if (this.onPaso1Completado)\r\n                    this.onPaso1Completado();\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //-- OPERACIONES DE DATOS  -----------------------------------------------------\r\n\r\n    //Extraer datos paso1\r\n    private ExtraerDatosPaso1(): void {\r\n        this._step1Model.IdMapeo = this._dataFormPaso1.get(\"IdMapeo\")?.toString();\r\n        this._step1Model.Descripcion = this._dataFormPaso1.get(\"Descripcion\")?.toString();\r\n        this._step1Model.Separador = this._dataFormPaso1.get(\"Separador\")?.toString();\r\n        this._step1Model.OtroCaracter = this._dataFormPaso1.get(\"OtroCaracter\")?.toString();\r\n        this._step1Model.Archivo = (this._dataFormPaso1.get(\"Archivo\") as File);\r\n    }\r\n\r\n    private CheckSepartorOption(element: HTMLSelectElement): void {\r\n\r\n        if (element.value == \"95\")\r\n            document.querySelector<HTMLInputElement>(\"#mapeo-other\").removeAttribute(\"disabled\");\r\n        else\r\n            document.querySelector<HTMLInputElement>(\"#mapeo-other\").setAttribute(\"disabled\", \"true\");\r\n    }\r\n\r\n    public Destroy() {\r\n        this._select.destroy();\r\n        this._step1Model = null;\r\n    }\r\n}","import { HttpFetchService, Paso2Mapeo } from \"../../Shared\";\r\n\r\nexport class MapeoPaso2 {\r\n\r\n    //PROPIEDADES\r\n    public onPaso2Cerrar?: () => void;\r\n    public onPaso2Completado?: () => void;\r\n\r\n    //CAMPOS\r\n    private _mStepper: MStepper;\r\n    private _step2Model: Paso2Mapeo;\r\n\r\n    constructor(stepper: MStepper, step2: Paso2Mapeo) {\r\n        this._mStepper = stepper;\r\n        this._step2Model = step2;\r\n    }\r\n\r\n    //--- METODOS -----------------------------------------------------------------\r\n\r\n    //Inicializa controles paso 2\r\n    public InicializarControlesPaso2(modoCreacion: boolean) {\r\n        $('.btn.close').on('click', () => this.onPaso2Cerrar());\r\n        document.getElementById(\"step2-next\").addEventListener('click', (ev) => {\r\n            if (this.onPaso2Completado)\r\n                this.onPaso2Completado();\r\n        });\r\n        this._step2Model.TableStep2 = $(\"#table-step2\").DataTable({\r\n            //scrollY: this.CalcDataTableHeight(),\r\n            scrollX: false,\r\n            search: false,\r\n            lengthMenu: [4],\r\n            destroy: true,\r\n            responsive: true,\r\n            paging: true,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n        this.ExtraerDatosPaso2();\r\n    }\r\n\r\n    private ExtraerDatosPaso2(): void {\r\n        this._step2Model.Columnas = new Array();\r\n        this._step2Model.TableStep2.columns().every((coldx, tableLoop, colLoop) => {\r\n            this._step2Model.Columnas.push(this._step2Model.TableStep2.column(coldx).header().innerHTML);\r\n        });\r\n    }\r\n\r\n    public Destroy(): void {\r\n        this._step2Model?.TableStep2?.destroy(true);\r\n        this._step2Model = null;\r\n    }\r\n}","import { HttpFetchService, IMessageResponse, MapeoArchivos } from \"../../Shared\";\r\nimport { TablaSistemaColumna, TablasSistema } from \"../../Shared/Models/TablasKairos\";\r\n\r\nexport class MapeoPaso3 {\r\n\r\n    //PROPIEDADES\r\n    public onPaso3Cerrar?: () => void;\r\n    public onPaso3Completado?: () => void;\r\n    public onPaso3Anterior?: () => void;\r\n\r\n    //CAMPOS\r\n    private _nuevoMapeo: boolean;\r\n    private _baseUrl = \"/ProcesamientoArchivos\";\r\n    private _httpService: HttpFetchService;\r\n    private _formMapeoPaso3: HTMLFormElement;\r\n    private _dataFormPaso3: FormData;\r\n    private _mStepper: MStepper;\r\n    private _step3Model: MapeoArchivos;\r\n    private _optionsTablas: string[];\r\n    private _tablasKairos: TablasSistema[];\r\n    private _collapsibleInstance: M.Collapsible;\r\n    private _selects: M.FormSelect[];\r\n    private _actualizarMapeo: boolean;\r\n\r\n    constructor(stepper: MStepper, mapeoModel: MapeoArchivos) {\r\n        this._httpService = new HttpFetchService();\r\n        this._mStepper = stepper;\r\n        this._step3Model = mapeoModel;\r\n        this._tablasKairos = new Array<TablasSistema>();\r\n        this._selects = new Array<M.FormSelect>();\r\n    }\r\n\r\n    //--- METODOS -----------------------------------------------------------------\r\n\r\n    public async InicializarControlesPaso3(esNuevo: boolean, actualizar: boolean) {\r\n        this._nuevoMapeo = esNuevo;\r\n        this._actualizarMapeo = actualizar;\r\n        $('#add-map-table').on('click', () => { this.AddNewMapTable() });\r\n        $('.btn.close').on('click', () => this.onPaso3Cerrar());\r\n        let collapsible = document.querySelector<HTMLElement>('.section-tables-map');\r\n        this._collapsibleInstance = M.Collapsible.init(collapsible, { accordion: true });\r\n        $('.collapsible .collapsible-header .input-field').on('click', function () { return false; });\r\n        this.InicilizarFormMapeoPaso3();\r\n        this.InicializarControlesPaso2();\r\n        this.InicializarEventosGenerales(collapsible);\r\n        this.ObtenerNombresTablas();\r\n    }\r\n\r\n    //Inicializa formulario paso 3\r\n    private InicilizarFormMapeoPaso3(): void {\r\n\r\n        this._formMapeoPaso3 = document.querySelector<HTMLFormElement>('#mapeo-form-step3');\r\n        this.InicializarData();\r\n        this.ApplyValidation();\r\n\r\n\r\n        this._formMapeoPaso3.onsubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            if ($(this._formMapeoPaso3).valid()) {\r\n                this._dataFormPaso3 = new FormData(this._formMapeoPaso3);\r\n                //this._dataFormPaso3.forEach((value, key) => { console.log(key + \": \" + value) });\r\n                if (this._actualizarMapeo)\r\n                    this.ActualizarProcesamientoArchivos();\r\n                else\r\n                    this.CrearProcesamientoArchivos();\r\n            }\r\n            else {\r\n                M.toast({ html: \"Error de validación. Revisar los datos incompletos dentro de los desplegables.\", classes: \"error\" });\r\n                this._mStepper.wrongStep();\r\n            }\r\n\r\n            return false; // prevent reload\r\n        };\r\n    }\r\n\r\n    private InicializarControlesPaso2(): void {\r\n\r\n        if (this._nuevoMapeo) {\r\n            document.getElementById(\"step3-previous\").addEventListener('click', (ev) => {\r\n                this._step3Model.Paso2Data.TableStep2.page.len(4).draw();\r\n                document.getElementById(\"container-table-step2\").appendChild(this._step3Model.Paso2Data.TableStep2.table(\"#table-step2\").container());\r\n            });\r\n            this._step3Model.Paso2Data.TableStep2.page.len(1).draw();\r\n            document.getElementById(\"container-table-step3\").appendChild(this._step3Model.Paso2Data.TableStep2.table(\"#table-step2\").container());\r\n        }\r\n        else {\r\n            document.getElementById(\"step3-previous\").addEventListener('click', (ev) => {\r\n                if (this.onPaso3Anterior)\r\n                    this.onPaso3Anterior();\r\n                this._mStepper.openStep(0, null);\r\n            });\r\n        }\r\n    }\r\n\r\n    private InicializarData() {\r\n\r\n        if (this._nuevoMapeo) {\r\n            document.querySelector<HTMLInputElement>(\"#map-step3-separator\").value = this._step3Model.Paso1Data.Separador;\r\n            document.querySelector<HTMLInputElement>(\"#map-step3-otro-separator\").value = this._step3Model.Paso1Data.OtroCaracter;\r\n            document.querySelector<HTMLInputElement>(\"#mapeo-step3-id\").value = this._step3Model.Paso1Data.IdMapeo;\r\n            document.querySelector<HTMLInputElement>(\"#mapeo-step3-desc\").value = this._step3Model.Paso1Data.Descripcion;\r\n        }\r\n        else {\r\n            this._step3Model.Paso2Data.Columnas = new Array<string>();\r\n            let fileList = document.querySelector<HTMLSelectElement>(\".columns-file-options\");\r\n            Array.from(fileList.options).forEach((ele) => {\r\n                if (!ele.disabled)\r\n                    this._step3Model.Paso2Data.Columnas.push(ele.value);\r\n            })\r\n        }\r\n    }\r\n\r\n    private InicializarEventosGenerales(collapsible: HTMLElement): void {\r\n        collapsible.on('change', 'select', async event => {\r\n            if (event.target.matches(\".list-table-names\"))\r\n                await this.CambioTablaKairos(event.target as HTMLSelectElement);\r\n\r\n            if (event.target.matches(\".columns-table-options\"))\r\n                await this.CambioColumnaTablaKairos(event.target as HTMLSelectElement);\r\n\r\n            if (event.target.matches(\".columns-file-options\"))\r\n                await this.CambioColumnaArchivoKairos(event.target as HTMLSelectElement);\r\n\r\n        });\r\n\r\n        collapsible.on('click', '.map-table-action', async event => {\r\n            if (event.target.matches(\"[data-map-column-add]\")) {\r\n                await this.AgregarNuevaFilaMapeo(event.target as HTMLElement);\r\n            };\r\n\r\n            if (event.target.matches(\"[data-map-column-remove]\")) {\r\n                await this.BorrarFilaMapeo(event.target as HTMLElement);\r\n            }\r\n\r\n            if (event.target.matches(\"[data-map-table-delete]\")) {\r\n                await this.BorrarTablaMapeo(event.target as HTMLElement);\r\n            }\r\n\r\n        });\r\n\r\n        collapsible.on('input', '.map-priority', async event => {\r\n            await this.RevisarPrioridades(event.target as HTMLInputElement);\r\n        });\r\n    }\r\n\r\n    private ApplyValidation() {\r\n        this._dataFormPaso3 = new FormData(this._formMapeoPaso3);\r\n        $(this._formMapeoPaso3).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.setDefaults({ \"ignore\": \"input[type=hidden]\" });\r\n        $.validator.unobtrusive.parse(this._formMapeoPaso3);\r\n    }\r\n\r\n    private RevisarPrioridades(element: HTMLInputElement): void {\r\n        if (element.value != \"\") {\r\n            let number = parseInt(element.value);\r\n            if (isNaN(number)) {\r\n                element.value = \"\";\r\n            }\r\n            else {\r\n                element.value = number.toString();\r\n                let priorities = document.querySelectorAll<HTMLInputElement>(\".map-priority:not(#\" + element.id + \")\");\r\n                if (Array.from(priorities).some(e => e.value == element.value)) {\r\n                    M.toast({ html: \"Prioridad (\" + element.value + \") ya asignada.\", classes: \"error\" });\r\n                    element.value = \"\";\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private RevisarTablaRepetida(element: HTMLSelectElement): boolean {\r\n        let selects = document.querySelectorAll<HTMLSelectElement>(\".list-table-names:not(#\" + element.id + \")\");\r\n        if (Array.from(selects).some(e => e.value == element.value)) {\r\n            M.toast({ html: \"La tabla (\" + element.value + \") ya fue asignada\", classes: \"error\" });\r\n            element.selectedIndex = 0;\r\n            M.FormSelect.getInstance(element).input.value = \"\";\r\n            element.parentElement.firstChild.nodeValue = \"\";\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private async AgregarNuevaFilaMapeo(element: HTMLElement) {\r\n        let card = element.closest<HTMLTableElement>(\"[data-map-table]\");\r\n        let tableId = parseInt(card.dataset.mapTable);\r\n        let tableList = card.querySelector<HTMLSelectElement>(\".list-table-names\");\r\n        let table = card.querySelector(\"table\");\r\n        let tablaKairos = await this.ObtenerTablaKairos(tableList.value);\r\n        let columnList = tablaKairos.Columnas.map(e => e.Nombre);\r\n        table.tBodies[0].insertAdjacentHTML(\"beforeend\", this.GetRowTemplateColumnsTable(tableId, null, columnList));\r\n        this._selects.concat(M.FormSelect.init(table.tBodies[0].querySelectorAll<HTMLSelectElement>(\"tr:last-child[data-map-column] select\")));\r\n        M.updateTextFields();\r\n        this.ApplyValidation();\r\n    }\r\n\r\n    private BorrarFilaMapeo(element: HTMLElement) {\r\n        element.closest<HTMLTableRowElement>(\"tr\").remove();\r\n        this.ErrorMaterializeCheckboxHidden();\r\n    }\r\n\r\n    private BorrarTablaMapeo(element: HTMLElement) {\r\n        element.closest<HTMLLIElement>(\"li\").remove();\r\n        this.ErrorMaterializeCheckboxHidden();\r\n    }\r\n\r\n    private ErrorMaterializeCheckboxHidden(): void {\r\n        document.querySelectorAll(\"input[name*='Llave'][type='hidden']\").forEach(e => e.remove());\r\n        document.querySelectorAll(\"input[name*='IsNull'][type='hidden']\").forEach(e => e.remove());\r\n    }\r\n    private async CambioTablaKairos(elemtn: HTMLSelectElement) {\r\n        if (!this.RevisarTablaRepetida(elemtn))\r\n            return;\r\n\r\n        let tablaKairos = await this.ObtenerTablaKairos(elemtn.value)\r\n        let liElement = elemtn.closest(\"[data-map-table]\");\r\n        let tableColumns = liElement.querySelector<HTMLTableElement>(\"[data-map-column-list]\");\r\n        let idTable = parseInt(tableColumns.dataset.mapColumnList);\r\n        let columnList = tablaKairos.Columnas.map(e => e.Nombre);\r\n        liElement.querySelector(\"[data-map-column-add]\").parentElement.classList.remove(\"disabled-btn\");\r\n\r\n        tableColumns.tBodies[0].innerHTML = \"\";\r\n        tablaKairos.Columnas.filter(c => c.IsNull === false).forEach((columna) => {\r\n            tableColumns.tBodies[0].insertAdjacentHTML(\"beforeend\", this.GetRowTemplateColumnsTable(idTable, columna, columnList));\r\n        });\r\n        tableColumns.querySelectorAll<HTMLSelectElement>(\"tr td:nth-child(2) select\").forEach(s => s.disabled = true);\r\n        this._selects.concat(M.FormSelect.init(tableColumns.querySelectorAll(\"select\")));\r\n        M.updateTextFields();\r\n        this.ApplyValidation();\r\n    }\r\n\r\n    private async CambioColumnaArchivoKairos(elemtn: HTMLSelectElement) {\r\n        elemtn.closest(\"td\").querySelector<HTMLInputElement>(\"input[type='hidden'][name*='IndexColumnaArchivo']\").value = elemtn.selectedIndex.toString();\r\n    }\r\n\r\n    private async CambioColumnaTablaKairos(elemtn: HTMLSelectElement) {\r\n        let tableName = elemtn.closest(\"li\").querySelector<HTMLSelectElement>(\".list-table-names\").value;\r\n        let tableIndex = parseInt(elemtn.closest(\"table\").dataset.mapColumnList);\r\n        let columnName = elemtn.value;\r\n        let tablaKairos = await this.ObtenerTablaKairos(tableName);\r\n        let columnSelected = tablaKairos.Columnas.find(e => e.Nombre == columnName);\r\n        let row = elemtn.closest<HTMLTableRowElement>(\"tr\");\r\n\r\n        let isKey = row.cells[2].querySelector<HTMLInputElement>(\"input[type='checkbox']\");\r\n        isKey.value = columnSelected.Llave.toString();\r\n        isKey.checked = columnSelected.Llave;\r\n\r\n        let isnullCell = row.cells[3].querySelector<HTMLInputElement>(\"input[type='checkbox']\");\r\n        isnullCell.value = columnSelected.IsNull.toString();\r\n        isnullCell.checked = columnSelected.IsNull;\r\n\r\n        row.cells[4].querySelector<HTMLInputElement>(\"input[type='text']\").value = columnSelected.Tipo;\r\n        row.cells[5].innerHTML = this.GetRemoveColumnButton(columnSelected.IsNull, tableIndex);\r\n    }\r\n\r\n    private async ObtenerTablaKairos(nombreTabla: string) {\r\n        let tablaKairos = this._tablasKairos?.find(t => t.NombreTabla == nombreTabla);\r\n        if (tablaKairos == undefined) {\r\n            tablaKairos = await this.ObtenerTablaColumnas(nombreTabla);\r\n            this._tablasKairos.push(tablaKairos);\r\n        }\r\n        return tablaKairos;\r\n    }\r\n\r\n    //-- OPERACIONES SERVIDOR -----------------------------------------------------\r\n\r\n    private async ObtenerTablaColumnas(nombre: string) {\r\n        return new Promise<TablasSistema>((resolve, reject) => {\r\n\r\n            this._httpService.Post<TablasSistema>(this._baseUrl + \"/GetTablaColumnas\", nombre, true)\r\n                .then((data) => {\r\n                    resolve(data);\r\n                })\r\n                .catch((err) => {\r\n                    reject(err);\r\n                });\r\n        });\r\n    }\r\n\r\n    //Obtener nombre de tablas\r\n    private ObtenerNombresTablas(): void {\r\n        this._httpService.Post<string[]>(this._baseUrl + \"/GetTablas\", null, true)\r\n            .then((data) => {\r\n\r\n                this._optionsTablas = data;\r\n                if (!this._actualizarMapeo)\r\n                    document.querySelectorAll<HTMLSelectElement>(\".list-table-names\").forEach((el, num, parent) => {\r\n                        this.AddTableOptionsToSelect(el);\r\n                    });\r\n\r\n                this._selects.concat(M.FormSelect.init(document.querySelectorAll(\"select\")));\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Crear mapeo\r\n    private CrearProcesamientoArchivos(): void {\r\n        let token = this._dataFormPaso3.get(\"RequestVerificationToken\")?.toString();\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/CrearProcesamientoArchivos\", this._dataFormPaso3, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    if (this.onPaso3Completado)\r\n                        this.onPaso3Completado();\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Actualizar mapeo\r\n    private ActualizarProcesamientoArchivos(): void {\r\n        let token = this._dataFormPaso3.get(\"RequestVerificationToken\")?.toString();\r\n        //this._dataFormPaso3.forEach((value, key) => { console.log(key + \": \" + value) });\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/ActualizarProcesamientoArchivos\", this._dataFormPaso3, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    if (this.onPaso3Completado)\r\n                        this.onPaso3Completado();\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //-- OPERACIONES DOM --------------------------------------------------------\r\n\r\n    private AddNewMapTable(): void {\r\n        let newIndex = this.GetNewIndexListTable();\r\n\r\n        let li = this.GetCardTemplateColumns();\r\n        (this._collapsibleInstance.el as HTMLUListElement).insertAdjacentHTML(\"beforeend\", li);\r\n        let insertedLi = document.querySelector(\"[data-map-table='\" + newIndex + \"']\");\r\n        let selectItems = insertedLi.querySelectorAll(\"select\");\r\n        $(\"[data-map-table='\" + newIndex + \"']\").find(\".input-field\").on('click', function () { return false; });\r\n        this._selects.concat(M.FormSelect.init(selectItems));\r\n        this.ApplyValidation();\r\n\r\n    }\r\n\r\n    private GetCardTemplateColumns(): string {\r\n        let newIndex = this.GetNewIndexListTable();\r\n        return ` <li data-map-table=\"${newIndex}\">\r\n                    <div class=\"collapsible-header\">\r\n                        <i class=\"material-icons\">view_list</i>\r\n                        <input type=\"hidden\" name=\"TablasSistemas.Index\" value=\"${newIndex}\" />\r\n                        <div class=\"input-field\">\r\n                            ${this.GetSelectTemplateTablesList()}\r\n                        </div>\r\n                        <div class=\"right mr-4\">\r\n                            <a class=\"mb-6 btn-floating waves-effect waves-light purple lightrn-1 btn-small \" >\r\n                                <i class=\"material-icons map-table-action\" data-map-table-delete=\"${newIndex}\">remove</i>\r\n                            </a>\r\n                        </div>\r\n                    <small class=\"ml-3\"><span class=\"red-text\" data-valmsg-for=\"TablasSistemas[${newIndex}].NombreTabla\" data-valmsg-replace=\"true\"></span></small>\r\n                    </div>\r\n                    <div class=\"collapsible-body\">\r\n                        <div class=\"row\">\r\n                            <small><span class=\"right red-text mr-2\" data-valmsg-for=\"TablasSistemas[${newIndex}].Prioridad\" data-valmsg-replace=\"true\"></span></small>\r\n                            <div class=\"col s12 display-flex justify-content-end short-group\">\r\n                                Prioridad:\r\n                                <input class=\"short-text map-priority\" type=\"text\" id=\"TablasSistemas_${newIndex}__Prioridad\" name=\"TablasSistemas[${newIndex}].Prioridad\" data-val='true' data-val-range='debe ser menor a 100' data-val-range-max='100' data-val-range-min='1' data-val-required='Prioridad es obligatorio' />\r\n                                <a class=\"ml-2 btn-floating waves-effect waves-light light-green lightrn-1 btn-small disabled-btn\" >\r\n                                    <i class=\"material-icons map-table-action\" data-map-column-add=\"${newIndex}\">add</i>\r\n                                </a>\r\n                            </div>\r\n                            ${this.GetTableTemplateColumns(newIndex)}\r\n                        </div>\r\n                    </div>\r\n                </li>`\r\n    }\r\n\r\n    private GetSelectTemplateTablesList(): string {\r\n        let newIndex = this.GetNewIndexListTable();\r\n        let selectElement = document.createElement(\"select\");\r\n        this.SetValidationAttributes(selectElement, \"Debes seleccionar una tabla\");\r\n        selectElement.id = `TablasSistemas_${newIndex}__NombreTabla`;\r\n        selectElement.name = `TablasSistemas[${newIndex}].NombreTabla`;\r\n        selectElement.classList.add(\"list-table-names\");\r\n        this.AddTableOptionsToSelect(selectElement);\r\n\r\n        return selectElement.outerHTML;\r\n    }\r\n\r\n    private GetTableTemplateColumns(table: number): string {\r\n        return `<div class=\"card card-default scrollspy border-radius-6 col s12\">\r\n                    <div class=\"card-content p-0\">\r\n                        <table data-map-column-list=\"${table}\" class=\"display responsive\" style=\"width:100%\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Col. Archivo</th>\r\n                                    <th>Col. Tabla</th>\r\n                                    <th>Es Llave</th>\r\n                                    <th>Es Nulo</th>\r\n                                    <th>Tipo</th>\r\n                                    <th>Acción</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                \r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>`\r\n    }\r\n\r\n    private GetRowTemplateColumnsTable(table: number, columnaData: TablaSistemaColumna, columnsList: string[]): string {\r\n        let indexColumn = this.GetNewIndexColumnListTable(table);\r\n\r\n        return `<tr data-map-column=\"${indexColumn}\">\r\n                    <td>\r\n                        <input type=\"hidden\" name=\"TablasSistemas[${table}].Columnas.Index\" value=\"${indexColumn}\" />\r\n                        <input type=\"hidden\" name=\"TablasSistemas[${table}].Columnas[${indexColumn}].IndexColumnaArchivo\" />\r\n                        <div class=\"input-field\">\r\n                            ${this.GetSelectTemplateColumnsFile(table)}\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div class=\"input-field\">\r\n                            ${this.GetSelectTemplateColumnsTable(table, columnaData, columnsList)}\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <label>\r\n                            <input type=\"checkbox\" name=\"TablasSistemas[${table}].Columnas[${indexColumn}].Llave\" value=\"${columnaData?.Llave}\" ${columnaData?.Llave ? 'checked' : ''} disabled/>\r\n                            <span></span>\r\n                        </label>\r\n                    </td>\r\n                    <td>\r\n                        <label>\r\n                            <input type=\"checkbox\" name=\"TablasSistemas[${table}].Columnas[${indexColumn}].IsNull\" value=\"${columnaData?.IsNull}\" ${columnaData?.IsNull ? 'checked' : ''} disabled /> \r\n                            <span></span>\r\n                        </label>\r\n                    </td>\r\n                    <td> <input type=\"text\" name=\"TablasSistemas[${table}].Columnas[${indexColumn}].Tipo\" value=\"${columnaData?.Tipo}\" disabled/></td>\r\n                    <td>\r\n                        ${this.GetRemoveColumnButton(columnaData?.IsNull, table)}\r\n                    </td>\r\n                </tr>`\r\n    }\r\n\r\n    private GetSelectTemplateColumnsTable(table: number, columnData: TablaSistemaColumna, columnList: string[]): string {\r\n        let column = this.GetNewIndexColumnListTable(table);\r\n        let selectElement = document.createElement(\"select\");\r\n        selectElement.id = `TablasSistemas_${table}__Columnas_${column}__Nombre`;\r\n        selectElement.name = `TablasSistemas[${table}].Columnas[${column}].Nombre`;\r\n        selectElement.classList.add(\"columns-table-options\");\r\n        this.SetValidationAttributes(selectElement, \"Columna tabla es obligatorio\");\r\n        var firstOption = new Option(\"Escoge columna\", \"\", (columnData == undefined));\r\n        firstOption.disabled = true;\r\n        selectElement.add(firstOption);\r\n        columnList.forEach((option) => {\r\n            selectElement.options.add(new Option(option, option, (option == columnData?.Nombre)));\r\n        });\r\n\r\n        if (columnData) {\r\n            let wrap = document.createElement(\"div\");\r\n            let hidden = document.createElement(\"input\");\r\n            hidden.name = `TablasSistemas[${table}].Columnas[${column}].Nombre`;\r\n            hidden.hidden = true;\r\n            hidden.value = columnData.Nombre;\r\n            hidden.setAttribute(\"value\", columnData.Nombre);\r\n            wrap.appendChild(hidden);\r\n            wrap.appendChild(selectElement);\r\n            return wrap.outerHTML;\r\n        }\r\n\r\n\r\n        return selectElement.outerHTML + this.GetValidationMessage(selectElement.name);\r\n    }\r\n\r\n    private GetSelectTemplateColumnsFile(table: number): string {\r\n        let column = this.GetNewIndexColumnListTable(table);\r\n        let selectElement = document.createElement(\"select\");\r\n        selectElement.id = `TablasSistemas_${table}__Columnas_${column}__ColumnaArchivo`;\r\n        selectElement.name = `TablasSistemas[${table}].Columnas[${column}].ColumnaArchivo`;\r\n        selectElement.classList.add(\"columns-file-options\");\r\n        this.SetValidationAttributes(selectElement, \"Columna archivo es obligatorio\");\r\n\r\n        var firstOption = new Option(\"Escoge columna\", \"\", true);\r\n        firstOption.disabled = true;\r\n        selectElement.add(firstOption);\r\n        this._step3Model.Paso2Data.Columnas.forEach((option) => selectElement.options.add(new Option(option, option)));\r\n        return selectElement.outerHTML + this.GetValidationMessage(selectElement.name);\r\n    }\r\n\r\n    private GetValidationMessage(name: string): string {\r\n        return ` <small>\r\n                    <span class=\"red-text field-validation-valid\" data-valmsg-for=\"${name}\" data-valmsg-replace=\"true\"></span>\r\n                </small>`;\r\n    }\r\n\r\n    private SetValidationAttributes(elment: HTMLElement, message: string): void {\r\n        elment.setAttribute(\"data-val\", \"true\");\r\n        elment.setAttribute(\"data-val-required\", message);\r\n    }\r\n\r\n    private GetRemoveColumnButton(remove: boolean, table: number): string {\r\n\r\n        if (remove === true || remove == null || remove === null || remove === undefined)\r\n            return `<a class=\"mb-6 btn-floating waves-effect waves-light purple lightrn-1 btn-small\" >\r\n                    <i class=\"material-icons map-table-action\" data-map-column-remove=\"${table}\">remove</i>\r\n                </a>`;\r\n        else\r\n            return \"\";\r\n    }\r\n\r\n    //-- DOM HELPERS -----------------------------------------------------\r\n\r\n    private GetNewIndexListTable(): number {\r\n        let mapTables = document.querySelectorAll(\"li[data-map-table]\");\r\n        if (mapTables) {\r\n            let lastMap = (mapTables[mapTables.length - 1] as HTMLLIElement);\r\n            return (parseInt(lastMap.dataset.mapTable) + 1);\r\n        }\r\n        else\r\n            return 0;\r\n    }\r\n\r\n    private GetNewIndexColumnListTable(table: number): number {\r\n        let mapColumnTable = document.querySelector<HTMLTableElement>(\"table[data-map-column-list='\" + table + \"']\");\r\n        let row = mapColumnTable.querySelector<HTMLTableRowElement>(\"tbody tr:last-child[data-map-column]\");\r\n        if (row)\r\n            return parseInt(row.dataset.mapColumn) + 1;\r\n        else\r\n            return 0;\r\n    }\r\n\r\n    private AddTableOptionsToSelect(element: HTMLSelectElement) {\r\n        element.innerHTML = '';\r\n        var firstOption = new Option(\"Selecciona una tabla\", \"\", true, true);\r\n        firstOption.disabled = true;\r\n        element.add(firstOption);\r\n        this._optionsTablas.forEach((option) => element.options.add(new Option(option, option)));\r\n    }\r\n\r\n    public Destroy(): void {\r\n        this._collapsibleInstance?.destroy();\r\n        this._selects?.every(s => s.destroy());\r\n        this._optionsTablas = null;\r\n        this._tablasKairos = null;\r\n    }\r\n}","export class ConfirmModalMessage {\r\n\r\n    private parent: HTMLElement;\r\n    private modal: HTMLElement;\r\n    private acceptButton: HTMLButtonElement;\r\n    private dismissButton: HTMLButtonElement;\r\n    private modalInstance: M.Modal;\r\n    private idMesssage: string;\r\n\r\n    constructor(public title: string,\r\n        public message: string,\r\n        public acceptText: string,\r\n        public dismissText: string) {\r\n\r\n        this.idMesssage = \"confirm-message\";\r\n        this.parent = document.body;\r\n        this.CreateModal();\r\n        this.AppendModel();\r\n    }\r\n\r\n    private CreateModal() {\r\n        this.modal = document.createElement(\"div\");\r\n        this.modal.id = this.idMesssage;\r\n        this.modal.classList.add(\"modal\", \"modal-fixed-footer\", \"modal-confirm-message-small\");\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"modal-content\");\r\n        this.modal.appendChild(content);\r\n\r\n        const header = document.createElement(\"h5\");\r\n        header.textContent = this.title;\r\n        content.appendChild(header);\r\n\r\n        const message = document.createElement(\"p\");\r\n        message.textContent = this.message;\r\n        content.appendChild(message);\r\n\r\n        const buttonGroup = document.createElement(\"div\");\r\n        buttonGroup.classList.add(\"modal-footer\");\r\n        this.modal.appendChild(buttonGroup);\r\n\r\n        this.dismissButton = document.createElement(\"button\");\r\n        this.dismissButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.dismissButton.type = \"button\";\r\n        this.dismissButton.textContent = this.dismissText;\r\n        buttonGroup.appendChild(this.dismissButton);\r\n\r\n        this.acceptButton = document.createElement(\"button\");\r\n        this.acceptButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.acceptButton.type = \"button\";\r\n        this.acceptButton.textContent = this.acceptText;\r\n        buttonGroup.appendChild(this.acceptButton);\r\n    }\r\n\r\n    private AppendModel() {\r\n        this.parent.appendChild(this.modal);\r\n    }\r\n\r\n    private destroy() {\r\n        if (this.modalInstance) {\r\n            this.modalInstance.close();\r\n            this.modalInstance.destroy();\r\n        }\r\n\r\n        var elem = document.querySelector(\"#\" + this.idMesssage);\r\n        elem.parentNode.removeChild(elem);\r\n    }\r\n\r\n    public async Confirm() {\r\n        return new Promise<boolean>((resolve, reject) => {\r\n\r\n            const somethingWentWrongUponCreation =\r\n                !this.modal || !this.acceptButton || !this.dismissButton;\r\n            if (somethingWentWrongUponCreation) {\r\n                this.destroy();\r\n                reject(\"Fallo algo en la creación del mensaje\");\r\n            }\r\n\r\n            M.Modal.init(this.modal, {\r\n                dismissible: false,\r\n                opacity: .5,\r\n                inDuration: 300,\r\n                outDuration: 200,\r\n                startingTop: '6%',\r\n                endingTop: '8%'\r\n            });\r\n            this.modalInstance = M.Modal.getInstance(this.modal);\r\n            this.modalInstance.open();\r\n\r\n            this.acceptButton.addEventListener(\"click\", () => {\r\n                resolve(true);\r\n                this.destroy();\r\n            });\r\n\r\n            this.dismissButton.addEventListener(\"click\", () => {\r\n                resolve(false);\r\n                this.destroy();\r\n            });\r\n        });\r\n    }\r\n}","// Base class for Http operations GET, PUT, POST, DELETE, PATCH!!\r\nexport class HttpFetchService {\r\n\r\n    public Post<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostForm<U>(url: string, payload: any, token: string, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'RequestVerificationToken': token },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostFormURL<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n}","import { HttpFetchService } from \"./HttpFetchService\";\r\n\r\nexport const services = [HttpFetchService];\r\n\r\nexport * from \"./HttpFetchService\";","export class Area {\r\n    IdArea: string;\r\n    Nombre: string;\r\n}","export class Cabezote {\r\n    Placa: string;\r\n}","export class Compañia {\r\n     IdCompañia: string;\r\n     Nombre: string;\r\n     SalesOrganization: string;\r\n     DistributionChannel: string;\r\n     Division: string;\r\n     SupplierType: string;\r\n     CodigoSICOM: string\r\n}","export class Conductor {\r\n    Nombre: string;\r\n    Cedula: string;\r\n}","export class Contador {\r\n    IdContador: string;    \r\n}","\r\nexport class Despacho {\r\n    Value: string;\r\n    Text: string;\r\n    Id_Despacho: string;\r\n    Placa_Cabezote: string;\r\n    Placa_Trailer: string;\r\n    Volumen_Ordenado: string;\r\n    Volumen_Cargado: string;\r\n    Cedula_Conductor: string;\r\n}","export class FechasCorteDTO {\r\n    Fecha: Date;\r\n    Cierre: boolean;\r\n}","import { LineaEstado } from \"./LineaEstado\";\r\n\r\nexport class Linea {\r\n    Linea: string;\r\n    Idlinea: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    Producto: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n    Capacidad: number;\r\n    DensidadAforo: number;\r\n    Observaciones: string;\r\n}","export class Log {\r\n    Id: string;\r\n    FechaEvento: string;\r\n    Aplicacion: string\r\n    Area: string\r\n    Seccion: string\r\n    Accion: string\r\n    Objetivo: string\r\n    Entidad: string\r\n    Prioridad: string\r\n    Comentario: string\r\n}","export class MapeoArchivos {\r\n    Paso1Data: Paso1Mapeo;\r\n    Paso2Data: Paso2Mapeo;\r\n}\r\n\r\nexport class Paso1Mapeo {\r\n    IdMapeo: string;\r\n    Descripcion: string;\r\n    Separador: string;\r\n    OtroCaracter: string;\r\n    Archivo: File;\r\n}\r\n\r\nexport class Paso2Mapeo {\r\n    Columnas: string[];\r\n    TableStep2: DataTables.Api;\r\n}","import { ProductoTipo } from \"./ProductoTipo\";\r\n\r\nexport class Producto {\r\n    IdProducto: string;\r\n    NombreCorto: string;\r\n    NombreERP: string;\r\n    Icono: string;\r\n    Estado: string;\r\n    Tipo: string;\r\n    Clase: string;\r\n    SICOM: string;\r\n    IdTipoNavigation: ProductoTipo;\r\n}","export class Proveedor {\r\n    IdProveedor: string;\r\n    NombreProveedor: string;\r\n    SicomProveedor: string;\r\n}","export class Rol {\r\n    IdRol: string;\r\n    Nombre: string;\r\n    Descripcion: string;\r\n}","import { TanquesEstado } from \"./TanquesEstado\";\r\n\r\nexport class Tanque {\r\n    IconoProducto: string;\r\n    IconoColor: string;\r\n    Tanque: string;\r\n    Producto: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    ClaseTanque: string;\r\n    ClaseColor: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n\r\n    TipoTanque: string;\r\n    CapacidadNominal: number;\r\n    CapacidadOperativa: number;\r\n    VolumenNoBombeable: number;\r\n    AlturaMaximaAforo: number;\r\n    AforadoPor: string;\r\n    FechaAforo: Date;\r\n    PantallaFlotante: string;\r\n    Observaciones: string;\r\n    DensidadAforo: number;\r\n    GalonesPorGrado: number;\r\n    NivelCorreccionInicial: number;\r\n    NivelCorreccionFinal: number;\r\n    \r\n}","export class Terminal {\r\n    IdTerminal: string;\r\n    Nombre: string;\r\n    Direccion: string;\r\n    Telefono: string;\r\n    Superintendente: string;\r\n    Estado: string;\r\n    Area: string;\r\n    CentroCosto: string;\r\n    Poliducto: string;\r\n    TipoInforme: string;\r\n    IdCompania: string;\r\n}","export class Trailer {\r\n    Placa: string;\r\n}","export class Usuario {\r\n    Imagen: File;\r\n    IdUsuario: string;\r\n    Nombre: string;\r\n    Rol: string;\r\n    Email: string;\r\n    Telefono: string;\r\n}","import { IMessageResponse } from \"./MessageResponse\";\r\nimport { Usuario } from \"./Usuario\";\r\nimport { Cabezote } from \"./Cabezote\";\r\nimport { Trailer } from \"./Trailer\";\r\nimport { Conductor } from \"./Conductor\";\r\nimport { Area } from \"./Area\";\r\nimport { Compañia } from \"./Compañia\";\r\nimport { Log } from \"./Log\";\r\nimport { Linea } from \"./Linea\";\r\nimport { Rol } from \"./Rol\";\r\nimport { Terminal } from \"./Terminal\";\r\nimport { Tanque } from \"./Tanque\";\r\nimport { Contador } from \"./Contador\";\r\nimport { Proveedor } from \"./Proveedor\";\r\nimport { MapeoArchivos } from \"./ProcesamientoArchivos\";\r\nimport { Producto } from \"./Producto\";\r\nimport { Despacho } from \"./Despacho\";\r\nimport { FechasCorteDTO } from \"./FechasCorteDTO\";\r\n\r\nexport const models = [Usuario, Cabezote, Trailer, Conductor, Area, Log, Rol, Compañia, Terminal, Tanque, Contador, Linea, Proveedor, MapeoArchivos, Producto, Despacho, FechasCorteDTO];\r\n\r\nexport * from \"./MessageResponse\";\r\nexport * from \"./Usuario\";\r\nexport * from \"./Cabezote\";\r\nexport * from \"./Trailer\";\r\nexport * from \"./Conductor\";\r\nexport * from \"./Area\";\r\nexport * from \"./Linea\";\r\nexport * from \"./Compañia\";\r\nexport * from \"./Rol\";\r\nexport * from \"./Terminal\";\r\nexport * from \"./Tanque\";\r\nexport * from \"./Contador\";\r\nexport * from \"./Log\";\r\nexport * from \"./Proveedor\";\r\nexport * from \"./ProcesamientoArchivos\";\r\nexport * from \"./Producto\";\r\nexport * from \"./Despacho\";\r\nexport * from \"./FechasCorteDTO\";\r\n","declare global {\r\n    interface HTMLElement {\r\n        on(eventType: string, childSelector: string, eventHandler: any): void;\r\n    }\r\n}\r\n\r\nHTMLElement.prototype.on = function (eventType: string, childSelector: string, eventHandler: any): void {\r\n    this.addEventListener(eventType, eventOnElement => {\r\n        if (eventOnElement.target.matches(childSelector)) {\r\n            eventHandler(eventOnElement);\r\n        } else {\r\n            //console.log(eventOnElement.target);\r\n        }\r\n    })\r\n}\r\n\r\nexport { };","import \"jquery-validation\";\r\nimport \"jquery-validation-unobtrusive\";\r\n\r\nexport class JQValidations {\r\n\r\n    public static MaxFileSizeValidation(): void {\r\n        if ($.validator.methods['maxfilesize'])\r\n            return;\r\n\r\n        $.validator.addMethod('maxfilesize', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let size = params, file = (input.files[0] as File);\r\n\r\n            if (file) {\r\n                if ((file.size / 1024) > size) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('maxfilesize', ['size'], function (options) {\r\n            //console.log(\"registra maxfilesize en unobtrusive\");\r\n            options.rules['maxfilesize'] = options.params['size'];\r\n            options.messages['maxfilesize'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static AllowedExtensionsValidation(): void {\r\n        if ($.validator.methods['allowedextensions'])\r\n            return;\r\n\r\n        $.validator.addMethod('allowedextensions', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let exts = params, file = (input.files[0] as File);\r\n            let extsArray = exts.split(',');\r\n\r\n            if (file) {\r\n                if ((new RegExp('(' + extsArray.join('|').replace(/\\./g, '\\\\.') + ')$')).test(value)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('allowedextensions', ['exts'], function (options) {\r\n            options.rules['allowedextensions'] = options.params['exts'];\r\n            options.messages['allowedextensions'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static NotEqualValidation(): void {\r\n        if ($.validator.methods['notequal'])\r\n            return;\r\n\r\n        $.validator.addMethod('notequal', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let IdName = params, ActualValue = (input.value as string);\r\n            let Id = (<HTMLInputElement>document.getElementById(IdName)).value;\r\n\r\n            //console.log(\"ActualValue: \" + ActualValue);\r\n            //console.log(\"size: \" + IdName);\r\n            //console.log(\"input: \" + input);\r\n            //console.log(\"value: \" + value);\r\n            //console.log(\"Id: \" + Id);\r\n\r\n            if (ActualValue) {\r\n                if (ActualValue == Id) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('notequal', ['IdinputTocompare'], function (options) {\r\n            options.rules['notequal'] = options.params['IdinputTocompare'];\r\n            options.messages['notequal'] = options.message;\r\n        });\r\n    }\r\n}","export * from './Http';\r\nexport * from './Models';\r\nexport * from './Utils/HTMLExtensions';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {};\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"mapeoArchivos\": 0\n};\n\nvar deferredModules = [\n\t[\"./Scripts/Pages/ProcesamientoArchivos/MapeoArchivos.ts\",\"packages\"]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkairosv2\"] = self[\"webpackChunkkairosv2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"sourceRoot":""}