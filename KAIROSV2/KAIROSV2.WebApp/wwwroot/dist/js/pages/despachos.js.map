{"version":3,"sources":["webpack/universalModuleDefinition","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Core\\Page.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\Despachos\\Despachos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\Despachos\\GestionDespachos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\ConfigureDataTable.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\ConfirmModalMessage.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\DatepickerComponent.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\HttpFetchService.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\ActionsPermission.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Area.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Cabezote.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Compañia.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Conductor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Contador.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Despacho.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\FechasCorteDTO.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Linea.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Log.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\ProcesamientoArchivos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Producto.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Proveedor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Rol.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Tanque.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Terminal.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Trailer.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Usuario.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\HTMLExtensions.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\JQValidations.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\MaskFormats.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\MaskFormatsManager.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\SelectorMenu.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\index.ts","webpack/bootstrap","webpack/runtime/define property getters","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"names":["root","factory","exports","module","define","amd","self","customParseFormat","dayjs","locale","extend","this","AdjustValidation","RegisterMasks","masks","MaskManager","MaskFormatsManager","GetPermissions","url","HttpFetchService","Post","then","data","Permisions","catch","error","ActionsPermission","Destroy","$","validator","methods","range","value","element","param","globalizedValue","replace","optional","Page","_baseUrl","_arrayCompañias","FormattFields","_httpService","Init","TableDetalle","destroy","TableConsolidado","_despachosDatePicker","InicializarDatePicker","SortExtention","InicializarButtons","InicializarControls","fn","dataTable","ext","order","settings","col","api","column","nodes","map","td","i","prop","SelectorMenu","SeleccionEnElMenu","ConfigureDataTable","ConfigureScrollX","select2","dropdownAutoWidth","width","M","Tabs","init","document","querySelectorAll","gestionDespachos","DespachosGestionPage","getElementById","onDespachoCreado","LimpiarFormulario","onDespachoActualizado","despacho","ActualizarFilaDatatable","updateTextFields","_formDespacho","querySelector","_formData","FormData","removeData","unobtrusive","parse","onsubmit","e","preventDefault","valid","SetUnmaskedFormValue","BuscarDespachos","GetInitialCloseDate","_despachosFechaInicial","console","log","DatepickerComponent","GetInstances2","onClose","UpdateMaskValue","onDraw","ConfigClosedDates","minDate","Date","maxDate","RegistrarFormatos","kanba","despachoAdd","limpiarForm","tabDetalle","tabConsolidado","thes","addEventListener","event","target","classList","contains","BuscarDetalleDetalle","iddespacho","EditarDespacho","BuscarDetalleConsolidado","idproducto","CrearDespacho","RenderizarTablaDetalle","RenderizarTablaConsolidado","CambioEstado","change","ConsultarCompañias","VerificacionActivacionBtnCrear","LimpiarTablas","setTimeout","draw","terminal","compañia","btnCrear","add","remove","row","Id_Despacho","despach","Placa_Cabezote","Placa_Trailer","Cedula_Conductor","Volumen_Ordenado","Volumen_Cargado","fecha","payload","fechaCorte","innerHTML","toast","html","classes","BuscarConsolidados","clear","Id_Terminal","Id_Compañia","NuevoDespacho","DatosDespacho","tr","parentNode","child","isShown","hide","x","JSON","Object","values","forEach","tablaComten","Formato","show","Terminal","Compañia","IdProducto","valor","separados","inputNum","toString","split","length","uno","substring","posiciones","Math","floor","pos","push","join","idDespacho","ConfirmModalMessage","Confirm","cambio","checked","Despacho","Lectura","lbl","id","index","cond","ApplyMasks","HtmlCambioEstado","invalidate","idTerminal","_terminalSeleccionada","el","removeAttribute","val","trigger","LimpiarOpciones","AgregarCompañias","selectClase","j","option","createElement","text","Value","Text","append","FormSelect","reset","not","setAttribute","MaskFormats","DateShortFormat","UpdateValue","currentDate","picker","selectYear","selectMonth","year","parseInt","options","selectedIndex","month","GetCloseDates","result","currentValue","currentIndex","listObj","day","dataset","cutDate","find","d","Fecha","date","parentElement","Cierre","calendarDay","isSame","fechaActual","IdEntidad","Promise","resolve","reject","resolver","ObtenerFechaCierreInicial","DecimalFormatRang","DespachosPage","despachosPage","URL","indexOf","modalBase","_MaskFormatsComponentes","_modalBase","InicializarModal","InicilizarFormDespacho","_crear","_habilitarConsultaComp","_modalInstance","open","CalcularFactor","each","resFactor","$tr","$volumenNeto","$volumenBruto","$factor","parseFloat","toFixed","isNaN","GuardarDespacho","token","get","compartimento","set","PostForm","Result","CerrarModal","Message","err","lectura","_DespachoIdActualizar","ActualizarDespacho","ExtraerDespacho","Modal","dismissible","opacity","inDuration","outDuration","startingTop","endingTop","modoCreacion","TableComponente","ConfigureScrollXSinInfo","toDate","ev","ConsultarComponentes","keyup","RecalcularVolBrutos","Producto","volCargado","IdTerminal","VolumenCargado","_VolumenBruto","close","removeChild","Alfanumerico","initialDate","some","isAfter","isBefore","Configure","columns","table","DataTable","columnDefs","responsive","language","FilterGlobal","columnsDef","inputId","scrollX","paging","ordering","searching","info","input","on","search","parents","attr","title","message","acceptText","dismissText","idMesssage","parent","body","CreateModal","AppendModel","modal","content","appendChild","header","textContent","buttonGroup","dismissButton","type","acceptButton","modalInstance","elem","getInstance","selector","elements","Datepicker","ConfigBasics","format","container","autoClose","i18n","cancel","done","months","monthsShort","weekdays","weekdaysShort","weekdaysAbbrev","GetInstances","onSelect","selectedDate","undefined","GetInstances3","jsonResponse","fetch","method","headers","stringify","response","json","PostFormURL","services","Area","Cabezote","Conductor","Contador","FechasCorteDTO","Linea","Log","MapeoArchivos","Paso1Mapeo","Paso2Mapeo","Proveedor","Rol","Tanque","Trailer","Usuario","models","HTMLElement","prototype","eventType","childSelector","eventHandler","eventOnElement","matches","MaxFileSizeValidation","addMethod","params","size","file","files","adapters","rules","messages","AllowedExtensionsValidation","exts","extsArray","RegExp","test","NotEqualValidation","IdName","ActualValue","Id","JQValidations","IntegerFormat","Selector","Mask","mask","Number","scale","signed","thousandsSeparator","padFractionalZeros","normalizeZeros","radix","mapToRadix","DecimalFormat","overwrite","autofix","blocks","MMM","MaskedEnum","enum","DateLongFormat","HH","MaskedRange","from","to","TT","IntegerFormatRang","rangoMinimo","rangoMaximo","min","max","lazy","NumericoSinSignos","FormatElements","Array","CleanAll","Masks","CleanFormats","object","ApplyFormat","AddApplyMask","UnmaskFormats","MaskInput","unmaskedValue","masked","formData","name","selectors","formatEl","filter","updateValue","splice","location","href","contador","substr","removeClass","css","addClass","identi","identi2","first","components","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call","m","definition","key","o","defineProperty","enumerable","obj","hasOwnProperty","r","Symbol","toStringTag","installedChunks","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","apply","chunkLoadingGlobal","checkDeferredModulesImpl","deferredModule","fulfilled","depId","s","bind","startup"],"mappings":"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","file":"js/pages/despachos.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kairosv2\"] = factory();\n\telse\n\t\troot[\"kairosv2\"] = factory();\n})(self, function() {\nreturn ","import dayjs = require(\"dayjs\");\r\nimport { IMaskFormat, MaskFormatsManager } from \"../Shared/Utils\";\r\nimport 'dayjs/locale/es-do';\r\nimport { ActionsPermission } from \"../Shared/Models/ActionsPermission\";\r\nimport { HttpFetchService } from \"../Shared\";\r\n\r\nvar customParseFormat = require('dayjs/plugin/customParseFormat');\r\n\r\nexport abstract class Page {\r\n    public MaskManager: MaskFormatsManager;\r\n    public BaseUrl;\r\n    public Permisions: ActionsPermission;\r\n\r\n    constructor() {\r\n        dayjs.locale('es-do');\r\n        dayjs.extend(customParseFormat);\r\n        this.AdjustValidation();\r\n    }\r\n\r\n    protected RegisterMasks(masks: Array<IMaskFormat>): void {\r\n        if (!this.MaskManager) {\r\n            this.MaskManager = new MaskFormatsManager();\r\n        }\r\n\r\n        this.MaskManager.RegisterMasks(masks);\r\n    }\r\n\r\n    protected GetPermissions(url: string): void {\r\n        const httpService = new HttpFetchService();\r\n        httpService.Post<ActionsPermission>(url, \"\", true)\r\n            .then((data) => {\r\n                if (data) {\r\n                    this.Permisions = data;\r\n                }\r\n            }).catch((error) => {\r\n                this.Permisions = new ActionsPermission();\r\n            });\r\n    }\r\n\r\n    public Destroy(): void {\r\n        this.MaskManager?.Destroy();\r\n    }\r\n\r\n    private AdjustValidation(): void {\r\n        $.validator.methods.range = function (value, element, param) {\r\n            var globalizedValue = value.replace(\",\", \"\");\r\n            let result = this.optional(element) || (globalizedValue >= param[0] && globalizedValue <= param[1]);\r\n            return result;\r\n        }\r\n    }\r\n}","import { HttpFetchService, IMessageResponse, Despacho, FechasCorteDTO } from '../../Shared';\r\nimport { ConfirmModalMessage } from '../../Shared/Components/ConfirmModalMessage';\r\nimport { ConfigureDataTable } from '../../Shared/Components/ConfigureDataTable';\r\nimport { DespachosGestionPage } from './GestionDespachos';\r\nimport { JQValidations } from '../../Shared/Utils/JQValidations';\r\nimport { SelectorMenu } from '../../Shared/Utils/SelectorMenu';\r\nimport { IPage } from '../../Shared/Components/IPage';\r\nimport { MaskFormats, IMaskFormat } from '../../Shared/Utils/MaskFormats';\r\nimport { DatepickerComponent } from '../../Shared/Components/DatepickerComponent';\r\nimport IMask from \"imask\";\r\nimport { MaskFormatsManager } from '../../Shared/Utils';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\nimport { format, parseISO, parseJSON } from 'date-fns';\r\nimport dayjs = require('dayjs');\r\nimport 'select2';\r\nimport 'select2/dist/css/select2.css';\r\nimport { Page } from '../../Core/Page';\r\nimport { id } from 'date-fns/esm/locale';\r\nexport class DespachosPage extends Page {\r\n\r\n    private TableDetalle: DataTables.Api;\r\n    private TableConsolidado: DataTables.Api;\r\n    private modalInstance: M.Modal;\r\n    private gestionDespachos: DespachosGestionPage;\r\n    private _formDespacho: HTMLFormElement;\r\n    private _formData: FormData;\r\n    private _baseUrl = \"/Despachos\";\r\n    private _httpService: HttpFetchService;\r\n    private _arrayCompañias: Despacho[] = [];\r\n    private _despachosDatePicker: M.Datepicker;\r\n    private _despachosFechaInicial: Date;\r\n    private _terminalSeleccionada: string;\r\n\r\n    constructor() {\r\n        super();\r\n        this.FormattFields();\r\n        this._httpService = new HttpFetchService();\r\n        this.Init();\r\n    }\r\n\r\n    public Destroy() {\r\n        super.Destroy();\r\n        this.TableDetalle.destroy(false);\r\n        this.TableConsolidado.destroy(false);\r\n        this._despachosDatePicker?.destroy();\r\n    }\r\n\r\n    public Init() {\r\n        this.InicializarDatePicker();\r\n        this.SortExtention();\r\n        this.InicializarButtons();\r\n        this.InicializarControls();               \r\n    }\r\n\r\n    public SortExtention() {\r\n        $.fn.dataTable.ext.order['dom-checkbox'] = function (settings, col) {\r\n            return this.api().column(col, { order: 'index' }).nodes().map(function (td, i) {\r\n                return $('input', td).prop('checked') ? '1' : '0';\r\n            });\r\n        };\r\n    }\r\n\r\n    private async InicializarControls() {\r\n        SelectorMenu.SeleccionEnElMenu();\r\n        this.TableDetalle = new ConfigureDataTable().ConfigureScrollX(\"#data-table-despacho-detalle\", [{ \"orderDataType\": \"dom-checkbox\" }, null, null, null, null, null, null, null, null, null, null, null], [{ \"width\": \"5%\", \"targets\": 0 }], 'filtro_detalle');\r\n        this.TableConsolidado = new ConfigureDataTable().ConfigureScrollX(\"#data-table-despacho-consolidado\", null, [{ \"width\": \"5%\", \"targets\": 0 }], 'filtro_consolidado');\r\n        $(\".select2\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        \r\n        \r\n        M.Tabs.init(document.querySelectorAll('.tabs'));\r\n        this.gestionDespachos = new DespachosGestionPage(document.getElementById(\"despacho-modal\"));\r\n        this.gestionDespachos.onDespachoCreado = () => this.LimpiarFormulario();\r\n        this.gestionDespachos.onDespachoActualizado = (despacho) => this.ActualizarFilaDatatable(despacho);\r\n\r\n        M.updateTextFields();\r\n        this._formDespacho = document.querySelector(\"#despacho-form\");\r\n        this._formData = new FormData(this._formDespacho);\r\n        $(this._formDespacho).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.unobtrusive.parse(this._formDespacho);\r\n\r\n        this._formDespacho.onsubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            if ($(this._formDespacho).valid()) {\r\n                this._formData = new FormData(this._formDespacho);\r\n                this.MaskManager.SetUnmaskedFormValue(this._formData);\r\n                this.BuscarDespachos();\r\n            }\r\n            return false; // prevent reload\r\n        };\r\n\r\n        \r\n    }\r\n\r\n    private async InicializarDatePicker() {\r\n\r\n        this._despachosFechaInicial = await this.GetInitialCloseDate();\r\n        console.log(this._despachosFechaInicial);\r\n        this._despachosDatePicker = new DatepickerComponent().GetInstances2('#fecha-despacho',\r\n            {\r\n                onClose: () => { this.UpdateMaskValue() },\r\n                onDraw: () => { this.ConfigClosedDates() },\r\n                minDate: new Date(this._despachosFechaInicial),\r\n                maxDate: new Date(),\r\n                //defaultDate: new Date(),\r\n                //setDefaultDate: true\r\n            });\r\n\r\n        this.RegistrarFormatos();\r\n    }\r\n\r\n\r\n    private InicializarButtons() {\r\n        var kanba = document.getElementById(\"kanba\");\r\n        var despachoAdd = document.getElementById(\"despacho-add\");\r\n        var limpiarForm = document.getElementById(\"borrar-filtro\");\r\n        var tabDetalle = document.getElementById(\"tab_detalle\");\r\n        var tabConsolidado = document.getElementById(\"tab_consolidado\");\r\n        var thes = this;\r\n\r\n        kanba.addEventListener('click', function (event) {\r\n            if ((event.target as HTMLElement).classList.contains('despacho-detail')) {\r\n                thes.BuscarDetalleDetalle(event.target['dataset'].iddespacho, event);\r\n            }\r\n            if ((event.target as HTMLElement).classList.contains('despacho-edit')) {\r\n                thes.EditarDespacho(event.target['dataset'].iddespacho);\r\n            }\r\n            if ((event.target as HTMLElement).classList.contains('despacho-consolidated')) {\r\n                thes.BuscarDetalleConsolidado(event.target['dataset'].idproducto, event);\r\n            }\r\n\r\n        });\r\n\r\n        despachoAdd.addEventListener('click', event => this.CrearDespacho());\r\n        limpiarForm.addEventListener('click', event => this.LimpiarFormulario());\r\n        tabDetalle.addEventListener('click', event => this.RenderizarTablaDetalle());\r\n        tabConsolidado.addEventListener('click', event => this.RenderizarTablaConsolidado());\r\n\r\n        kanba.addEventListener('change', function (event) {\r\n            if ((event.target as HTMLElement).classList.contains('despacho-estado')) {\r\n                thes.CambioEstado(event.target['dataset'].iddespacho, event);\r\n            }\r\n        });\r\n\r\n        $(\"#terminal-despacho\").change(function () { thes.ConsultarCompañias(); });\r\n        $(\"#compañia-despacho\").change(function () { thes.VerificacionActivacionBtnCrear(); });\r\n        $(\"#fecha-despacho\").change(function () { thes.LimpiarTablas(); });\r\n    }\r\n\r\n    private RenderizarTablaDetalle() {\r\n        setTimeout(() => { this.TableDetalle.draw(false); }, 600)\r\n    }\r\n\r\n    private RenderizarTablaConsolidado() {\r\n        setTimeout(() => { this.TableConsolidado.draw(false); }, 600)\r\n    }\r\n\r\n    private VerificacionActivacionBtnCrear() {\r\n        this.LimpiarTablas();\r\n        var terminal = (<HTMLInputElement>document.getElementById(\"terminal-despacho\")).value;\r\n        var compañia = (<HTMLInputElement>document.getElementById(\"compañia-despacho\")).value;\r\n        var btnCrear = document.getElementById(\"despacho-add\")\r\n\r\n        if (terminal != \"\" && compañia != \"\" && compañia != \"TODAS\") {\r\n            btnCrear.classList.remove('disabled');\r\n            return\r\n        }\r\n        btnCrear.classList.add('disabled');\r\n    }\r\n\r\n    // Actualizar un despacho\r\n    private ActualizarFilaDatatable(despacho: Despacho) {\r\n        let row = $(\"tr#\" + despacho.Id_Despacho);\r\n        var despach = this.TableDetalle.row(row).data();\r\n        despach[5] = despacho.Placa_Cabezote;\r\n        despach[6] = despacho.Placa_Trailer;\r\n        despach[7] = despacho.Cedula_Conductor;\r\n        despach[9] = despacho.Volumen_Ordenado;\r\n        despach[10] = despacho.Volumen_Cargado;\r\n        this.TableDetalle.row(row).data(despach);\r\n    }\r\n\r\n    private BuscarDespachos() {\r\n        try {\r\n            var terminal = (<HTMLInputElement>document.getElementById(\"terminal-despacho\")).value;\r\n            var compañia = (<HTMLInputElement>document.getElementById(\"compañia-despacho\")).value;\r\n            var fecha = (<HTMLInputElement>document.getElementById(\"fecha-despacho\")).value;\r\n\r\n            if (terminal != \"\" && compañia != \"\" && fecha != \"\") {\r\n\r\n                var payload = { terminal: terminal, compañia: compañia, fechaCorte: fecha };\r\n                this.LimpiarTablas();\r\n\r\n                this._httpService.Post<string>(\"/Despachos/BuscarDespachosDetallados\", payload, false)\r\n                    .then((data) => {\r\n                        if (data) {\r\n                            document.getElementById(\"lista-detalle\").innerHTML = data;\r\n                            this.TableDetalle = new ConfigureDataTable().ConfigureScrollX(\"#data-table-despacho-detalle\", [{ \"orderDataType\": \"dom-checkbox\" }, null, null, null, null, null, null, null, null, null, null, null], [{ \"width\": \"5%\", \"targets\": 0 }], 'filtro_detalle');\r\n                            M.toast({ html: \"Búsqueda de detalles finalizada\", classes: (true) ? \"succes\" : \"error\" });\r\n                        }\r\n                        else\r\n                            M.toast({ html: data, classes: (false) ? \"succes\" : \"error\" });\r\n                    }).catch((error) => {\r\n                        M.toast({ html: \"No es posible consultar los datos: \" + error, classes: \"error\" });\r\n                        console.log(error)\r\n                    })\r\n\r\n                this._httpService.Post<string>(\"/Despachos/BuscarDespachosConsolidados\", payload, false)\r\n                    .then((data) => {\r\n                        if (data) {\r\n                            document.getElementById(\"lista-consolidado\").innerHTML = data;\r\n                            this.TableConsolidado = new ConfigureDataTable().ConfigureScrollX(\"#data-table-despacho-consolidado\", null, [{ \"width\": \"5%\", \"targets\": 0 }], 'filtro_consolidado');\r\n                            //this.MaskManager.ApplyMasks();\r\n                            M.toast({ html: \"Búsqueda de consolidado finalizada\", classes: (true) ? \"succes\" : \"error\" });\r\n                        }\r\n                        else\r\n                            M.toast({ html: data, classes: (false) ? \"succes\" : \"error\" });\r\n                    }).catch((error) => {\r\n                        M.toast({ html: \"No es posible consultar los datos: \" + error, classes: \"error\" });\r\n                        console.log(error)\r\n                    })\r\n            }\r\n            else {\r\n                M.toast({ html: \"Algún campo del registro no fue ingresado\", classes: (false) ? \"succes\" : \"error\" });\r\n            }\r\n            return false; // prevent reload\r\n        }\r\n        catch (error) {\r\n            M.toast({ html: \"Algo salió mal y no fue posible consultar los datos\", classes: (false) ? \"succes\" : \"error\" });\r\n        }\r\n    }\r\n\r\n    private async BuscarConsolidados() {\r\n        try {\r\n            var terminal = (<HTMLInputElement>document.getElementById(\"terminal-despacho\")).value;\r\n            var compañia = (<HTMLInputElement>document.getElementById(\"compañia-despacho\")).value;\r\n            var fecha = (<HTMLInputElement>document.getElementById(\"fecha-despacho\")).value;\r\n            var payload = { terminal: terminal, compañia: compañia, fechaCorte: fecha };\r\n            this.TableConsolidado?.clear();\r\n            this.TableConsolidado?.draw();\r\n\r\n            if (terminal != \"\" && compañia != \"\" && fecha != \"\") {\r\n\r\n                this._httpService.Post<string>(\"/Despachos/BuscarDespachosConsolidados\", payload, false)\r\n                    .then((data) => {\r\n                        if (data) {\r\n                            document.getElementById(\"lista-consolidado\").innerHTML = data;\r\n                            this.TableConsolidado = new ConfigureDataTable().ConfigureScrollX(\"#data-table-despacho-consolidado\", null, [{ \"width\": \"5%\", \"targets\": 0 }], 'filtro_consolidado');\r\n                            M.toast({ html: \"Búsqueda de consolidado finalizada\", classes: (true) ? \"succes\" : \"error\" });\r\n                        }\r\n                        else\r\n                            M.toast({ html: data, classes: (false) ? \"succes\" : \"error\" });\r\n                    }).catch((error) => {\r\n                        M.toast({ html: \"No es posible consultar los datos: \" + error, classes: \"error\" });\r\n                        console.log(error)\r\n                    })\r\n            }\r\n            else {\r\n                M.toast({ html: \"Algún campo de la búsqueda fue modificado, por favor recargue la búsqueda\", classes: (false) ? \"succes\" : \"error\" });\r\n            }\r\n            return false; // prevent reload\r\n        }\r\n        catch (error) {\r\n            this.LimpiarFormulario();\r\n            M.toast({ html: \"Algo salió mal por favor realice nuevamente la consulta\", classes: (false) ? \"succes\" : \"error\" });\r\n        }\r\n    }\r\n\r\n    private CrearDespacho() {\r\n        var terminal = (<HTMLInputElement>document.getElementById(\"terminal-despacho\")).value;\r\n        var compañia = (<HTMLInputElement>document.getElementById(\"compañia-despacho\")).value;\r\n\r\n        var payload = { Id_Terminal: terminal, Id_Compañia: compañia };\r\n\r\n        this.gestionDespachos.NuevoDespacho(payload);\r\n    }\r\n\r\n    private EditarDespacho(iddespacho): void {\r\n        this.gestionDespachos.DatosDespacho(iddespacho, true);\r\n    }\r\n\r\n    private async BuscarDetalleDetalle(iddespacho, event) {\r\n        var tr = event.target.parentNode;\r\n        var row = this.TableDetalle.row(tr);\r\n        let self = this;\r\n        if (row.child.isShown()) {\r\n            // This row is already open - close it.\r\n            row.child.hide();\r\n            tr.classList.remove('shown');\r\n        } else {\r\n            // Open row.\r\n            try {\r\n                this._httpService.Post<string>(\"/Despachos/ObtenerDetalleDetalle\", iddespacho, false)\r\n                    .then((data) => {\r\n                        let x = JSON.parse(data);\r\n                        if (data) {\r\n                            let tablaComponentes = '<tr style=\"background: lightgrey;\"><td><table id=\"data-table-detalleDetalle\" class=\"\" style=\"width:35%; white-space:nowrap\">' +\r\n                                '<thead><tr>' +\r\n                                '<th>Componente</th>' +\r\n                                '<th>Volumen Bruto - Gal</th>' +\r\n                                '<th>Volumen Neto - Gal</th>' +\r\n                                '<th>Temperatura - °F</th>' +\r\n                                '<th>Densidad - API</th>' +\r\n                                '</tr></thead>' +\r\n                                '<tbody>';\r\n\r\n                            Object.values(x['Payload']).forEach(function (data) {\r\n                                var tablaComten = '<tr>' +\r\n                                    '<td>' + data['Componente'] + '</td>' +\r\n                                    '<td>' + self.Formato(data['Volumen_Bruto']) + '</td>' +\r\n                                    '<td>' + self.Formato(data['Volumen_Neto']) + '</td>' +\r\n                                    '<td>' + data['Temperatura'] + '</td>' +\r\n                                    '<td>' + data['Densidad'] + '</td></tr>';\r\n                                tablaComponentes += tablaComten;\r\n                            });\r\n                            tablaComponentes += '</tbody></table></td></tr>';\r\n                            row.child(tablaComponentes).show();\r\n                            tr.classList.add('shown');\r\n                        }\r\n                    }).catch((error) => {\r\n                        M.toast({ html: \"No es posible consultar el detalle de detalle: \" + error, classes: \"error\" });\r\n                        console.log(error)\r\n                    })\r\n                return false; // prevent reload\r\n            }\r\n            catch (error) {\r\n                M.toast({ html: \"Algo salió mal y no fue posible consultar el detalle de detalle\", classes: (false) ? \"succes\" : \"error\" });\r\n            }\r\n        }\r\n    }\r\n\r\n    private async BuscarDetalleConsolidado(idproducto, event) {\r\n        var tr = event.target.parentNode;\r\n        var row = this.TableConsolidado.row(tr);\r\n        var terminal = (<HTMLInputElement>document.getElementById(\"terminal-despacho\")).value;\r\n        var compañia = (<HTMLInputElement>document.getElementById(\"compañia-despacho\")).value;\r\n        var fecha = (<HTMLInputElement>document.getElementById(\"fecha-despacho\")).value;\r\n        let self = this;\r\n\r\n        var payload = { Terminal: terminal, Compañia: compañia, fechaCorte: fecha, IdProducto: idproducto };\r\n        if (row.child.isShown()) {\r\n            // This row is already open - close it.\r\n            row.child.hide();\r\n            tr.classList.remove('shown');\r\n        } else {\r\n            // Open row.\r\n            try {\r\n                this._httpService.Post<string>(\"/Despachos/ObtenerDetalleConsolidado\", payload, false)\r\n                    .then((data) => {\r\n                        let x = JSON.parse(data);\r\n                        if (data) {\r\n                            let tablaComponentes = '<tr style=\"background: lightgrey;\"><td><table id=\"data-table-detalleConsolidado\" class=\"\" style=\"width:50%; white-space:nowrap\">' +\r\n                                '<thead><tr>' +\r\n                                '<th>Código Producto</th>' +\r\n                                '<th>Componente</th>' +\r\n                                '<th>Volumen Bruto - Gal</th>' +\r\n                                '<th>Temperatura - °F</th>' +\r\n                                '<th>Densidad - API</th>' +\r\n                                '<th>Volumen Neto - Gal</th>' +\r\n                                '<th>Factor</th>' +\r\n                                '</tr></thead>' +\r\n                                '<tbody>';\r\n                            Object.values(x['Payload']).forEach(function (data) {\r\n                                var x = 0;\r\n\r\n                                var tablaComten = '<tr> ' +\r\n                                    '<td>' + data['IdProducto'] + '</td>' +\r\n                                    '<td>' + data['Producto'] + '</td>' +\r\n                                    '<td>' + self.Formato(data['VolumenUnitarioBruto']) + '</td>' +\r\n                                    '<td>' + data['TemperaturaPonderada'] + '</td>' +\r\n                                    '<td>' + data['DensidadPonderada'] + '</td>' +\r\n                                    '<td>' + self.Formato(data['VolumenUnitarioNeto']) + '</td>' +\r\n                                    '<td>' + data['Factor'] + '</td></tr>';\r\n                                tablaComponentes += tablaComten;\r\n                            });\r\n                            tablaComponentes += '</tbody></table></td></tr>';\r\n                            row.child(tablaComponentes).show();\r\n                            tr.classList.add('shown');\r\n                        }\r\n                    }).catch((error) => {\r\n                        M.toast({ html: \"No es posible consultar el detalle de consolidado: \" + error, classes: \"error\" });\r\n                        console.log(error)\r\n                    })\r\n                return false; // prevent reload\r\n            }\r\n            catch (error) {\r\n                M.toast({ html: \"Algo salió mal y no fue posible consultar el detalle de consolidado\", classes: (false) ? \"succes\" : \"error\" });\r\n            }\r\n        }\r\n    }\r\n\r\n    private Formato(valor) {\r\n        let cif = 3, dec = 2;\r\n        // tomamos el valor que tiene el input\r\n        let inputNum = valor;\r\n        // Lo convertimos en texto\r\n        inputNum = inputNum.toString()\r\n        // separamos en un array los valores antes y después del punto\r\n        inputNum = inputNum.split('.')\r\n        // evaluamos si existen decimales\r\n        if (!inputNum[1]) {\r\n            inputNum[1] = '00'\r\n        }\r\n\r\n        let separados\r\n        // se calcula la longitud de la cadena\r\n        if (inputNum[0].length > cif) {\r\n            let uno = inputNum[0].length % cif\r\n            if (uno === 0) {\r\n                separados = []\r\n            } else {\r\n                separados = [inputNum[0].substring(0, uno)]\r\n            }\r\n            let posiciones = Math.floor((inputNum[0].length / cif));\r\n            for (let i = 0; i < posiciones; i++) {\r\n                let pos = ((i * cif) + uno)\r\n                separados.push(inputNum[0].substring(pos, (pos + 3)))\r\n            }\r\n        } else {\r\n            separados = [inputNum[0]]\r\n        }\r\n        let res = separados.join(',') + '.' + inputNum[1];\r\n        return res;\r\n    };\r\n\r\n    private async CambioEstado(idDespacho, event) {\r\n        const confirm = new ConfirmModalMessage(\"Cambio de Estado\", \"¿Está seguro de cambiar el estado?\", \"Aceptar\", \"Cancelar\");\r\n        let shouldDelete = await confirm.Confirm();\r\n\r\n        if (!shouldDelete) {\r\n            if (event.target.checked) {\r\n                event.target.checked = false;\r\n                return;\r\n            } else {\r\n                event.target.checked = true;\r\n                return;\r\n            }\r\n        };\r\n        let cambio = event.target.checked ? \"True\" : \"False\";\r\n\r\n        var payload = { Despacho: idDespacho, Lectura: event.target.checked };\r\n        let lbl = (event.target.id + '').split('-');\r\n        let index = lbl[2];\r\n        //document.getElementById('label-estado-' + index).innerHTML = cambio;\r\n        let row = $(\"tr#\" + idDespacho);\r\n        let currentRow = this.TableDetalle.row(row);\r\n        var cond = this.TableDetalle.row(row).data();\r\n        this._httpService.Post<string>(\"/Despachos/ActualizarEstadoDespacho\", payload, false)\r\n            .then((data) => {\r\n                let resultado = JSON.parse(data);\r\n                if (resultado['Result']) {\r\n                    this.MaskManager.ApplyMasks();\r\n                    cond[0] = this.HtmlCambioEstado(index, cambio, idDespacho);\r\n                    this.TableDetalle.row(row).data(cond);\r\n                    this.TableDetalle.row(row).invalidate();\r\n                    //this.TableDetalle = new ConfigureDataTable().ConfigureScrollX(\"#data-table-despacho-detalle\", [{ \"width\": \"5%\", \"targets\": 0 }], 'filtro_detalle');\r\n                    M.toast({ html: \"Se cambia el estado correctamente\", classes: (true) ? \"succes\" : \"error\" });\r\n\r\n                    this.BuscarConsolidados();\r\n                    //this.RenderizarTablaDetalle();\r\n                }\r\n                else {\r\n                    M.toast({ html: 'No fue posible actualizar el estado', classes: \"error\" });\r\n                    if (event.target.checked) {\r\n                        event.target.checked = false;\r\n                    }\r\n                }\r\n            }).catch((error) => {\r\n                M.toast({ html: \"No es posible cambiar el estado: \" + error, classes: \"error\" });\r\n                if (event.target.checked) {\r\n                    event.target.checked = false;\r\n                }\r\n                else {\r\n                    event.target.checked = true;\r\n                }\r\n            })\r\n    }\r\n\r\n    private HtmlCambioEstado(index, cambio, idDespacho) {\r\n        let check;\r\n        if (cambio == 'True') {\r\n            check = `<input id=\"switch-estado-${index}\" class=\"despacho-estado\" type=\"checkbox\" checked=\"checked\" data-idDespacho=\"${idDespacho}\">`;\r\n        } else {\r\n            check = `<input id=\"switch-estado-${index}\" class=\"despacho-estado\" type=\"checkbox\" data-idDespacho=\"${idDespacho}\">`;\r\n        }\r\n        let html = '<div class=\"switch\">' +\r\n            '<label>' +\r\n            `<label id=\"label-estado-${index}\" data-order=\"${cambio}\" style=\"display:none\" data-sort=\"${cambio}\" class=\"est\">${cambio}</label>` +\r\n            check +\r\n            '<span class=\"lever\"></span>' +\r\n            '</label>' +\r\n            '</div>';\r\n        return html;\r\n    }\r\n\r\n    private async ConsultarCompañias() {\r\n        let idTerminal = (<HTMLInputElement>document.getElementById(\"terminal-despacho\")).value;\r\n        this._terminalSeleccionada = idTerminal;\r\n        if (idTerminal != \"\") {\r\n            (this._despachosDatePicker.el as HTMLInputElement).removeAttribute(\"disabled\");\r\n        }\r\n        this.VerificacionActivacionBtnCrear();\r\n        $('#compañia-despacho').val(null).trigger('change');\r\n        this._httpService.Post<Despacho[]>(this._baseUrl + '/ConsultarCompañias', idTerminal, true)\r\n            .then((data) => {\r\n                if (data) {\r\n                    this.LimpiarOpciones();\r\n                    this._arrayCompañias = data;\r\n                    this.AgregarCompañias();\r\n                }\r\n            }).catch((error) => {\r\n                M.toast({ html: error, classes: \"error\" });\r\n            });\r\n    }\r\n\r\n    private LimpiarOpciones() {\r\n        let selectClase = document.getElementById('compañia-despacho');\r\n        let numOption = $('#compañia-despacho option').length;\r\n        for (let j = numOption; j > 1; j--) {\r\n            selectClase[j - 1].remove();\r\n        }\r\n    }\r\n\r\n    private AgregarCompañias() {\r\n        let selectClase = document.getElementById('compañia-despacho');\r\n        for (let j = 0; j <= this._arrayCompañias.length; j++) {\r\n            let option = document.createElement('option');\r\n            if (j == 0) {\r\n                option.value = 'TODAS';\r\n                option.text = 'TODAS';\r\n            } else {\r\n                option.value = this._arrayCompañias[j - 1].Value;\r\n                option.text = this._arrayCompañias[j - 1].Text;\r\n            }\r\n            selectClase.append(option);\r\n        }\r\n        M.FormSelect.init(document.querySelectorAll(\"select\"));\r\n    }\r\n\r\n    //Reset de formulario\r\n    private LimpiarFormulario() {\r\n        this._formDespacho.reset();\r\n        this.LimpiarOpciones();\r\n        this.LimpiarTablas();\r\n        var btnCrear = document.getElementById(\"despacho-add\")\r\n        btnCrear.classList.add('disabled');\r\n        $('input').not(\"input[type= 'hidden']\").val(null);\r\n        $('.select2').val(null).trigger('change');\r\n        M.updateTextFields();\r\n        (this._despachosDatePicker.el as HTMLInputElement).setAttribute(\"disabled\", \"disabled\");\r\n    }\r\n\r\n    //Limpia las tablas detalle y consolidado\r\n    private LimpiarTablas() {\r\n        this.TableDetalle?.clear();\r\n        this.TableDetalle?.draw();\r\n        this.TableConsolidado.clear();\r\n        this.TableConsolidado.draw();\r\n    }\r\n\r\n    //Formatear inputs\r\n    private RegistrarFormatos() {\r\n        //registrar mascaras \r\n        this.RegisterMasks(\r\n            [\r\n                MaskFormats.DateShortFormat(),\r\n            ]);\r\n    }\r\n\r\n    //Pone la mascara de fecha corta\r\n    private UpdateMaskValue() {\r\n        this.MaskManager.UpdateValue([\".formato-fecha-corta\"])\r\n    }\r\n\r\n    private async ConfigClosedDates() {\r\n        let initialDate = dayjs(this._despachosFechaInicial);\r\n        let currentDate = dayjs();\r\n        let picker = document.querySelector<HTMLElement>(\".datepicker-table\");\r\n        let selectYear = (document.querySelector(\".select-year select.orig-select-year\") as HTMLSelectElement);\r\n        let selectMonth = (document.querySelector(\".select-month select.orig-select-month\") as HTMLSelectElement);\r\n        let year = parseInt(selectYear.options[selectYear.selectedIndex].text);\r\n        let month = selectMonth.selectedIndex;\r\n\r\n        picker.classList.add(\"disable\");\r\n        let result = await this.GetCloseDates(new Date(year, month, 1), this._terminalSeleccionada);\r\n        picker.classList.remove(\"disable\");\r\n        let pickerDays = document.querySelectorAll<HTMLElement>(\".datepicker-table td .datepicker-day-button\");\r\n\r\n        pickerDays.forEach(\r\n            function (currentValue, currentIndex, listObj) {\r\n                //currentValue.parentElement.classList.remove(\"is-closed-date\", \"is-open-date\");\r\n                let day = parseInt(currentValue.dataset.day);\r\n                let cutDate = result.find(d => dayjs(d.Fecha).date() == day);\r\n                if (cutDate)\r\n                    currentValue.parentElement.classList.add(cutDate.Cierre ? \"is-closed-date\" : \"is-open-date\");\r\n                else {\r\n                    let calendarDay = new Date(year, month, day);\r\n                    if (currentDate.isSame(calendarDay, \"day\"))\r\n                        currentValue.parentElement.classList.add(\"is-current-date\");\r\n                }\r\n            });\r\n    }\r\n\r\n    private async GetCloseDates(fechaActual: Date, idTerminal: string) {\r\n        var payload = { IdEntidad: idTerminal, Fecha: fechaActual };\r\n        return new Promise<FechasCorteDTO[]>((resolve, reject) => {\r\n            const httpService = new HttpFetchService();\r\n            httpService.Post<FechasCorteDTO[]>(\"/Despachos/ObtenerFechasCierreMes/\", payload, true)\r\n                .then((data) => {\r\n                    if (data) {\r\n                        resolve(data);\r\n                    }\r\n                }).catch((error) => { reject(\"Error: \" + error) });\r\n        });\r\n\r\n    }\r\n\r\n    private async GetInitialCloseDate() {\r\n        return new Promise<Date>((resolver, reject) => {\r\n            const httpService = new HttpFetchService();\r\n            httpService.Post<Date>(\"/Despachos/ObtenerFechaCierreInicial/\", \"\", true)\r\n                .then((data) => {\r\n                    if (data) {\r\n                        resolver(data);\r\n                    }\r\n                }).catch((error) => { reject(\"Error: \" + error) });\r\n        })\r\n\r\n    }\r\n\r\n    private ObtenerFechaCierreInicial() {\r\n        let Fecha;\r\n        const httpService = new HttpFetchService();\r\n        httpService.Post<Date>(\"/Despachos/ObtenerFechaCierreInicial/\", \"\", true)\r\n                .then((data) => {\r\n                    if (data) {\r\n                        Fecha = data;\r\n                    }\r\n                }).catch((error) => { \"Error: \" + error });        \r\n\r\n        return Fecha;\r\n    }\r\n\r\n    private FormattFields() {\r\n        this.RegisterMasks(\r\n            [\r\n                MaskFormats.DecimalFormatRang(\".volumen\", 0, 1000000)\r\n            ]\r\n        )\r\n        //formData.forEach((value, key) => { console.log(key + \": \" + value) });\r\n    }\r\n\r\n}\r\n\r\nvar despachosPage = new DespachosPage();\r\n\r\n\r\n// Called after every non-initial page load\r\ndocument.addEventListener('turbolinks:render', (e: any) => {\r\n    if (document.URL.indexOf('/Despachos/Index') != -1) {\r\n        if (DespachosPage) {\r\n            despachosPage.Init();\r\n        }\r\n        else {\r\n            despachosPage = new DespachosPage();\r\n        }\r\n    }\r\n    else\r\n        despachosPage?.Destroy();\r\n});","import { HttpFetchService, IMessageResponse, Log } from '../../Shared';\r\nimport { Despacho } from '../../Shared/Models/Despacho';\r\n\r\nimport 'jquery-qubit';\r\nimport 'jquery-bonsai';\r\nimport 'jquery-bonsai/jquery.bonsai.css';\r\nimport 'select2';\r\nimport 'select2/dist/css/select2.css';\r\nimport { MaskFormats, IMaskFormat } from '../../Shared/Utils/MaskFormats';\r\nimport { ConfigureDataTable } from '../../Shared/Components/ConfigureDataTable';\r\nimport dayjs = require('dayjs');\r\nimport { MaskFormatsManager } from '../../Shared/Utils';\r\nimport { DatepickerComponent } from '../../Shared/Components/DatepickerComponent';\r\nimport { Page } from '../../Core/Page';\r\n\r\nexport class DespachosGestionPage extends Page {\r\n\r\n    //PROPIEDADES\r\n    public onDespachoCreado?: () => void;\r\n    public onDespachoActualizado?: (despacho: Despacho) => void;\r\n\r\n    //CAMPOS\r\n    private _baseUrl = \"/Despachos\";\r\n    private _httpService: HttpFetchService;\r\n    private _modalInstance: M.Modal;\r\n    private _modalBase: HTMLElement;\r\n    private _formDespacho: HTMLFormElement;\r\n    private _selects: M.FormSelect[];\r\n    private _collaps: M.Collapsible[];\r\n    private _formData: FormData;\r\n    private _DespachoIdActualizar: string;\r\n    private _VolumenBruto: string;\r\n    private _despachosDatePicker: M.Datepicker;\r\n    private _despachosFechaInicial: Date;\r\n    private _crear: boolean;\r\n    private _habilitarConsultaComp: boolean;\r\n    private TableComponente: DataTables.Api;\r\n    private _MaskFormatsComponentes: MaskFormatsManager;\r\n\r\n    //CONSTRUCTOR\r\n    constructor(modalBase: HTMLElement) {\r\n        super();\r\n        this._MaskFormatsComponentes = new MaskFormatsManager();\r\n        this._httpService = new HttpFetchService();\r\n        this._modalBase = modalBase;\r\n        this.InicializarModal();\r\n        this.RegistrarFormatos();\r\n        this.GetInitialCloseDate();\r\n    }\r\n\r\n    //METODOS\r\n\r\n    //Creacion de nuevo Despacho\r\n    public NuevoDespacho(payload) {\r\n        this._httpService.Post<string>(this._baseUrl + \"/NuevoDespacho\", payload, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicilizarFormDespacho(true);\r\n                this.MaskManager.ApplyMasks();\r\n                this._MaskFormatsComponentes.ApplyMasks();\r\n                this._crear = true;\r\n                this._habilitarConsultaComp = true;\r\n            });\r\n\r\n        this._modalInstance.open();\r\n    }\r\n\r\n    private CalcularFactor() {\r\n        let tabla = '#data-table-componentes tbody';\r\n        $(tabla).find('tr').each(function () {\r\n            let $tr = $(this),\r\n                $volumenNeto = $tr.find('input.volumenNeto').val() + '',\r\n                $volumenBruto = $tr.find('input.volumenBruto').val() + '',\r\n                $factor = $tr.find('input.factor'),\r\n                resFactor;\r\n            $volumenNeto = $volumenNeto.replace(/,/g, \"\");\r\n            $volumenBruto = $volumenBruto.replace(/,/g, \"\");\r\n            let vn = parseFloat($volumenNeto);\r\n            let vb = parseFloat($volumenBruto);\r\n            resFactor = (vn / vb).toFixed(5);\r\n            if (!isNaN(resFactor)) {\r\n                $factor.val(resFactor);\r\n                return;\r\n            }\r\n            $factor.val('0');\r\n        })\r\n    }\r\n\r\n    //Guardar Despacho\r\n    private GuardarDespacho(): void {\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        let compartimento = this._formData.get('Compartimento');\r\n        this._formData.set('Terminal', (<HTMLInputElement>document.getElementById(\"despacho-terminal\")).value);\r\n        this._formData.set('Compañia', (<HTMLInputElement>document.getElementById(\"despacho-compañia\")).value);\r\n        this._formData.set('IdProducto', (<HTMLInputElement>document.getElementById(\"despacho-producto\")).value);\r\n        if (compartimento == \"\" || compartimento < \"1\" || compartimento > \"5\") {\r\n            M.toast({ html: \"Por favor seleccionar un compartimento\", classes: \"error\" });\r\n        }\r\n        else {\r\n            this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/CrearDespacho\", this._formData, token)\r\n                .then((data) => {\r\n                    if (data.Result) {\r\n                        this._habilitarConsultaComp = false;\r\n                        if (this.onDespachoCreado)\r\n                            this.onDespachoCreado();\r\n                        this.CerrarModal();\r\n                    }\r\n                    M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n                })\r\n                .catch((err) => console.log(err));\r\n        }\r\n    }\r\n\r\n    //Edicion de Despacho\r\n    public DatosDespacho(idDespacho: string, lectura: boolean) {\r\n        var payload = { Despacho: idDespacho, lectura: lectura };\r\n        this._DespachoIdActualizar = idDespacho;\r\n        this._httpService.Post<string>(this._baseUrl + \"/EditarDespacho\", payload, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicilizarFormDespacho(false);\r\n                this.MaskManager.ApplyMasks();\r\n                this._MaskFormatsComponentes.ApplyMasks();\r\n            });\r\n\r\n        this._modalInstance.open();\r\n    }\r\n\r\n    //Actualizar Despacho\r\n    private ActualizarDespacho(): void {\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        let compartimento = this._formData.get('Compartimento');\r\n        this._formData.set('Terminal', (<HTMLInputElement>document.getElementById(\"despacho-terminal\")).value);\r\n        this._formData.set('Compañia', (<HTMLInputElement>document.getElementById(\"despacho-compañia\")).value);\r\n        this._formData.set('IdProducto', (<HTMLInputElement>document.getElementById(\"despacho-producto\")).value);\r\n        if (compartimento == \"\" || compartimento < \"1\" || compartimento > \"5\") {\r\n            M.toast({ html: \"Por favor seleccionar un compartimento\", classes: \"error\" });\r\n        }\r\n        else {\r\n            this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/ActualizarDespacho\", this._formData, token)\r\n                .then((data) => {\r\n                    if (data.Result) {\r\n                        if (this.onDespachoActualizado)\r\n                            this.onDespachoActualizado(this.ExtraerDespacho());\r\n                        this.CerrarModal();\r\n                    }\r\n                    M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n                })\r\n                .catch((err) => console.log(err));\r\n        }\r\n\r\n    }\r\n\r\n    //Inicializar control modal\r\n    private InicializarModal() {\r\n        this._modalInstance = M.Modal.init(this._modalBase, {\r\n            dismissible: false,\r\n            opacity: .5,\r\n            inDuration: 300,\r\n            outDuration: 200,\r\n            startingTop: '6%',\r\n            endingTop: '8%'\r\n        });\r\n    }\r\n\r\n    //Inicializar controles de formulario\r\n    private InicilizarFormDespacho(modoCreacion: boolean): void {\r\n        $(\".select2\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        this.TableComponente = new ConfigureDataTable().ConfigureScrollXSinInfo(\"#data-table-componentes\", [{ \"width\": \"5%\", \"targets\": 0 }]);\r\n        document.getElementById('lista-componentes').addEventListener('keyup', event => {\r\n            this.CalcularFactor();\r\n        });\r\n        this._despachosDatePicker = new DatepickerComponent().GetInstances2('#despacho-fecha',\r\n            {\r\n                onClose: () => { this.UpdateMaskValue() },\r\n                onDraw: () => { this.ConfigClosedDates() },\r\n                minDate: dayjs(this._despachosFechaInicial, \"YYYY-MM-DD\").toDate(),\r\n                maxDate: new Date(),\r\n                //defaultDate: new Date(),\r\n                //setDefaultDate: true\r\n            });\r\n\r\n        M.updateTextFields();\r\n        this._formDespacho = document.querySelector(\"#despacho-modal-form\");\r\n        this._formData = new FormData(this._formDespacho);\r\n        $(this._formDespacho).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.unobtrusive.parse(this._formDespacho);\r\n\r\n        document.getElementById(\"despacho-modal-cancel\").addEventListener('click', (ev) => this.CerrarModal());\r\n\r\n        this._formDespacho.onsubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            if ($(this._formDespacho).valid()) {\r\n                this._formData = new FormData(this._formDespacho);\r\n                this.MaskManager.SetUnmaskedFormValue(this._formData);\r\n\r\n                if (modoCreacion)\r\n                    this.GuardarDespacho();\r\n                else\r\n                    this.ActualizarDespacho();\r\n            }\r\n            return false; // prevent reload\r\n        };\r\n\r\n        var thes = this;\r\n        $(\"#despacho-producto\").change(function () { thes.ConsultarComponentes(); });\r\n        $(\"#volumen-cargado\").keyup(function () { thes.RecalcularVolBrutos(); });\r\n    }\r\n\r\n    private async ConsultarComponentes() {\r\n        if (this._crear && this._habilitarConsultaComp) {\r\n            try {\r\n                let Terminal = (<HTMLInputElement>document.getElementById(\"despacho-terminal\")).value;\r\n                let Producto = (<HTMLInputElement>document.getElementById(\"despacho-producto\")).value;\r\n                let volCargado = (<HTMLInputElement>document.getElementById(\"volumen-cargado\")).value;\r\n                if (volCargado != \"\") {\r\n                    var payload = { IdTerminal: Terminal, IdProducto: Producto, VolumenCargado: volCargado };\r\n                    this._httpService.Post<string>(\"/Despachos/ObtenerRecetaActivaPorProductoTerminal\", payload, false)\r\n                        .then((data) => {\r\n                            if (data) {\r\n                                document.getElementById(\"lista-componentes\").innerHTML = data;\r\n                                $(\".select2\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n                                this.TableComponente = new ConfigureDataTable().ConfigureScrollXSinInfo(\"#data-table-componentes\", [{ \"width\": \"5%\", \"targets\": 0 }]);\r\n                                this._MaskFormatsComponentes.ApplyMasks();\r\n                            }\r\n                            else\r\n                                M.toast({ html: data, classes: (false) ? \"succes\" : \"error\" });\r\n                        }).catch((error) => {\r\n                            M.toast({ html: \"No fue posible cargar los componentes: \" + error, classes: \"error\" });\r\n                            console.log(error)\r\n                        })\r\n                }\r\n                else {\r\n                    M.toast({ html: \"Por favor ingresar un volumen cargado para recalcular los componentes\", classes: \"error\" });\r\n                }\r\n                return false; // prevent reload\r\n            }\r\n            catch (error) {\r\n                M.toast({ html: \"Algo salió mal y no fue posible consultar los componentes\", classes: (false) ? \"succes\" : \"error\" });\r\n            }\r\n        }\r\n    }\r\n\r\n    private async RecalcularVolBrutos() {\r\n        if (this._crear && this._habilitarConsultaComp) {\r\n            try {\r\n                let Terminal = (<HTMLInputElement>document.getElementById(\"despacho-terminal\")).value;\r\n                let Producto = (<HTMLInputElement>document.getElementById(\"despacho-producto\")).value;\r\n                let volCargado = (<HTMLInputElement>document.getElementById(\"volumen-cargado\")).value;\r\n                if (Producto != \"\") {\r\n                    if (this._VolumenBruto != volCargado && volCargado != \"\") {\r\n                        var payload = { IdTerminal: Terminal, IdProducto: Producto, VolumenCargado: volCargado };\r\n                        this._httpService.Post<string>(\"/Despachos/ObtenerRecetaActivaPorProductoTerminal\", payload, false)\r\n                            .then((data) => {\r\n                                if (data) {\r\n                                    document.getElementById(\"lista-componentes\").innerHTML = data;\r\n                                    $(\".select2\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n                                    this.TableComponente = new ConfigureDataTable().ConfigureScrollXSinInfo(\"#data-table-componentes\", [{ \"width\": \"5%\", \"targets\": 0 }]);\r\n                                    this._MaskFormatsComponentes.ApplyMasks();\r\n                                }\r\n                                else\r\n                                    M.toast({ html: data, classes: (false) ? \"succes\" : \"error\" });\r\n                            }).catch((error) => {\r\n                                M.toast({ html: \"No fue posible cargar los componentes: \" + error, classes: \"error\" });\r\n                                console.log(error)\r\n                            })\r\n                    }\r\n                }\r\n                else {\r\n                    M.toast({ html: \"Por favor seleccionar un producto para recalcular los componentes\", classes: \"error\" });\r\n                }\r\n                this._VolumenBruto = volCargado;\r\n                return false; // prevent reload\r\n            }\r\n            catch (error) {\r\n                M.toast({ html: \"Algo salió mal y no fue posible consultar los componentes\", classes: (false) ? \"succes\" : \"error\" });\r\n            }\r\n        }\r\n    }\r\n\r\n    //Extraer despacho de formulario\r\n    private ExtraerDespacho(): Despacho {\r\n        let despach = new Despacho();\r\n\r\n        despach.Id_Despacho = this._formData.get(\"Id_Despacho\")?.toString();\r\n        despach.Placa_Cabezote = this._formData.get(\"Placa_Cabezote\")?.toString();\r\n        despach.Placa_Trailer = this._formData.get(\"Placa_Trailer\")?.toString();\r\n        despach.Volumen_Ordenado = this._formData.get(\"Volumen_Ordenado\")?.toString();\r\n        despach.Volumen_Cargado = this._formData.get(\"Volumen_Cargado\")?.toString();\r\n        despach.Cedula_Conductor = this._formData.get(\"Cedula_Conductor\")?.toString();\r\n\r\n        return despach;\r\n    }\r\n\r\n    //Reset de formulario\r\n    private LimpiarFormulario() {\r\n        this._formDespacho.reset();\r\n        $('input').not(\"input[type= 'hidden']\").val(null);\r\n        $('.select2').val(null).trigger('change');\r\n        M.updateTextFields();\r\n        //$('#Despacho-observaciones').focus();\r\n        //$('#Despacho-observaciones').blur();\r\n    }\r\n\r\n    //Cerrar control modal\r\n    private CerrarModal() {\r\n        if (this._crear)\r\n            this._despachosDatePicker.destroy();\r\n\r\n        this._habilitarConsultaComp = false;\r\n        this._crear = false;\r\n        this.TableComponente.destroy(false);\r\n        this._modalInstance.close();\r\n        this._formDespacho.parentNode.removeChild(this._formDespacho);\r\n        this._DespachoIdActualizar = \"\";\r\n    }\r\n\r\n    //Formatear inputs\r\n    private RegistrarFormatos() {\r\n        //registrar mascaras \r\n        this.RegisterMasks(\r\n            [\r\n                MaskFormats.DateShortFormat(),\r\n                //MaskFormats.NumericoSinSignos('#numero-orden'),\r\n                MaskFormats.Alfanumerico('#placa-cabezote'),\r\n                MaskFormats.Alfanumerico('#placa-trailer'),\r\n                MaskFormats.DecimalFormatRang('#volumen-ordenado', 0, 1000000),\r\n                MaskFormats.DecimalFormatRang('#volumen-cargado', 0, 1000000)\r\n            ]);\r\n\r\n        this._MaskFormatsComponentes.RegisterMasks([\r\n            MaskFormats.DecimalFormatRang('#volumen_bruto_0', 0, 1000000), MaskFormats.DecimalFormatRang('#volumen_bruto_1', 0, 1000000),\r\n            MaskFormats.DecimalFormatRang('#volumen_bruto_2', 0, 1000000), MaskFormats.DecimalFormatRang('#volumen_bruto_3', 0, 1000000),\r\n            MaskFormats.DecimalFormatRang('#volumen_neto_0', 0, 1000000), MaskFormats.DecimalFormatRang('#volumen_neto_1', 0, 1000000),\r\n            MaskFormats.DecimalFormatRang('#volumen_neto_2', 0, 1000000), MaskFormats.DecimalFormatRang('#volumen_neto_3', 0, 1000000),\r\n            MaskFormats.DecimalFormatRang('#temperatura_0', 32, 150), MaskFormats.DecimalFormatRang('#temperatura_1', 32, 150),\r\n            MaskFormats.DecimalFormatRang('#temperatura_2', 32, 150), MaskFormats.DecimalFormatRang('#temperatura_3', 32, 150),\r\n            MaskFormats.DecimalFormatRang('#densidad_0', 10, 100), MaskFormats.DecimalFormatRang('#densidad_0', 10, 100),\r\n            MaskFormats.DecimalFormatRang('#densidad_2', 10, 100), MaskFormats.DecimalFormatRang('#densidad_3', 10, 100),\r\n        ])\r\n    }\r\n\r\n    private UpdateMaskValue() {\r\n        this.MaskManager.UpdateValue([\".formatos-fecha-corta\"])\r\n    }\r\n\r\n    private async ConfigClosedDates() {\r\n        let initialDate = dayjs(this._despachosFechaInicial);\r\n        let currentDate = dayjs();\r\n        let picker = document.querySelector<HTMLElement>(\".datepicker-table\");\r\n        let selectYear = (document.querySelector(\".select-year select.orig-select-year\") as HTMLSelectElement);\r\n        let selectMonth = (document.querySelector(\".select-month select.orig-select-month\") as HTMLSelectElement);\r\n        let year = parseInt(selectYear.options[selectYear.selectedIndex].text);\r\n        let month = selectMonth.selectedIndex;\r\n\r\n        picker.classList.add(\"disable\");\r\n        let result = await this.GetCloseDates(new Date(year, month, 1));\r\n        picker.classList.remove(\"disable\");\r\n        let pickerDays = document.querySelectorAll<HTMLElement>(\".datepicker-table td .datepicker-day-button\");\r\n\r\n        pickerDays.forEach(\r\n            function (currentValue, currentIndex, listObj) {\r\n                //currentValue.parentElement.classList.remove(\"is-closed-date\", \"is-open-date\");\r\n                let day = parseInt(currentValue.dataset.day);\r\n                if (result.some(d => dayjs(d).date() == day))\r\n                    currentValue.parentElement.classList.add(\"is-closed-date\");\r\n                else {\r\n                    let calendarDay = new Date(year, month, day);\r\n                    if (!(currentDate.isSame(calendarDay, \"day\"))) {\r\n                        if (currentDate.isAfter(calendarDay) && initialDate.isBefore(calendarDay))\r\n                            currentValue.parentElement.classList.add(\"is-open-date\");\r\n\r\n                    }\r\n\r\n                }\r\n            });\r\n    }\r\n\r\n    private async GetCloseDates(fechaActual: Date) {\r\n        return new Promise<Date[]>((resolve, reject) => {\r\n            const httpService = new HttpFetchService();\r\n            httpService.Post<Date[]>(\"/Despachos/ObtenerFechasCierreMes/\", fechaActual, true)\r\n                .then((data) => {\r\n                    if (data) {\r\n                        resolve(data);\r\n                    }\r\n                }).catch((error) => { reject(\"Error: \" + error) });\r\n        });\r\n\r\n    }\r\n\r\n    private GetInitialCloseDate() {\r\n        const httpService = new HttpFetchService();\r\n        httpService.Post<Date>(\"/Despachos/ObtenerFechaCierreInicial/\", \"\", true)\r\n            .then((data) => {\r\n                if (data) {\r\n                    this._despachosFechaInicial = data;\r\n                }\r\n            }).catch((error) => { });\r\n    }\r\n}","//import 'datatables.net';\r\nimport 'datatables.net-responsive';\r\n\r\nexport class ConfigureDataTable {\r\n\r\n    public Configure(id: string, columns?: DataTables.ColumnDefsSettings[]): DataTables.Api {\r\n        \r\n        let table = $(id).DataTable({\r\n            columnDefs: columns,\r\n            destroy: true,\r\n            responsive: true,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n\r\n        this.FilterGlobal(table);\r\n\r\n        return table;\r\n    }\r\n\r\n    public ConfigureScrollX(id: string, columns?: DataTables.ColumnSettings[], columnsDef?: DataTables.ColumnDefsSettings[], inputId?): DataTables.Api {\r\n\r\n        let table = $(id).DataTable({\r\n            columnDefs: columnsDef,\r\n            columns: columns,\r\n            destroy: true,\r\n            scrollX: true,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n\r\n        this.FilterGlobal(table, inputId);\r\n\r\n        return table;\r\n    }\r\n\r\n    public ConfigureScrollXSinInfo(id: string, columns?: DataTables.ColumnDefsSettings[]): DataTables.Api {\r\n\r\n        let table = $(id).DataTable({\r\n            columnDefs: columns,\r\n            destroy: true,\r\n            scrollX: true,\r\n            paging: false,\r\n            ordering: false,\r\n            searching: false,\r\n            info: false,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n        return table;\r\n    }\r\n\r\n    private FilterGlobal(table: DataTables.Api, input?) {\r\n\r\n        if (input) {\r\n            $(`input#${input}`).on(\"keyup click\", function () {\r\n                table.search($(`#${input}`).val().toString(), $(\"#global_regex\").prop(\"checked\"), $(\"#global_smart\").prop(\"checked\")).draw();\r\n            });\r\n        } else {\r\n            $(\"input#global_filter\").on(\"keyup click\", function () {\r\n                table.search($(\"#global_filter\").val().toString(), $(\"#global_regex\").prop(\"checked\"), $(\"#global_smart\").prop(\"checked\")).draw();\r\n            });\r\n        }\r\n\r\n        $(\"input.column_filter\").on(\"keyup click\", function () {\r\n            let column = $(this).parents(\"tr\").attr(\"data-column\");\r\n            table.column(column)\r\n                .search(\r\n                    $(\"#col\" + column + \"_filter\").val().toString(),\r\n                    $(\"#col\" + column + \"_regex\").prop(\"checked\"),\r\n                    $(\"#col\" + column + \"_smart\").prop(\"checked\")\r\n                )\r\n                .draw()\r\n        });\r\n    }\r\n\r\n}","export class ConfirmModalMessage {\r\n\r\n    private parent: HTMLElement;\r\n    private modal: HTMLElement;\r\n    private acceptButton: HTMLButtonElement;\r\n    private dismissButton: HTMLButtonElement;\r\n    private modalInstance: M.Modal;\r\n    private idMesssage: string;\r\n\r\n    constructor(public title: string,\r\n        public message: string,\r\n        public acceptText: string,\r\n        public dismissText: string) {\r\n\r\n        this.idMesssage = \"confirm-message\";\r\n        this.parent = document.body;\r\n        this.CreateModal();\r\n        this.AppendModel();\r\n    }\r\n\r\n    private CreateModal() {\r\n        this.modal = document.createElement(\"div\");\r\n        this.modal.id = this.idMesssage;\r\n        this.modal.classList.add(\"modal\", \"modal-fixed-footer\", \"modal-confirm-message-small\");\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"modal-content\");\r\n        this.modal.appendChild(content);\r\n\r\n        const header = document.createElement(\"h5\");\r\n        header.textContent = this.title;\r\n        content.appendChild(header);\r\n\r\n        const message = document.createElement(\"p\");\r\n        message.textContent = this.message;\r\n        content.appendChild(message);\r\n\r\n        const buttonGroup = document.createElement(\"div\");\r\n        buttonGroup.classList.add(\"modal-footer\");\r\n        this.modal.appendChild(buttonGroup);\r\n\r\n        this.dismissButton = document.createElement(\"button\");\r\n        this.dismissButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.dismissButton.type = \"button\";\r\n        this.dismissButton.textContent = this.dismissText;\r\n        buttonGroup.appendChild(this.dismissButton);\r\n\r\n        this.acceptButton = document.createElement(\"button\");\r\n        this.acceptButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.acceptButton.type = \"button\";\r\n        this.acceptButton.textContent = this.acceptText;\r\n        buttonGroup.appendChild(this.acceptButton);\r\n    }\r\n\r\n    private AppendModel() {\r\n        this.parent.appendChild(this.modal);\r\n    }\r\n\r\n    private destroy() {\r\n        if (this.modalInstance) {\r\n            this.modalInstance.close();\r\n            this.modalInstance.destroy();\r\n        }\r\n\r\n        var elem = document.querySelector(\"#\" + this.idMesssage);\r\n        elem.parentNode.removeChild(elem);\r\n    }\r\n\r\n    public async Confirm() {\r\n        return new Promise<boolean>((resolve, reject) => {\r\n\r\n            const somethingWentWrongUponCreation =\r\n                !this.modal || !this.acceptButton || !this.dismissButton;\r\n            if (somethingWentWrongUponCreation) {\r\n                this.destroy();\r\n                reject(\"Fallo algo en la creación del mensaje\");\r\n            }\r\n\r\n            M.Modal.init(this.modal, {\r\n                dismissible: false,\r\n                opacity: .5,\r\n                inDuration: 300,\r\n                outDuration: 200,\r\n                startingTop: '6%',\r\n                endingTop: '8%'\r\n            });\r\n            this.modalInstance = M.Modal.getInstance(this.modal);\r\n            this.modalInstance.open();\r\n\r\n            this.acceptButton.addEventListener(\"click\", () => {\r\n                resolve(true);\r\n                this.destroy();\r\n            });\r\n\r\n            this.dismissButton.addEventListener(\"click\", () => {\r\n                resolve(false);\r\n                this.destroy();\r\n            });\r\n        });\r\n    }\r\n}","export class DatepickerComponent {\r\n\r\n    public GetInstances2(selector: string, options?: Partial<M.DatepickerOptions>) {\r\n        let elements = document.querySelectorAll(selector);\r\n        let instances = M.Datepicker.init(elements, this.ConfigBasics(options));\r\n        return instances[0];\r\n    }\r\n\r\n    private ConfigBasics(options?: Partial<M.DatepickerOptions>) {\r\n        if (!options) {\r\n            options = {\r\n                format: 'dd/mmm/yyyy',\r\n                container: document.body,\r\n                autoClose: true,\r\n                i18n: {\r\n                    cancel: 'Cancelar',\r\n                    clear: 'Limpiar',\r\n                    done: 'Aceptar',\r\n                    months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                    monthsShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\r\n                    weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],\r\n                    weekdaysAbbrev: ['D', 'L', 'M', 'M', 'J', 'V', 'S']\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            options.format = 'dd/mmm/yyyy';\r\n            options.container = document.body;\r\n            options.autoClose = true;\r\n            options.i18n = {\r\n                cancel: 'Cancelar',\r\n                clear: 'Limpiar',\r\n                done: 'Aceptar',\r\n                months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                monthsShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\r\n                weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],\r\n                weekdaysAbbrev: ['D', 'L', 'M', 'M', 'J', 'V', 'S']\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    public GetInstances(selector: string, onSelect?: (newDate: Date) => void, onClose?: () => void, onDraw?: () => void) {\r\n        let elements = document.querySelectorAll(selector);\r\n        let instances = M.Datepicker.init(elements, {\r\n            format: 'dd/mmm/yyyy',\r\n            container: document.body,\r\n            autoClose: true,\r\n            i18n: {\r\n                cancel: 'Cancelar',\r\n                clear: 'Limpiar',\r\n                done: 'Aceptar',\r\n                months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                monthsShort: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\r\n                weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab']\r\n            },            \r\n            onSelect: function (selectedDate) {\r\n                if (onSelect !== undefined) { onSelect(selectedDate) }\r\n            },\r\n            onClose: function () {\r\n                if (onClose !== undefined) { onClose() }\r\n            },\r\n        });\r\n\r\n        return instances;\r\n    };\r\n    public GetInstances3(selector: string, onSelect?: (newDate: Date) => void, onClose?: () => void) {\r\n        let elements = document.querySelectorAll(selector);\r\n        let instances = M.Datepicker.init(elements, {\r\n            format: 'yyyy/mm/dd',\r\n            container: document.body,\r\n            autoClose: true,\r\n            i18n: {\r\n                cancel: 'Cancelar',\r\n                clear: 'Limpiar',\r\n                done: 'Aceptar',\r\n                months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\r\n                weekdays: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],\r\n                weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab']\r\n            },\r\n            onSelect: function (selectedDate) {\r\n                if (onSelect !== undefined) { onSelect(selectedDate) }\r\n            },\r\n            onClose: function () {\r\n                if (onClose !== undefined) { onClose() }\r\n            },\r\n        });\r\n\r\n        return instances;\r\n    }\r\n\r\n}","// Base class for Http operations GET, PUT, POST, DELETE, PATCH!!\r\nexport class HttpFetchService {\r\n\r\n    public Post<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostForm<U>(url: string, payload: any, token: string, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'RequestVerificationToken': token },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostFormURL<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n}","import { HttpFetchService } from \"./HttpFetchService\";\r\n\r\nexport const services = [HttpFetchService];\r\n\r\nexport * from \"./HttpFetchService\";","export class ActionsPermission {\r\n    IdArea: string;\r\n    Nombre: string;\r\n    Crear: boolean;\r\n    Borrar: boolean;\r\n    Editar: boolean;\r\n    Detalles: boolean;\r\n    Exportar: boolean;\r\n    Importar: boolean;\r\n}","export class Area {\r\n    IdArea: string;\r\n    Nombre: string;\r\n}","export class Cabezote {\r\n    Placa: string;\r\n}","export class Compañia {\r\n     IdCompañia: string;\r\n     Nombre: string;\r\n     SalesOrganization: string;\r\n     DistributionChannel: string;\r\n     Division: string;\r\n     SupplierType: string;\r\n     CodigoSICOM: string\r\n}","export class Conductor {\r\n    Nombre: string;\r\n    Cedula: string;\r\n}","export class Contador {\r\n    IdContador: string;    \r\n}","\r\nexport class Despacho {\r\n    Value: string;\r\n    Text: string;\r\n    Id_Despacho: string;\r\n    Placa_Cabezote: string;\r\n    Placa_Trailer: string;\r\n    Volumen_Ordenado: string;\r\n    Volumen_Cargado: string;\r\n    Cedula_Conductor: string;\r\n}","export class FechasCorteDTO {\r\n    Fecha: Date;\r\n    Cierre: boolean;\r\n}","import { LineaEstado } from \"./LineaEstado\";\r\n\r\nexport class Linea {\r\n    Linea: string;\r\n    Idlinea: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    Producto: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n    Capacidad: number;\r\n    DensidadAforo: number;\r\n    Observaciones: string;\r\n}","export class Log {\r\n    Id: string;\r\n    FechaEvento: string;\r\n    Aplicacion: string\r\n    Area: string\r\n    Seccion: string\r\n    Accion: string\r\n    Objetivo: string\r\n    Entidad: string\r\n    Prioridad: string\r\n    Comentario: string\r\n}","export class MapeoArchivos {\r\n    Paso1Data: Paso1Mapeo;\r\n    Paso2Data: Paso2Mapeo;\r\n}\r\n\r\nexport class Paso1Mapeo {\r\n    IdMapeo: string;\r\n    Descripcion: string;\r\n    Separador: string;\r\n    OtroCaracter: string;\r\n    Archivo: File;\r\n}\r\n\r\nexport class Paso2Mapeo {\r\n    Columnas: string[];\r\n    TableStep2: DataTables.Api;\r\n}","import { ProductoTipo } from \"./ProductoTipo\";\r\n\r\nexport class Producto {\r\n    IdProducto: string;\r\n    NombreCorto: string;\r\n    NombreERP: string;\r\n    Icono: string;\r\n    Estado: string;\r\n    Tipo: string;\r\n    Clase: string;\r\n    SICOM: string;\r\n    IdTipoNavigation: ProductoTipo;\r\n}","export class Proveedor {\r\n    IdProveedor: string;\r\n    NombreProveedor: string;\r\n    SicomProveedor: string;\r\n}","export class Rol {\r\n    IdRol: string;\r\n    Nombre: string;\r\n    Descripcion: string;\r\n}","import { TanquesEstado } from \"./TanquesEstado\";\r\n\r\nexport class Tanque {\r\n    IconoProducto: string;\r\n    IconoColor: string;\r\n    Tanque: string;\r\n    Producto: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    ClaseTanque: string;\r\n    ClaseColor: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n\r\n    TipoTanque: string;\r\n    CapacidadNominal: number;\r\n    CapacidadOperativa: number;\r\n    VolumenNoBombeable: number;\r\n    AlturaMaximaAforo: number;\r\n    AforadoPor: string;\r\n    FechaAforo: Date;\r\n    PantallaFlotante: string;\r\n    Observaciones: string;\r\n    DensidadAforo: number;\r\n    GalonesPorGrado: number;\r\n    NivelCorreccionInicial: number;\r\n    NivelCorreccionFinal: number;\r\n    \r\n}","export class Terminal {\r\n    IdTerminal: string;\r\n    Nombre: string;\r\n    Direccion: string;\r\n    Telefono: string;\r\n    Superintendente: string;\r\n    Estado: string;\r\n    Area: string;\r\n    CentroCosto: string;\r\n    Poliducto: string;\r\n    TipoInforme: string;\r\n    IdCompania: string;\r\n}","export class Trailer {\r\n    Placa: string;\r\n}","export class Usuario {\r\n    Imagen: File;\r\n    IdUsuario: string;\r\n    Nombre: string;\r\n    Rol: string;\r\n    Email: string;\r\n    Telefono: string;\r\n}","import { IMessageResponse } from \"./MessageResponse\";\r\nimport { Usuario } from \"./Usuario\";\r\nimport { Cabezote } from \"./Cabezote\";\r\nimport { Trailer } from \"./Trailer\";\r\nimport { Conductor } from \"./Conductor\";\r\nimport { Area } from \"./Area\";\r\nimport { Compañia } from \"./Compañia\";\r\nimport { Log } from \"./Log\";\r\nimport { Linea } from \"./Linea\";\r\nimport { Rol } from \"./Rol\";\r\nimport { Terminal } from \"./Terminal\";\r\nimport { Tanque } from \"./Tanque\";\r\nimport { Contador } from \"./Contador\";\r\nimport { Proveedor } from \"./Proveedor\";\r\nimport { MapeoArchivos } from \"./ProcesamientoArchivos\";\r\nimport { Producto } from \"./Producto\";\r\nimport { Despacho } from \"./Despacho\";\r\nimport { FechasCorteDTO } from \"./FechasCorteDTO\";\r\n\r\nexport const models = [Usuario, Cabezote, Trailer, Conductor, Area, Log, Rol, Compañia, Terminal, Tanque, Contador, Linea, Proveedor, MapeoArchivos, Producto, Despacho, FechasCorteDTO];\r\n\r\nexport * from \"./MessageResponse\";\r\nexport * from \"./Usuario\";\r\nexport * from \"./Cabezote\";\r\nexport * from \"./Trailer\";\r\nexport * from \"./Conductor\";\r\nexport * from \"./Area\";\r\nexport * from \"./Linea\";\r\nexport * from \"./Compañia\";\r\nexport * from \"./Rol\";\r\nexport * from \"./Terminal\";\r\nexport * from \"./Tanque\";\r\nexport * from \"./Contador\";\r\nexport * from \"./Log\";\r\nexport * from \"./Proveedor\";\r\nexport * from \"./ProcesamientoArchivos\";\r\nexport * from \"./Producto\";\r\nexport * from \"./Despacho\";\r\nexport * from \"./FechasCorteDTO\";\r\n","declare global {\r\n    interface HTMLElement {\r\n        on(eventType: string, childSelector: string, eventHandler: any): void;\r\n    }\r\n}\r\n\r\nHTMLElement.prototype.on = function (eventType: string, childSelector: string, eventHandler: any): void {\r\n    this.addEventListener(eventType, eventOnElement => {\r\n        if (eventOnElement.target.matches(childSelector)) {\r\n            eventHandler(eventOnElement);\r\n        } else {\r\n            //console.log(eventOnElement.target);\r\n        }\r\n    })\r\n}\r\n\r\nexport { };","import \"jquery-validation\";\r\nimport \"jquery-validation-unobtrusive\";\r\n\r\nexport class JQValidations {\r\n\r\n    public static MaxFileSizeValidation(): void {\r\n        if ($.validator.methods['maxfilesize'])\r\n            return;\r\n\r\n        $.validator.addMethod('maxfilesize', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let size = params, file = (input.files[0] as File);\r\n\r\n            if (file) {\r\n                if ((file.size / 1024) > size) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('maxfilesize', ['size'], function (options) {\r\n            //console.log(\"registra maxfilesize en unobtrusive\");\r\n            options.rules['maxfilesize'] = options.params['size'];\r\n            options.messages['maxfilesize'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static AllowedExtensionsValidation(): void {\r\n        if ($.validator.methods['allowedextensions'])\r\n            return;\r\n\r\n        $.validator.addMethod('allowedextensions', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let exts = params, file = (input.files[0] as File);\r\n            let extsArray = exts.split(',');\r\n\r\n            if (file) {\r\n                if ((new RegExp('(' + extsArray.join('|').replace(/\\./g, '\\\\.') + ')$')).test(value)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('allowedextensions', ['exts'], function (options) {\r\n            options.rules['allowedextensions'] = options.params['exts'];\r\n            options.messages['allowedextensions'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static NotEqualValidation(): void {\r\n        if ($.validator.methods['notequal'])\r\n            return;\r\n\r\n        $.validator.addMethod('notequal', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let IdName = params, ActualValue = (input.value as string);\r\n            let Id = (<HTMLInputElement>document.getElementById(IdName)).value;\r\n\r\n            //console.log(\"ActualValue: \" + ActualValue);\r\n            //console.log(\"size: \" + IdName);\r\n            //console.log(\"input: \" + input);\r\n            //console.log(\"value: \" + value);\r\n            //console.log(\"Id: \" + Id);\r\n\r\n            if (ActualValue) {\r\n                if (ActualValue == Id) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('notequal', ['IdinputTocompare'], function (options) {\r\n            options.rules['notequal'] = options.params['IdinputTocompare'];\r\n            options.messages['notequal'] = options.message;\r\n        });\r\n    }\r\n}","import { format, parse, parseISO, toDate } from \"date-fns\";\r\nimport IMask, { InputMask, Masked, MaskedDate, MaskedDynamic, MaskedNumber } from \"imask\";\r\n\r\nexport class MaskFormats {\r\n\r\n    public static IntegerFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-int\",\r\n            Mask: {\r\n                mask: Number,\r\n                scale: 0,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DecimalFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-decimal\",\r\n            Mask: {\r\n                mask: Number,\r\n                scale: 2,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DateShortFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-fecha-corta\",\r\n            Mask: {\r\n                mask: '00{/}MMM{/}0000',\r\n                overwrite: true,\r\n                autofix: true,\r\n                blocks:\r\n                {\r\n                    MMM: {\r\n                        mask: IMask.MaskedEnum,\r\n                        enum: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic']\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DateLongFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-fecha-larga\",\r\n            Mask: {\r\n                mask: '00{/}MMM{/}0000{ }HH{:}TT{:}TT',\r\n                overwrite: true,\r\n                autofix: true,\r\n                blocks:\r\n                {\r\n                    MMM: {\r\n                        mask: IMask.MaskedEnum,\r\n                        enum: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic']\r\n                    },\r\n                    HH: {\r\n                        mask: IMask.MaskedRange,\r\n                        from: 0,\r\n                        to: 24\r\n                    },\r\n                    TT: {\r\n                        mask: IMask.MaskedRange,\r\n                        from: 0,\r\n                        to: 59\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    public static IntegerFormatRang(selector, rangoMinimo, rangoMaximo): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: Number,\r\n                min: rangoMinimo,\r\n                max: rangoMaximo,\r\n                scale: 0,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DecimalFormatRang(selector, rangoMinimo, rangoMaximo): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: Number,\r\n                min: rangoMinimo,\r\n                max: rangoMaximo,\r\n                scale: 2,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static Alfanumerico(selector): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {   \r\n                mask: /^[a-z0-9]+$/i,\r\n                lazy: false\r\n            }\r\n        };\r\n    }\r\n\r\n    public static NumericoSinSignos(selector): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: /^[0-9]+$/i,\r\n                lazy: false\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport interface IMaskFormat {\r\n    Selector: string;\r\n    Mask: any | IMask.AnyMaskedOptions | IMask.AnyMaskedOptionsMasked | IMask.MaskedOptions<typeof Masked>;\r\n}","import IMask, { InputMask, Masked, MaskedNumber } from \"imask\";\r\nimport { IMaskFormat } from \"./MaskFormats\";\r\n\r\nexport class MaskFormatsManager {\r\n\r\n    private Masks: Array<IMaskFormat>;\r\n    private FormatElements: Array<IMaskElement>;\r\n\r\n    constructor() {\r\n        this.FormatElements = new Array<IMaskElement>();\r\n    }\r\n\r\n    public RegisterMasks(masks: Array<IMaskFormat>) {\r\n        this.CleanAll();\r\n        this.Masks = masks;\r\n    }\r\n\r\n    public ApplyMasks() {\r\n\r\n        this.CleanFormats();\r\n\r\n        this.Masks?.forEach((element, index, object) => {\r\n            this.ApplyFormat(element);\r\n        });\r\n    }\r\n\r\n    public AddApplyMask(mask: IMaskFormat) {\r\n        this.Masks.push(mask);\r\n        this.ApplyFormat(mask);\r\n    }\r\n\r\n    public UnmaskFormats() {\r\n        this.FormatElements?.forEach((element, index, object) => {\r\n            element.MaskInput.el['input'].value = element.MaskInput.unmaskedValue;\r\n            element.MaskInput.masked.reset();\r\n        });\r\n    }\r\n\r\n    public SetUnmaskedFormValue(formData: FormData) {\r\n\r\n        this.FormatElements?.forEach((element, index, object) => {\r\n            formData.set(element.MaskInput.el['input'].name, element.MaskInput.unmaskedValue);\r\n            element.MaskInput.masked.reset();\r\n        });\r\n    }\r\n\r\n    public UpdateValue(selectors: string[]) {\r\n\r\n        if (selectors?.length > 0) {\r\n            selectors.forEach((val) => {\r\n                let formatEl = this.FormatElements.filter(e => e.Selector === val);\r\n                if (formatEl?.length > 0) {\r\n                    formatEl.forEach((el) => {\r\n                        el.MaskInput.updateValue();\r\n                        el.MaskInput.unmaskedValue = el.MaskInput.el.value;\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    private ApplyFormat(mask: IMaskFormat) {\r\n        var fields = document.querySelectorAll<HTMLElement>(mask.Selector);\r\n        fields.forEach((element) => {\r\n            this.FormatElements.push({\r\n                Selector: mask.Selector, MaskInput: IMask(element, mask.Mask)\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    private CleanAll() {\r\n\r\n        if (this.Masks?.length > 0)\r\n            this.Masks.forEach((element, index, object) => {\r\n                object.splice(index, 1);\r\n            });\r\n\r\n        this.CleanFormats();\r\n\r\n    }\r\n\r\n    private CleanFormats() {\r\n        if (this.FormatElements?.length > 0)\r\n            this.FormatElements.forEach((element, index, object) => {\r\n                element.MaskInput.masked.reset();\r\n                element.MaskInput.destroy;\r\n                object.splice(index, 1);\r\n            });\r\n    }\r\n\r\n    public Destroy() {\r\n        this.CleanAll();\r\n        this.Masks = null;\r\n        this.FormatElements = null;\r\n    }\r\n\r\n}\r\n\r\nexport interface IMaskElement {\r\n    Selector: string;\r\n    MaskInput: InputMask<IMask.AnyMaskedOptions>;\r\n}\r\n","\r\nexport class SelectorMenu {\r\n\r\n    public static SeleccionEnElMenu(): void {\r\n        //Poner active a la opción especifica del menu\r\n        let url = location.href;\r\n        let contador = url.indexOf(\"/\", 8);\r\n        let cade = url.substr(contador, url.length);\r\n        let selector = \"a[href$='\" + cade + \"']\";\r\n        $('.nav-list li a').removeClass('active');\r\n\r\n        //Desplegar segundo nivel\r\n        $(\".collapsible-body\").css({ 'display': '' });\r\n        $('.listaPadre').removeClass('active');\r\n        $(selector).addClass('active');\r\n        let identi = $(selector).attr('name');\r\n\r\n        $('#' + identi).addClass('active'); // los que estan debajo de este, con una funcion poner .css({ 'display': 'block' })\r\n        $(\"#\" + identi + \" .collapsible-body\").css({ 'display': 'block' });\r\n\r\n        //Desplegar primer nivel\r\n        let identi2 = $('#' + identi).attr('name');\r\n        $('#' + identi2).addClass('active');\r\n        $(\"#\" + identi2 + \" #\" + identi + \" .collapsible-body\").css({ 'display': 'block' });\r\n        $(\"#\" + identi2 + \" .nivel2\").css({ 'display': 'block' });\r\n        $(\"#\" + identi2 + \" .collapsible-body\").first().css({ 'display': 'block' });\r\n    }\r\n}","import { JQValidations } from \"./JQValidations\";\r\nimport { MaskFormats } from \"./MaskFormats\";\r\nimport { MaskFormatsManager } from \"./MaskFormatsManager\";\r\nexport const components = [JQValidations, MaskFormats, MaskFormatsManager];\r\n\r\nexport * from \"./JQValidations\";\r\nexport * from \"./MaskFormats\";\r\nexport * from \"./MaskFormatsManager\";","export * from './Http';\r\nexport * from './Models';\r\nexport * from './Utils/HTMLExtensions';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {};\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"despachos\": 0\n};\n\nvar deferredModules = [\n\t[\"./Scripts/Pages/Despachos/Despachos.ts\",\"packages\"]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkairosv2\"] = self[\"webpackChunkkairosv2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"sourceRoot":""}