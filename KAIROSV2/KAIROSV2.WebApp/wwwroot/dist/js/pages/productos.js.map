{"version":3,"sources":["webpack/universalModuleDefinition","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Core\\Page.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\Productos\\GestionProductos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Pages\\Productos\\Productos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\ConfigureDataTable.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Components\\ConfirmModalMessage.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\HttpFetchService.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Http\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\ActionsPermission.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Area.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Cabezote.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Compañia.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Conductor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Contador.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Despacho.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\FechasCorteDTO.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Linea.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Log.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\ProcesamientoArchivos.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Producto.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Proveedor.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Rol.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Tanque.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Terminal.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Trailer.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\Usuario.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Models\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\HTMLExtensions.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\JQValidations.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\MaskFormats.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\MaskFormatsManager.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\SelectorMenu.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\Utils\\index.ts","C:\\Users\\desarrollador10\\source\\repos\\KAIROSV2\\KAIROSV2\\KAIROSV2.WebApp\\Scripts\\Shared\\index.ts","webpack/bootstrap","webpack/runtime/define property getters","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"names":["root","factory","exports","module","define","amd","self","customParseFormat","dayjs","locale","extend","this","AdjustValidation","RegisterMasks","masks","MaskManager","MaskFormatsManager","GetPermissions","url","HttpFetchService","Post","then","data","Permisions","catch","error","ActionsPermission","Destroy","$","validator","methods","range","value","element","param","globalizedValue","replace","optional","Page","modalBase","contador","_index","_arrayClases","_baseUrl","_httpService","_modalBase","InicializarModal","NuevoProducto","innerHTML","InicilizarFormProducto","_modalInstance","open","ObtenerComponentesDisponibles","claseId","M","toast","html","classes","LimpiarOpciones","selectClase","document","getElementsByClassName","i","length","j","remove","CambiarOpciones","option","createElement","IdProducto","text","NombreCorto","append","_selects","FormSelect","init","querySelectorAll","AgregarOpciones","pos","GuardarProducto","token","_formData","get","toString","PostForm","Result","LimpiarFormulario","onProductoCreado","ExtraerProducto","CerrarModal","Message","err","console","log","DatosProducto","idProducto","lectura","payload","idEntidad","_productoIdActualizar","ActualizarProducto","set","onProductoActualizado","Modal","dismissible","opacity","inDuration","outDuration","startingTop","endingTop","SwitchEstado","switchA","getElementById","checked","style","display","ClaseSeleccionada","classList","CambioClase","edit","recetas","shouldDelete","EliminarRecetas","add","ConfirmModalMessage","Confirm","modoCreacion","select2","dropdownAutoWidth","width","_tabs","Tabs","_collaps","Collapsible","updateTextFields","calcularPorcentajeMezcla","addEventListener","event","EsAditivado","target","querySelector","SeleccionarProducto","AgegarReceta","_formUser","FormData","removeData","unobtrusive","parse","ev","InicializarButtonsReceta","Contar","onsubmit","e","preventDefault","valid","on","matches","EliminarReceta","AgegarComponente","index","Contar2","clase","forEach","receta","total","indice","ObtenerIndice","id","tabla","find","each","$input","$tr","closest","$tdPorc","$tdClase","parseFloat","val","textContent","isNaN","totalValor","ObtenerTipo","producto","cls","IdTipoNavigation","Descripcion","tipo","$productoSelect","$ppm","readOnly","nombre","slc","slice","estado","container","card","setAttribute","appendChild","recetaId","dataset","recetaid","padre","removeChild","r","recetaIndex","index2","insertRow","Producto","Estado","Tipo","Clase","SICOM","reset","not","Event","every","selects","destroy","collaps","close","parentNode","ProductosGestionPage","BaseUrl","Init","Table","InicializarButtons","InicializarControls","SelectorMenu","SeleccionEnElMenu","ConfigureDataTable","Configure","gestionProductos","AgregarFilaDatatable","ActualizarFilaDatatable","JQValidations","MaxFileSizeValidation","AllowedExtensionsValidation","table","productoAdd","EditarProducto","BorrarProducto","DetallesProducto","CrearProducto","productoId","productoid","BorrarFilaDatatable","prev","hasClass","row","draw","newRow","DisableAction","Editar","Borrar","Detalles","node","cells","cond","habilitado","ProductosPage","productosPage","URL","indexOf","columns","DataTable","columnDefs","responsive","language","FilterGlobal","ConfigureScrollX","columnsDef","inputId","scrollX","ConfigureScrollXSinInfo","paging","ordering","searching","info","input","search","prop","column","parents","attr","title","message","acceptText","dismissText","idMesssage","parent","body","CreateModal","AppendModel","modal","content","header","buttonGroup","dismissButton","type","acceptButton","modalInstance","elem","Promise","resolve","reject","getInstance","jsonResponse","fetch","method","headers","JSON","stringify","response","json","PostFormURL","services","Area","Cabezote","Conductor","Contador","Despacho","FechasCorteDTO","Linea","Log","MapeoArchivos","Paso1Mapeo","Paso2Mapeo","Proveedor","Rol","Tanque","Terminal","Trailer","Usuario","models","Compañia","HTMLElement","prototype","eventType","childSelector","eventHandler","eventOnElement","addMethod","params","size","file","files","adapters","options","rules","messages","exts","extsArray","split","RegExp","join","test","NotEqualValidation","IdName","ActualValue","Id","IntegerFormat","Selector","Mask","mask","Number","scale","signed","thousandsSeparator","padFractionalZeros","normalizeZeros","radix","mapToRadix","DecimalFormat","DateShortFormat","overwrite","autofix","blocks","MMM","MaskedEnum","enum","DateLongFormat","HH","MaskedRange","from","to","TT","IntegerFormatRang","selector","rangoMinimo","rangoMaximo","min","max","DecimalFormatRang","Alfanumerico","lazy","NumericoSinSignos","MaskFormats","FormatElements","Array","CleanAll","Masks","ApplyMasks","CleanFormats","object","ApplyFormat","AddApplyMask","push","UnmaskFormats","MaskInput","el","unmaskedValue","masked","SetUnmaskedFormValue","formData","name","UpdateValue","selectors","formatEl","filter","updateValue","splice","location","href","substr","removeClass","css","addClass","identi","identi2","first","components","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call","m","x","d","definition","key","o","Object","defineProperty","enumerable","obj","hasOwnProperty","Symbol","toStringTag","installedChunks","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","apply","chunkLoadingGlobal","checkDeferredModulesImpl","result","deferredModule","fulfilled","depId","s","bind","startup"],"mappings":"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","file":"js/pages/productos.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kairosv2\"] = factory();\n\telse\n\t\troot[\"kairosv2\"] = factory();\n})(self, function() {\nreturn ","import dayjs = require(\"dayjs\");\r\nimport { IMaskFormat, MaskFormatsManager } from \"../Shared/Utils\";\r\nimport 'dayjs/locale/es-do';\r\nimport { ActionsPermission } from \"../Shared/Models/ActionsPermission\";\r\nimport { HttpFetchService } from \"../Shared\";\r\n\r\nvar customParseFormat = require('dayjs/plugin/customParseFormat');\r\n\r\nexport abstract class Page {\r\n    public MaskManager: MaskFormatsManager;\r\n    public BaseUrl;\r\n    public Permisions: ActionsPermission;\r\n\r\n    constructor() {\r\n        dayjs.locale('es-do');\r\n        dayjs.extend(customParseFormat);\r\n        this.AdjustValidation();\r\n    }\r\n\r\n    protected RegisterMasks(masks: Array<IMaskFormat>): void {\r\n        if (!this.MaskManager) {\r\n            this.MaskManager = new MaskFormatsManager();\r\n        }\r\n\r\n        this.MaskManager.RegisterMasks(masks);\r\n    }\r\n\r\n    protected GetPermissions(url: string): void {\r\n        const httpService = new HttpFetchService();\r\n        httpService.Post<ActionsPermission>(url, \"\", true)\r\n            .then((data) => {\r\n                if (data) {\r\n                    this.Permisions = data;\r\n                }\r\n            }).catch((error) => {\r\n                this.Permisions = new ActionsPermission();\r\n            });\r\n    }\r\n\r\n    public Destroy(): void {\r\n        this.MaskManager?.Destroy();\r\n    }\r\n\r\n    private AdjustValidation(): void {\r\n        $.validator.methods.range = function (value, element, param) {\r\n            var globalizedValue = value.replace(\",\", \"\");\r\n            let result = this.optional(element) || (globalizedValue >= param[0] && globalizedValue <= param[1]);\r\n            return result;\r\n        }\r\n    }\r\n}","import { HttpFetchService, IMessageResponse } from '../../Shared';\r\nimport { Producto } from '../../Shared/Models/Producto';\r\n\r\nimport { ConfirmModalMessage } from '../../Shared/Components/ConfirmModalMessage';\r\n\r\nimport 'jquery-qubit';\r\nimport 'select2';\r\nimport 'select2/dist/css/select2.css';\r\n\r\nexport class ProductosGestionPage {\r\n\r\n    //PROPIEDADES\r\n    public onProductoCreado?: (producto: Producto) => void;\r\n    public onProductoActualizado?: (producto: Producto) => void;\r\n\r\n    public contador = 2;\r\n    public _index: number = 0;\r\n\r\n    //CAMPOS\r\n    private _arrayClases: Producto[] = [];\r\n    private _baseUrl = \"/Productos\";\r\n    private _httpService: HttpFetchService;\r\n    private _modalInstance: M.Modal;\r\n    private _modalBase: HTMLElement;\r\n    private _formUser: HTMLFormElement;\r\n    private _selects: M.FormSelect[];\r\n    private _collaps: M.Collapsible[];\r\n    private _tabs: M.Tabs[];\r\n    private _formData: FormData;\r\n    private _productoIdActualizar: string;\r\n    private Table: DataTables.Api;\r\n\r\n    //CONSTRUCTOR\r\n    constructor(modalBase: HTMLElement) {\r\n        this._httpService = new HttpFetchService();\r\n        this._modalBase = modalBase;\r\n        this.InicializarModal();\r\n    }\r\n\r\n    //METODOS\r\n\r\n    //Creacion de nuevo producto\r\n    public NuevoProducto() {\r\n        this._httpService.Post<string>(this._baseUrl + \"/NuevoProducto\", null, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicilizarFormProducto(true);\r\n            });\r\n\r\n        this._modalInstance.open();\r\n\r\n        \r\n    }\r\n\r\n    private async ObtenerComponentesDisponibles(claseId: string) {\r\n        //this.LimpiarOpciones();\r\n        this._httpService.Post<Producto[]>(this._baseUrl + '/ComponentesDisponibles', claseId, true)\r\n            .then((data) => {\r\n                if (data) {\r\n                    this._arrayClases = data;\r\n                }\r\n            }).catch((error) => {\r\n                M.toast({ html: error, classes: \"error\" });\r\n            });\r\n        //this.CambiarOpciones();\r\n    }\r\n\r\n    private LimpiarOpciones() {\r\n        let selectClase = document.getElementsByClassName('clases-options');\r\n        for (let i = 0; i < selectClase.length; i++) {\r\n            for (let j = this._arrayClases.length; j > 0 ; j--) {\r\n                selectClase[i][j].remove();\r\n            }\r\n        }\r\n    }\r\n    // Sin uso\r\n    private CambiarOpciones() {\r\n        let selectClase = document.getElementsByClassName('clases-options');\r\n        for (let i = 0; i < selectClase.length; i++) {\r\n            for (let j = 0; j < this._arrayClases.length; j++) {\r\n                let option = document.createElement('option');\r\n                option.value = this._arrayClases[j].IdProducto;\r\n                option.text = this._arrayClases[j].NombreCorto;\r\n                selectClase[i].append(option);\r\n            }\r\n        }\r\n        this._selects = M.FormSelect.init(document.querySelectorAll(\"select\"));\r\n    }\r\n\r\n    private AgregarOpciones() {\r\n        let selectClase = document.getElementsByClassName('clases-options');\r\n        let pos = selectClase.length - 1;\r\n        for (let j = 0; j < this._arrayClases.length; j++) {\r\n            let option = document.createElement('option');\r\n            option.value = this._arrayClases[j].IdProducto;\r\n            option.text = this._arrayClases[j].NombreCorto;\r\n            selectClase[pos].append(option);\r\n        }\r\n\r\n        this._selects = M.FormSelect.init(document.querySelectorAll(\"select\"));\r\n        \r\n    }\r\n\r\n    //Guardar Producto\r\n    private GuardarProducto(): void {\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/CrearProducto\", this._formData, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    this.LimpiarFormulario();\r\n                    if (this.onProductoCreado)\r\n                        this.onProductoCreado(this.ExtraerProducto());\r\n                    this.LimpiarFormulario();\r\n                    this.CerrarModal();\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Edicion y detalles de Producto\r\n    public DatosProducto(idProducto: string, lectura: boolean) {\r\n        var payload = { idEntidad: idProducto, lectura: lectura };\r\n        this._productoIdActualizar = idProducto;\r\n        this._httpService.Post<string>(this._baseUrl + \"/DatosProducto\", payload, false)\r\n            .then((data) => {\r\n                this._modalBase.innerHTML = data;\r\n                this.InicilizarFormProducto(false);\r\n            });\r\n\r\n        this._modalInstance.open();\r\n    }\r\n\r\n    //Actualizar Producto\r\n    private ActualizarProducto(): void {\r\n        let token = this._formData.get(\"RequestVerificationToken\")?.toString();\r\n        this._formData.set(\"IdProducto\", this._productoIdActualizar);\r\n        this._httpService.PostForm<IMessageResponse>(this._baseUrl + \"/ActualizarProducto\", this._formData, token)\r\n            .then((data) => {\r\n                if (data.Result) {\r\n                    if (this.onProductoActualizado)\r\n                        this.onProductoActualizado(this.ExtraerProducto());\r\n                    //this.LimpiarFormulario();\r\n                    this.CerrarModal();\r\n                }\r\n                M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Inicializar control modal\r\n    private InicializarModal() {\r\n\r\n        this._modalInstance = M.Modal.init(this._modalBase, {\r\n            dismissible: false,\r\n            opacity: .5,\r\n            inDuration: 300,\r\n            outDuration: 200,\r\n            startingTop: '6%',\r\n            endingTop: '8%'\r\n        });\r\n\r\n    }\r\n\r\n    private SwitchEstado() {\r\n        let switchA = (document.getElementById('aditivo') as HTMLInputElement).checked\r\n        let aditivacion = document.getElementById('switchiden');\r\n        if (switchA) {\r\n            aditivacion.style.display = 'block'\r\n        } else {\r\n            aditivacion.style.display = 'none'\r\n        }\r\n    }\r\n\r\n    private ClaseSeleccionada() {\r\n        let clase = (document.getElementById('selectClase') as HTMLInputElement).value;\r\n        if (clase != \"\") {\r\n            document.getElementById('recetas-list').classList.remove('disabled');\r\n        }\r\n    }\r\n\r\n    private async CambioClase(edit: boolean) {\r\n        let recetas = document.querySelectorAll('.receta');\r\n        let shouldDelete = false;\r\n        let claseId = (document.getElementById('selectClase') as HTMLInputElement).value;\r\n        if (claseId == '0') {\r\n            this.EliminarRecetas();\r\n            document.getElementById('recetas-list').classList.add('disabled');\r\n            return;\r\n        }\r\n        if (edit) {\r\n            await this.ObtenerComponentesDisponibles(claseId);\r\n            return;\r\n        }\r\n        if (recetas.length > 0) {\r\n            const confirm = new ConfirmModalMessage(\"Cambio de clase\", \"Esta accion borrara todas las recetas\", \"Aceptar\", \"Cancelar\");\r\n            shouldDelete = await confirm.Confirm();\r\n        }        \r\n        if (shouldDelete) {\r\n            this.EliminarRecetas();            \r\n        }\r\n\r\n        await this.ObtenerComponentesDisponibles(claseId);\r\n        document.getElementById('recetas-list').classList.remove('disabled');\r\n    }\r\n\r\n    //Inicializar controles de formulario\r\n    private InicilizarFormProducto(modoCreacion: boolean): void {\r\n        $(\".select2\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        this._tabs = M.Tabs.init(document.querySelectorAll('.tabs'));\r\n        this._selects = M.FormSelect.init(document.querySelectorAll(\"select\"));\r\n        this._collaps = M.Collapsible.init(document.querySelectorAll(\".collapsible\"));\r\n        M.updateTextFields();\r\n\r\n        this.calcularPorcentajeMezcla();\r\n        this.SwitchEstado();\r\n        let switchA = document.getElementById('aditivo').addEventListener('change', event => this.EsAditivado(event.target['checked']));\r\n\r\n        // Activa el Tab\r\n        this.ClaseSeleccionada();\r\n        this.CambioClase(true);\r\n        let selectClase = document.querySelector('#selectClase').addEventListener('change', event => {\r\n            this.CambioClase(false)\r\n        });\r\n\r\n        let recetas = document.querySelector('#recetas-container').addEventListener('change', event => {\r\n            this.SeleccionarProducto();\r\n            this.calcularPorcentajeMezcla();\r\n        });\r\n\r\n        let recetAdd = document.getElementById('recetAdd').addEventListener('click', event => this.AgegarReceta());\r\n        this._formUser = document.querySelector(\"#user-form\");\r\n        this._formData = new FormData(this._formUser);\r\n        $(this._formUser).removeData(\"validator\").removeData(\"unobtrusiveValidation\");\r\n        $.validator.unobtrusive.parse(this._formUser);\r\n        document.getElementById(\"user-modal-cancel\").addEventListener('click', (ev) => this.CerrarModal());\r\n        this.InicializarButtonsReceta();\r\n        this.Contar();\r\n\r\n        this._formUser.onsubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            if ($(this._formUser).valid()) {\r\n                this._formData = new FormData(this._formUser);\r\n                //this._formData.forEach((value, key) => { console.log(key + \": \" + value) });\r\n\r\n                if (modoCreacion)\r\n                    this.GuardarProducto();\r\n                else\r\n                    this.ActualizarProducto();\r\n            }\r\n\r\n            return false; // prevent reload\r\n        };\r\n    }\r\n\r\n    private InicializarButtonsReceta() {\r\n        var recetas = document.getElementById(\"recetas-container\");\r\n\r\n        recetas.on('click', '.receta-action', event => {\r\n            if(event.target.matches(\".receta-delete\"))\r\n                this.EliminarReceta(event.target as HTMLElement);\r\n\r\n            else if (event.target.matches(\".receta-add\"))\r\n                this.AgegarComponente(event.target as HTMLElement);\r\n        });\r\n\r\n        recetas.on('click', '.componente-delete', event => {\r\n            this.calcularPorcentajeMezcla();\r\n        });\r\n\r\n    }\r\n\r\n    public Contar() {\r\n        let index = document.getElementsByClassName('receta');\r\n        this._index = index.length;\r\n    }\r\n\r\n    private Contar2(clase): Number {\r\n        let index = document.getElementsByClassName(clase);\r\n        return index.length;\r\n    }\r\n\r\n    private calcularPorcentajeMezcla() {\r\n        let recetas = document.querySelectorAll('.receta');\r\n        recetas.forEach(receta => {\r\n            let total = 0;\r\n            let indice = this.ObtenerIndice(receta.id)\r\n            let tabla = '#data-table-' + receta.id + ' tbody';\r\n            $(tabla).find('.ppm-'+ indice+'').each(function () {\r\n                let $input = $(this),\r\n                    $tr = $input.closest('tr'),\r\n                    $tdPorc = $tr.find('td.porcent'),\r\n                    $tdClase = $tr.find('td.clase-prod'),\r\n                    value = parseFloat($input.val().toString());\r\n\r\n                if ($tdClase[0].textContent == 'Aditivo') value = 0;\r\n                if (isNaN(value)) value = 0;\r\n\r\n                // Calculamos el % (\"Regla de 3 simple\")\r\n                $tdPorc.text((value * 100 / 1000000) + '%');\r\n\r\n                total += value;\r\n            })\r\n            let totalValor = document.getElementsByClassName('total-'+ indice+'');\r\n            totalValor[0].innerHTML = 'Total ' + total + '';\r\n            totalValor[1].innerHTML = 'Tolal ' + (total * 100 / 1000000) + '%';\r\n        });\r\n    }\r\n\r\n    private ObtenerTipo(producto): string {\r\n        let cls;\r\n        this._arrayClases.forEach(clase => {\r\n            if (clase.IdProducto == producto) {\r\n                cls = clase.IdTipoNavigation.Descripcion;\r\n            }\r\n        });\r\n        return cls;\r\n    }\r\n\r\n    // Acutalmente probando\r\n    private SeleccionarProducto() {\r\n        let recetas = document.querySelectorAll('.receta');\r\n        recetas.forEach(receta => {\r\n            let tabla = '#data-table-' + receta.id + ' tbody';\r\n            let self = this;\r\n            $(tabla).find('.clases-options').each(function () {\r\n                let $productoSelect = $(this),\r\n                    $tr = $productoSelect.closest('tr'),\r\n                    $tdClase = $tr.find('td.clase-prod'),\r\n                    $ppm = $tr.find('input'),\r\n                    tipo,\r\n                    value = $productoSelect.val();       \r\n                if (value != null) {\r\n                    $ppm[2].readOnly = false;\r\n                }\r\n                tipo = self.ObtenerTipo(value);\r\n                $tdClase.text(tipo);\r\n            })\r\n        });\r\n    }\r\n\r\n    private ObtenerIndice(nombre): string {\r\n        let slc = 1;\r\n        if (nombre.length == 9) {\r\n            slc = 2\r\n        } else if (nombre.length == 10) {\r\n            slc = 3\r\n        }\r\n\r\n        return nombre.slice(-slc);\r\n    }\r\n\r\n\r\n    private EsAditivado(estado) {\r\n        let aditivacion = document.getElementById('switchiden');\r\n        if (estado) {\r\n            aditivacion.style.display = 'block'\r\n        } else {\r\n            aditivacion.style.display = 'none'\r\n        }\r\n    }\r\n\r\n    private AgegarReceta() {\r\n        this.Contar();\r\n        \r\n        let container = document.getElementById(\"recetas-container\");\r\n        var card = document.createElement(\"div\");\r\n        card.setAttribute('id', 'receta-' + this._index +'');\r\n        card.classList.add('section');\r\n        card.classList.add('receta');\r\n        card.setAttribute('style', 'width: 80%; margin: 0 auto');\r\n        card.innerHTML = '<ul class=\"collapsible\">' +\r\n            '<li>' +\r\n            '<div class=\"collapsible-header\" style=\"color: black; align-items: center;\">' +\r\n            `<input type=\"hidden\" name=\"Recetas.Index\" value=\"${this._index}\" />` +\r\n            `<input name=Recetas[${this._index}].IdReceta placeholder=\"Nombre Receta\" maxlength=\"50\" class=\"receta-name\"/>` +\r\n            '<div style=\"margin-left: auto;\">' +\r\n            '<a id=\"recetRemove\" class=\"btn-floating waves-effect waves-light red accent-2\" style=\"text-align: center\">' +\r\n            '<i class=\"material-icons receta-action receta-delete\" data-recetaid=\"receta-' + this._index + '\" style=\"margin: 0;\">delete</i>' +\r\n            '</a>' +\r\n            '</div>' +\r\n            '</div>' +\r\n            '<div class=\"collapsible-body\" style=\"background-color: white\">' +\r\n            '<div style=\"text-align: end; margin-top: -25px\">' +\r\n            '<a class=\"btn-floating waves-effect waves-light blue accent-2\" style=\"text-align: center; margin-top: 10px; height: 30px; width: 30px;\">' +\r\n            '<i class=\"material-icons receta-action receta-add\" data-recetaid=\"' + this._index + '\" style=\"font-size: 20px; display: flex; margin: -5px 0px 0px 5px\">add</i>' +\r\n            '</a>' +\r\n            '</div>' +\r\n            '<div class=\"section row equal-col\">' +\r\n            '<div class=\"row\" style=\"margin-right: auto; margin-left: auto; width: 90%\">' +\r\n            '<div class=\"col s12 m12 l12\">' +\r\n            '<div id=\"responsive-table\" class=\"card card card-default scrollspy\">' +\r\n            '<div class=\"card-content\">' +\r\n            '<p class=\"mb-2\">' + 'Composición' + '</p>' +\r\n            '<div class=\"row\">' +\r\n            '<div class=\"col s12\">' +\r\n            '<table id=\"data-table-receta-' + this._index + '\" class=\"Highlight\">' +\r\n            '<thead>' +\r\n            '<tr>' +\r\n            '<th>Producto </th>' +\r\n            '<th>Tipo </th>' +\r\n            '<th>Cantidad PPM </th>' +\r\n            '<th>Porcentaje </th>' +\r\n            '<th>Acción</th>' +\r\n            '</tr>' +\r\n            '</thead>' +\r\n            '<tbody>' +\r\n            '<td>' +\r\n            `<input type=\"hidden\" name = \"Recetas[${this._index}].Componentes.Index\" value = \"${0}\" /> ` +\r\n            `<select class=\"clases-options\" id=\"sr${this._index}0\" name=\"Recetas[${this._index}].Componentes[0].IdComponente\">` +\r\n            '<option value=\"\" selected disabled>Seleccionar producto</option>' +\r\n            '</select>' +\r\n            '</td>' +\r\n            '<td class=\"clase-prod\"></td>' +\r\n            `<td><input type=\"text\" style=\"width:70%\" value=\"0\" maxlength=\"7\" class=\"ppm-${this._index}\" name=\"Recetas[${this._index}].Componentes[0].ProporcionComponente\" readonly></td>` +\r\n            '<td class=\"porcent\"></td>' +\r\n            '<td>' +\r\n            '<a class=\"cursor-point\">' +\r\n            '<i class=\"material-icons componente-delete\" onclick=\"eliminarComponente(this, ' + this._index + ')\">delete</i>'+\r\n                                                            '</a>'+\r\n                                                        '</td>'+\r\n                                                    '</tbody>'+\r\n                                                '</table>' +\r\n                                            '</div>' +\r\n                                        '</div>' +\r\n                                    '</div>' +\r\n                                '</div>' +\r\n                            '</div>' +\r\n                        '</div>' +\r\n                        '<div class=\"row\" style=\"width: 100%\">'+\r\n                            '<div class=\"col s6\">'+\r\n                            '</div>'+\r\n                            '<div class=\"col s4\" >'+\r\n                                `<p class=\"total-${this._index}\">Total: </p>` +                          \r\n                            '</div>'+\r\n                            '<div class=\"col s2\" >' +\r\n                                `<p class=\"total-${this._index}\">Total: </p>` +\r\n                            '</div>' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</li>' +\r\n            '</ul>';\r\n        container.appendChild(card);\r\n        this._collaps = M.Collapsible.init(document.querySelectorAll(\".collapsible\"));\r\n        this._selects = M.FormSelect.init(document.querySelectorAll(\"select\"));\r\n        $(\".select2\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        this.AgregarOpciones();\r\n    }\r\n\r\n    private async EliminarReceta(element: HTMLElement) {\r\n        let shouldDelete = false;\r\n        let recetaId = element.dataset.recetaid;\r\n        const confirm = new ConfirmModalMessage(\"Elminar Receta\", \"Esta accion borrara la receta\", \"Aceptar\", \"Cancelar\");\r\n        shouldDelete = await confirm.Confirm();\r\n        if (!shouldDelete) return\r\n        var padre = document.getElementById(\"recetas-container\");\r\n        var card = document.getElementById(recetaId);\r\n        padre.removeChild(card);\r\n    }\r\n\r\n    private EliminarRecetas(): void {\r\n        var padre = document.getElementById(\"recetas-container\");\r\n        let recetas = document.querySelectorAll('.receta');\r\n        if (recetas.length == 0) {\r\n            return;\r\n        }\r\n\r\n        recetas.forEach(r => {\r\n            let receta = document.getElementById(r.id);\r\n            padre.removeChild(receta);\r\n        })\r\n    }\r\n\r\n    private AgegarComponente(element: HTMLElement): void {\r\n        let recetaIndex = element.dataset.recetaid;\r\n        let index2 = this.Contar2('ppm-' + recetaIndex);\r\n        let table = document.getElementById(\"data-table-receta-\" + recetaIndex) as HTMLTableElement;\r\n        table.insertRow(-1).innerHTML = `<td><input type=\"hidden\" name=\"Recetas[${recetaIndex}].Componentes.Index\" value=\"${index2}\"/>`+\r\n            `<select class=\"clases-options\" id=\"sr${recetaIndex}${index2}\"  name=\"Recetas[${recetaIndex}].Componentes[${index2}].IdComponente\">` +\r\n                '<option value=\"\" selected disabled>Seleccionar producto</option>'+\r\n            '</select></td>'+\r\n            '<td class=\"clase-prod\"></td>'+\r\n            `<td><input type=\"text\" style=\"width:70%\" value=\"0\" maxlength=\"7\" class=\"ppm-${recetaIndex}\" name=\"Recetas[${recetaIndex}].Componentes[${index2}].ProporcionComponente\" readonly></td>`+\r\n            '<td class=\"porcent\"></td>' +\r\n            '<td>' +\r\n                '<a class=\"cursor-point\">' +\r\n                    '<i class=\"material-icons componente-delete\" onclick=\"eliminarComponente(this,'+ recetaIndex +')\">delete</i>' +\r\n                '</a>' +\r\n            '</td>';\r\n        this._selects = M.FormSelect.init(document.querySelectorAll(\"select\"));\r\n        $(\".select2\").select2({ dropdownAutoWidth: true, width: '100%' });\r\n        this.AgregarOpciones();\r\n    }\r\n\r\n    //Extraer Producto de formulario\r\n    private ExtraerProducto(): Producto {\r\n        let producto = new Producto();\r\n\r\n        producto.IdProducto = this._formData.get(\"IdProducto\")?.toString();\r\n        producto.NombreCorto = this._formData.get(\"NombreCorto\")?.toString();\r\n        producto.Estado = this._formData.get(\"Estado\")?.toString();\r\n        producto.Tipo = this._formData.get(\"IdTipo\")?.toString();\r\n        producto.Clase = this._formData.get(\"IdClase\")?.toString();\r\n        producto.SICOM = this._formData.get(\"Sicom\")?.toString();\r\n\r\n        return producto;\r\n    }\r\n\r\n    //Reset de formulario\r\n    private LimpiarFormulario() {\r\n        this._formUser.reset();\r\n        $('input').not(\"input[type= 'hidden']\").val(null);\r\n        //$('select').val(null);\r\n        const e = new Event(\"change\");\r\n        M.updateTextFields();\r\n    }\r\n\r\n    //Cerrar control modal\r\n    private CerrarModal() {\r\n        this._selects.every((selects) => selects.destroy());\r\n        this._collaps.every((collaps) => collaps.destroy());\r\n        this._modalInstance.close();\r\n        this._formUser.parentNode.removeChild(this._formUser);\r\n        this._productoIdActualizar = \"\";\r\n    }\r\n}"," import { HttpFetchService, IMessageResponse, Producto } from '../../Shared';\r\nimport { ConfirmModalMessage } from '../../Shared/Components/ConfirmModalMessage';\r\nimport { ConfigureDataTable } from '../../Shared/Components/ConfigureDataTable';\r\nimport { ProductosGestionPage } from './GestionProductos';\r\nimport { JQValidations } from '../../Shared/Utils/JQValidations';\r\nimport { SelectorMenu } from '../../Shared/Utils/SelectorMenu';\r\nimport { IPage } from '../../Shared/Components/IPage';\r\nimport { Tabs } from 'materialize-css';\r\nimport { Page } from '../../Core/Page';\r\n\r\nexport class ProductosPage extends Page {\r\n\r\n    private Table: DataTables.Api;\r\n    private modalInstance: M.Modal;\r\n    private gestionProductos: ProductosGestionPage;\r\n\r\n    constructor() {\r\n        super();\r\n        this.BaseUrl =  \"/Productos/Index\";\r\n        this.Init();\r\n    }\r\n\r\n    public Destroy() {\r\n        super.Destroy();\r\n        this.Table.destroy(false);\r\n        //this.Table.rows().invalidate().draw();\r\n    }\r\n\r\n    public Init() {\r\n        this.InicializarButtons();\r\n        this.InicializarControls();\r\n        this.GetPermissions(\"/Productos/ObtenerPermisos\");\r\n    }\r\n\r\n    private InicializarControls() {\r\n        SelectorMenu.SeleccionEnElMenu();\r\n        this.Table = new ConfigureDataTable().Configure(\"#data-table-producto\", [{ \"width\": \"5%\", \"targets\": 0 }]);\r\n        this.gestionProductos = new ProductosGestionPage(document.getElementById(\"producto-modal\"));\r\n        this.gestionProductos.onProductoCreado = (producto) => this.AgregarFilaDatatable(producto);\r\n        this.gestionProductos.onProductoActualizado = (producto) => this.ActualizarFilaDatatable(producto);\r\n        JQValidations.MaxFileSizeValidation();\r\n        JQValidations.AllowedExtensionsValidation();\r\n    }\r\n\r\n    private InicializarButtons() {\r\n        var table = document.getElementById(\"data-table-producto\");\r\n        var productoAdd = document.getElementById(\"producto-add\");\r\n\r\n        table.on('click', '.producto-action', event => {\r\n            if (event.target.matches(\".producto-edit\"))\r\n                this.EditarProducto(event.target as HTMLElement);\r\n\r\n            else if (event.target.matches(\".producto-delete\"))\r\n                this.BorrarProducto(event.target as HTMLElement);\r\n\r\n            else if (event.target.matches(\".producto-detail\"))\r\n                this.DetallesProducto(event.target as HTMLElement);\r\n        });\r\n\r\n        //listOverlay.on()\r\n\r\n        productoAdd.addEventListener('click', event => this.CrearProducto());\r\n    }\r\n\r\n    private async BorrarProducto(element: HTMLElement) {\r\n        let productoId = element.dataset.productoid;\r\n        const confirm = new ConfirmModalMessage(\"Eliminar Producto\", \"¿Desea eliminar el Producto \" + productoId + \"?\", \"Aceptar\", \"Cancelar\");\r\n        const shouldDelete = await confirm.Confirm();\r\n        if (shouldDelete) {\r\n            const httpService = new HttpFetchService();\r\n            httpService.Post<IMessageResponse>('/Productos/BorrarProducto', productoId)\r\n                .then((data) => {\r\n                    if (data.Result)\r\n                        this.BorrarFilaDatatable(element);\r\n                    M.toast({ html: data.Message, classes: (data.Result) ? \"succes\" : \"error\" });\r\n\r\n                }).catch((error) => {\r\n                    M.toast({ html: error, classes: \"error\" });\r\n                });\r\n        }\r\n    }\r\n\r\n    private CrearProducto() {\r\n        this.gestionProductos.NuevoProducto();\r\n    }\r\n\r\n    private EditarProducto(element: HTMLElement): void {\r\n        console.log(element);\r\n        this.gestionProductos.DatosProducto(element.dataset.productoid, false);\r\n    }\r\n\r\n    private DetallesProducto(element: HTMLElement): void {\r\n        this.gestionProductos.DatosProducto(element.dataset.productoid, true);\r\n    }\r\n\r\n    //Funcion para borrar Producto del datatable\r\n    private BorrarFilaDatatable(element: HTMLElement) {\r\n        var $tr = $(element).closest(\"tr\");\r\n        if ($tr.prev().hasClass(\"parent\")) {\r\n            let row = this.Table.row($tr.prev());\r\n            row.remove();\r\n            row.draw();\r\n        }\r\n        let row = this.Table.row($tr);\r\n        row.remove();\r\n        row.draw();\r\n    }\r\n\r\n    // agregar un nuevo Producto\r\n    private AgregarFilaDatatable(producto: Producto) {\r\n        let estado, tipo, clase;\r\n        if (producto.Estado == \"true\") {\r\n            estado = '<span class=\"chip lighten-5 green green-text\">Activo</span>';\r\n        } else {\r\n            estado = '<span class=\"chip lighten-5 red red-text\">Inactivo</span>';\r\n        }\r\n        switch (producto.Clase) {\r\n            case '1':\r\n                clase = 'Base';\r\n                break;\r\n            case '2':\r\n                clase = 'Mezcla';\r\n                break;\r\n            default:\r\n                clase = 'Premezcla';\r\n                break;\r\n        };\r\n        switch (producto.Tipo) {\r\n            case '1':\r\n                tipo = 'Gasolina';\r\n                break;\r\n            case '2':\r\n                tipo = 'Diesel';\r\n                break;\r\n            case '3':\r\n                tipo = 'Alcohol';\r\n                break;\r\n            case '4':\r\n                tipo = 'Biodiesel';\r\n                break;\r\n            default:\r\n                tipo = 'Aditivo';\r\n                break;\r\n        };\r\n        let newRow = this.Table.row.add([\r\n            '<i class=\"material-icons\">format_color_reset</i>',\r\n            producto.IdProducto,\r\n            producto.NombreCorto,\r\n            estado,\r\n            clase,\r\n            tipo,\r\n            producto.SICOM,\r\n            '<a class=\"cursor-point ' + this.DisableAction(this.Permisions.Editar) + '\" data-turbolinks=\"false\"><i class=\"material-icons producto-action producto-edit\" data-productoid=\"' + producto.IdProducto + '\">edit</i></a> ' +\r\n            '<a class=\"cursor-point ' + this.DisableAction(this.Permisions.Borrar) + '\" data-turbolinks=\"false\"><i class=\"material-icons producto-action producto-delete\" data-productoid=\"' + producto.IdProducto + '\">delete</i></a> ' +\r\n            '<a class=\"cursor-point ' + this.DisableAction(this.Permisions.Detalles) + '\" data-turbolinks=\"false\"><i class=\"material-icons producto-action producto-detail\" data-productoid=\"' + producto.IdProducto + '\">remove_red_eye</i></a>'\r\n        ]);\r\n        (this.Table.row(newRow).node() as HTMLElement).id = producto.IdProducto;\r\n        (this.Table.row(newRow).node() as HTMLTableRowElement).cells[0].classList.add('aling-center');\r\n        (this.Table.row(newRow).node() as HTMLTableRowElement).cells[3].classList.add('aling-center');\r\n        newRow.draw(false);\r\n    }\r\n\r\n    // Actualizar un usuario\r\n    private ActualizarFilaDatatable(producto: Producto) {\r\n        let row = $(\"tr#\" + producto.IdProducto);\r\n        var cond = this.Table.row(row).data();\r\n        //cond[0] = producto.Icono;\r\n        cond[1] = producto.IdProducto;\r\n        cond[2] = producto.NombreCorto;\r\n        if (producto.Estado == \"true\") {\r\n            cond[3] = '<span class=\"chip lighten-5 green green-text\">Activo</span>';            \r\n        } else {\r\n            cond[3] = '<span class=\"chip lighten-5 red red-text\">Inactivo</span>';\r\n        }\r\n        switch (producto.Clase) {\r\n            case '1':\r\n                cond[4] = 'Base';\r\n                break;\r\n            case '2':\r\n                cond[4] = 'Mezcla';\r\n                break;\r\n            default:\r\n                cond[4] = 'Premezcla';\r\n                break;\r\n        };\r\n        switch (producto.Tipo) {\r\n            case '1':\r\n                cond[5] = 'Gasolina';\r\n                break;\r\n            case '2':\r\n                cond[5] = 'Diesel';\r\n                break;\r\n            case '3':\r\n                cond[5] = 'Alcohol';\r\n                break;\r\n            case '4':\r\n                cond[5] = 'Biodiesel';\r\n                break;\r\n            default:\r\n                cond[5] = 'Aditivo';\r\n                break;\r\n        };\r\n        cond[6] = producto.SICOM;\r\n        this.Table.row(row).data(cond);\r\n    }\r\n\r\n    //Obtiene clase disable dependiendo del permiso\r\n    private DisableAction(habilitado: boolean): string {\r\n        return habilitado ? \"\" : \"disable-action\";\r\n    }\r\n}\r\n\r\nvar productosPage = new ProductosPage();\r\n\r\n\r\n// Called after every non-initial page load\r\ndocument.addEventListener('turbolinks:render', (e: any) => {\r\n    if (document.URL.indexOf('/Productos/Index') != -1) {\r\n        if (productosPage) {\r\n            productosPage.Init();\r\n        }\r\n        else {\r\n            productosPage = new ProductosPage();\r\n        }\r\n        //console.log(e.data.url);\r\n    }\r\n    else\r\n        productosPage?.Destroy();\r\n});","//import 'datatables.net';\r\nimport 'datatables.net-responsive';\r\n\r\nexport class ConfigureDataTable {\r\n\r\n    public Configure(id: string, columns?: DataTables.ColumnDefsSettings[]): DataTables.Api {\r\n        \r\n        let table = $(id).DataTable({\r\n            columnDefs: columns,\r\n            destroy: true,\r\n            responsive: true,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n\r\n        this.FilterGlobal(table);\r\n\r\n        return table;\r\n    }\r\n\r\n    public ConfigureScrollX(id: string, columns?: DataTables.ColumnSettings[], columnsDef?: DataTables.ColumnDefsSettings[], inputId?): DataTables.Api {\r\n\r\n        let table = $(id).DataTable({\r\n            columnDefs: columnsDef,\r\n            columns: columns,\r\n            destroy: true,\r\n            scrollX: true,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n\r\n        this.FilterGlobal(table, inputId);\r\n\r\n        return table;\r\n    }\r\n\r\n    public ConfigureScrollXSinInfo(id: string, columns?: DataTables.ColumnDefsSettings[]): DataTables.Api {\r\n\r\n        let table = $(id).DataTable({\r\n            columnDefs: columns,\r\n            destroy: true,\r\n            scrollX: true,\r\n            paging: false,\r\n            ordering: false,\r\n            searching: false,\r\n            info: false,\r\n            language: {\r\n                \"processing\": \"Procesando...\",\r\n                \"lengthMenu\": \"Mostrar _MENU_ registros\",\r\n                \"zeroRecords\": \"No se encontraron resultados\",\r\n                \"emptyTable\": \"Ningún dato disponible en esta tabla\",\r\n                \"info\": \"Mostrando del _START_ al _END_ de _TOTAL_ registros\",\r\n                \"infoEmpty\": \"Mostrando del 0 al 0 de 0 registros\",\r\n                \"infoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                \"search\": \"Buscar:\",\r\n                \"thousands\": \",\",\r\n                \"loadingRecords\": \"Cargando...\",\r\n                \"paginate\": {\r\n                    \"first\": \"Primero\",\r\n                    \"last\": \"Último\",\r\n                    \"next\": \"Siguiente\",\r\n                    \"previous\": \"Anterior\"\r\n                },\r\n                \"aria\": {\r\n                    \"sortAscending\": \": Activar para ordenar la columna de manera ascendente\",\r\n                    \"sortDescending\": \": Activar para ordenar la columna de manera descendente\"\r\n                }\r\n            }\r\n        });\r\n        return table;\r\n    }\r\n\r\n    private FilterGlobal(table: DataTables.Api, input?) {\r\n\r\n        if (input) {\r\n            $(`input#${input}`).on(\"keyup click\", function () {\r\n                table.search($(`#${input}`).val().toString(), $(\"#global_regex\").prop(\"checked\"), $(\"#global_smart\").prop(\"checked\")).draw();\r\n            });\r\n        } else {\r\n            $(\"input#global_filter\").on(\"keyup click\", function () {\r\n                table.search($(\"#global_filter\").val().toString(), $(\"#global_regex\").prop(\"checked\"), $(\"#global_smart\").prop(\"checked\")).draw();\r\n            });\r\n        }\r\n\r\n        $(\"input.column_filter\").on(\"keyup click\", function () {\r\n            let column = $(this).parents(\"tr\").attr(\"data-column\");\r\n            table.column(column)\r\n                .search(\r\n                    $(\"#col\" + column + \"_filter\").val().toString(),\r\n                    $(\"#col\" + column + \"_regex\").prop(\"checked\"),\r\n                    $(\"#col\" + column + \"_smart\").prop(\"checked\")\r\n                )\r\n                .draw()\r\n        });\r\n    }\r\n\r\n}","export class ConfirmModalMessage {\r\n\r\n    private parent: HTMLElement;\r\n    private modal: HTMLElement;\r\n    private acceptButton: HTMLButtonElement;\r\n    private dismissButton: HTMLButtonElement;\r\n    private modalInstance: M.Modal;\r\n    private idMesssage: string;\r\n\r\n    constructor(public title: string,\r\n        public message: string,\r\n        public acceptText: string,\r\n        public dismissText: string) {\r\n\r\n        this.idMesssage = \"confirm-message\";\r\n        this.parent = document.body;\r\n        this.CreateModal();\r\n        this.AppendModel();\r\n    }\r\n\r\n    private CreateModal() {\r\n        this.modal = document.createElement(\"div\");\r\n        this.modal.id = this.idMesssage;\r\n        this.modal.classList.add(\"modal\", \"modal-fixed-footer\", \"modal-confirm-message-small\");\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"modal-content\");\r\n        this.modal.appendChild(content);\r\n\r\n        const header = document.createElement(\"h5\");\r\n        header.textContent = this.title;\r\n        content.appendChild(header);\r\n\r\n        const message = document.createElement(\"p\");\r\n        message.textContent = this.message;\r\n        content.appendChild(message);\r\n\r\n        const buttonGroup = document.createElement(\"div\");\r\n        buttonGroup.classList.add(\"modal-footer\");\r\n        this.modal.appendChild(buttonGroup);\r\n\r\n        this.dismissButton = document.createElement(\"button\");\r\n        this.dismissButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.dismissButton.type = \"button\";\r\n        this.dismissButton.textContent = this.dismissText;\r\n        buttonGroup.appendChild(this.dismissButton);\r\n\r\n        this.acceptButton = document.createElement(\"button\");\r\n        this.acceptButton.classList.add(\r\n            \"modal-action\",\r\n            \"waves-effect\",\r\n            \"waves-red\",\r\n            \"btn-flat\",\r\n            \"btn-orange\"\r\n        );\r\n        this.acceptButton.type = \"button\";\r\n        this.acceptButton.textContent = this.acceptText;\r\n        buttonGroup.appendChild(this.acceptButton);\r\n    }\r\n\r\n    private AppendModel() {\r\n        this.parent.appendChild(this.modal);\r\n    }\r\n\r\n    private destroy() {\r\n        if (this.modalInstance) {\r\n            this.modalInstance.close();\r\n            this.modalInstance.destroy();\r\n        }\r\n\r\n        var elem = document.querySelector(\"#\" + this.idMesssage);\r\n        elem.parentNode.removeChild(elem);\r\n    }\r\n\r\n    public async Confirm() {\r\n        return new Promise<boolean>((resolve, reject) => {\r\n\r\n            const somethingWentWrongUponCreation =\r\n                !this.modal || !this.acceptButton || !this.dismissButton;\r\n            if (somethingWentWrongUponCreation) {\r\n                this.destroy();\r\n                reject(\"Fallo algo en la creación del mensaje\");\r\n            }\r\n\r\n            M.Modal.init(this.modal, {\r\n                dismissible: false,\r\n                opacity: .5,\r\n                inDuration: 300,\r\n                outDuration: 200,\r\n                startingTop: '6%',\r\n                endingTop: '8%'\r\n            });\r\n            this.modalInstance = M.Modal.getInstance(this.modal);\r\n            this.modalInstance.open();\r\n\r\n            this.acceptButton.addEventListener(\"click\", () => {\r\n                resolve(true);\r\n                this.destroy();\r\n            });\r\n\r\n            this.dismissButton.addEventListener(\"click\", () => {\r\n                resolve(false);\r\n                this.destroy();\r\n            });\r\n        });\r\n    }\r\n}","// Base class for Http operations GET, PUT, POST, DELETE, PATCH!!\r\nexport class HttpFetchService {\r\n\r\n    public Post<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostForm<U>(url: string, payload: any, token: string, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'RequestVerificationToken': token },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n\r\n    public PostFormURL<U>(url: string, payload: any, jsonResponse = true): Promise<U> {\r\n        const promise = new Promise<U>((resolve, reject) => {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: payload\r\n            })\r\n                .then(response => (jsonResponse) ? response.json() : response.text())\r\n                .then(data => {\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                })\r\n        });\r\n\r\n        return promise;\r\n    }\r\n}","import { HttpFetchService } from \"./HttpFetchService\";\r\n\r\nexport const services = [HttpFetchService];\r\n\r\nexport * from \"./HttpFetchService\";","export class ActionsPermission {\r\n    IdArea: string;\r\n    Nombre: string;\r\n    Crear: boolean;\r\n    Borrar: boolean;\r\n    Editar: boolean;\r\n    Detalles: boolean;\r\n    Exportar: boolean;\r\n    Importar: boolean;\r\n}","export class Area {\r\n    IdArea: string;\r\n    Nombre: string;\r\n}","export class Cabezote {\r\n    Placa: string;\r\n}","export class Compañia {\r\n     IdCompañia: string;\r\n     Nombre: string;\r\n     SalesOrganization: string;\r\n     DistributionChannel: string;\r\n     Division: string;\r\n     SupplierType: string;\r\n     CodigoSICOM: string\r\n}","export class Conductor {\r\n    Nombre: string;\r\n    Cedula: string;\r\n}","export class Contador {\r\n    IdContador: string;    \r\n}","\r\nexport class Despacho {\r\n    Value: string;\r\n    Text: string;\r\n    Id_Despacho: string;\r\n    Placa_Cabezote: string;\r\n    Placa_Trailer: string;\r\n    Volumen_Ordenado: string;\r\n    Volumen_Cargado: string;\r\n    Cedula_Conductor: string;\r\n}","export class FechasCorteDTO {\r\n    Fecha: Date;\r\n    Cierre: boolean;\r\n}","import { LineaEstado } from \"./LineaEstado\";\r\n\r\nexport class Linea {\r\n    Linea: string;\r\n    Idlinea: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    Producto: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n    Capacidad: number;\r\n    DensidadAforo: number;\r\n    Observaciones: string;\r\n}","export class Log {\r\n    Id: string;\r\n    FechaEvento: string;\r\n    Aplicacion: string\r\n    Area: string\r\n    Seccion: string\r\n    Accion: string\r\n    Objetivo: string\r\n    Entidad: string\r\n    Prioridad: string\r\n    Comentario: string\r\n}","export class MapeoArchivos {\r\n    Paso1Data: Paso1Mapeo;\r\n    Paso2Data: Paso2Mapeo;\r\n}\r\n\r\nexport class Paso1Mapeo {\r\n    IdMapeo: string;\r\n    Descripcion: string;\r\n    Separador: string;\r\n    OtroCaracter: string;\r\n    Archivo: File;\r\n}\r\n\r\nexport class Paso2Mapeo {\r\n    Columnas: string[];\r\n    TableStep2: DataTables.Api;\r\n}","import { ProductoTipo } from \"./ProductoTipo\";\r\n\r\nexport class Producto {\r\n    IdProducto: string;\r\n    NombreCorto: string;\r\n    NombreERP: string;\r\n    Icono: string;\r\n    Estado: string;\r\n    Tipo: string;\r\n    Clase: string;\r\n    SICOM: string;\r\n    IdTipoNavigation: ProductoTipo;\r\n}","export class Proveedor {\r\n    IdProveedor: string;\r\n    NombreProveedor: string;\r\n    SicomProveedor: string;\r\n}","export class Rol {\r\n    IdRol: string;\r\n    Nombre: string;\r\n    Descripcion: string;\r\n}","import { TanquesEstado } from \"./TanquesEstado\";\r\n\r\nexport class Tanque {\r\n    IconoProducto: string;\r\n    IconoColor: string;\r\n    Tanque: string;\r\n    Producto: string;\r\n    Terminal: string;\r\n    IdTerminal: string;\r\n    ClaseTanque: string;\r\n    ClaseColor: string;\r\n    Estado: string;\r\n    EstadoColor: string;\r\n\r\n    TipoTanque: string;\r\n    CapacidadNominal: number;\r\n    CapacidadOperativa: number;\r\n    VolumenNoBombeable: number;\r\n    AlturaMaximaAforo: number;\r\n    AforadoPor: string;\r\n    FechaAforo: Date;\r\n    PantallaFlotante: string;\r\n    Observaciones: string;\r\n    DensidadAforo: number;\r\n    GalonesPorGrado: number;\r\n    NivelCorreccionInicial: number;\r\n    NivelCorreccionFinal: number;\r\n    \r\n}","export class Terminal {\r\n    IdTerminal: string;\r\n    Nombre: string;\r\n    Direccion: string;\r\n    Telefono: string;\r\n    Superintendente: string;\r\n    Estado: string;\r\n    Area: string;\r\n    CentroCosto: string;\r\n    Poliducto: string;\r\n    TipoInforme: string;\r\n    IdCompania: string;\r\n}","export class Trailer {\r\n    Placa: string;\r\n}","export class Usuario {\r\n    Imagen: File;\r\n    IdUsuario: string;\r\n    Nombre: string;\r\n    Rol: string;\r\n    Email: string;\r\n    Telefono: string;\r\n}","import { IMessageResponse } from \"./MessageResponse\";\r\nimport { Usuario } from \"./Usuario\";\r\nimport { Cabezote } from \"./Cabezote\";\r\nimport { Trailer } from \"./Trailer\";\r\nimport { Conductor } from \"./Conductor\";\r\nimport { Area } from \"./Area\";\r\nimport { Compañia } from \"./Compañia\";\r\nimport { Log } from \"./Log\";\r\nimport { Linea } from \"./Linea\";\r\nimport { Rol } from \"./Rol\";\r\nimport { Terminal } from \"./Terminal\";\r\nimport { Tanque } from \"./Tanque\";\r\nimport { Contador } from \"./Contador\";\r\nimport { Proveedor } from \"./Proveedor\";\r\nimport { MapeoArchivos } from \"./ProcesamientoArchivos\";\r\nimport { Producto } from \"./Producto\";\r\nimport { Despacho } from \"./Despacho\";\r\nimport { FechasCorteDTO } from \"./FechasCorteDTO\";\r\n\r\nexport const models = [Usuario, Cabezote, Trailer, Conductor, Area, Log, Rol, Compañia, Terminal, Tanque, Contador, Linea, Proveedor, MapeoArchivos, Producto, Despacho, FechasCorteDTO];\r\n\r\nexport * from \"./MessageResponse\";\r\nexport * from \"./Usuario\";\r\nexport * from \"./Cabezote\";\r\nexport * from \"./Trailer\";\r\nexport * from \"./Conductor\";\r\nexport * from \"./Area\";\r\nexport * from \"./Linea\";\r\nexport * from \"./Compañia\";\r\nexport * from \"./Rol\";\r\nexport * from \"./Terminal\";\r\nexport * from \"./Tanque\";\r\nexport * from \"./Contador\";\r\nexport * from \"./Log\";\r\nexport * from \"./Proveedor\";\r\nexport * from \"./ProcesamientoArchivos\";\r\nexport * from \"./Producto\";\r\nexport * from \"./Despacho\";\r\nexport * from \"./FechasCorteDTO\";\r\n","declare global {\r\n    interface HTMLElement {\r\n        on(eventType: string, childSelector: string, eventHandler: any): void;\r\n    }\r\n}\r\n\r\nHTMLElement.prototype.on = function (eventType: string, childSelector: string, eventHandler: any): void {\r\n    this.addEventListener(eventType, eventOnElement => {\r\n        if (eventOnElement.target.matches(childSelector)) {\r\n            eventHandler(eventOnElement);\r\n        } else {\r\n            //console.log(eventOnElement.target);\r\n        }\r\n    })\r\n}\r\n\r\nexport { };","import \"jquery-validation\";\r\nimport \"jquery-validation-unobtrusive\";\r\n\r\nexport class JQValidations {\r\n\r\n    public static MaxFileSizeValidation(): void {\r\n        if ($.validator.methods['maxfilesize'])\r\n            return;\r\n\r\n        $.validator.addMethod('maxfilesize', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let size = params, file = (input.files[0] as File);\r\n\r\n            if (file) {\r\n                if ((file.size / 1024) > size) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('maxfilesize', ['size'], function (options) {\r\n            //console.log(\"registra maxfilesize en unobtrusive\");\r\n            options.rules['maxfilesize'] = options.params['size'];\r\n            options.messages['maxfilesize'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static AllowedExtensionsValidation(): void {\r\n        if ($.validator.methods['allowedextensions'])\r\n            return;\r\n\r\n        $.validator.addMethod('allowedextensions', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let exts = params, file = (input.files[0] as File);\r\n            let extsArray = exts.split(',');\r\n\r\n            if (file) {\r\n                if ((new RegExp('(' + extsArray.join('|').replace(/\\./g, '\\\\.') + ')$')).test(value)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('allowedextensions', ['exts'], function (options) {\r\n            options.rules['allowedextensions'] = options.params['exts'];\r\n            options.messages['allowedextensions'] = options.message;\r\n        });\r\n    }\r\n\r\n    public static NotEqualValidation(): void {\r\n        if ($.validator.methods['notequal'])\r\n            return;\r\n\r\n        $.validator.addMethod('notequal', function (value, element, params) {\r\n            let input = (element as HTMLInputElement);\r\n            let IdName = params, ActualValue = (input.value as string);\r\n            let Id = (<HTMLInputElement>document.getElementById(IdName)).value;\r\n\r\n            //console.log(\"ActualValue: \" + ActualValue);\r\n            //console.log(\"size: \" + IdName);\r\n            //console.log(\"input: \" + input);\r\n            //console.log(\"value: \" + value);\r\n            //console.log(\"Id: \" + Id);\r\n\r\n            if (ActualValue) {\r\n                if (ActualValue == Id) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n\r\n        $.validator.unobtrusive.adapters.add('notequal', ['IdinputTocompare'], function (options) {\r\n            options.rules['notequal'] = options.params['IdinputTocompare'];\r\n            options.messages['notequal'] = options.message;\r\n        });\r\n    }\r\n}","import { format, parse, parseISO, toDate } from \"date-fns\";\r\nimport IMask, { InputMask, Masked, MaskedDate, MaskedDynamic, MaskedNumber } from \"imask\";\r\n\r\nexport class MaskFormats {\r\n\r\n    public static IntegerFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-int\",\r\n            Mask: {\r\n                mask: Number,\r\n                scale: 0,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DecimalFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-decimal\",\r\n            Mask: {\r\n                mask: Number,\r\n                scale: 2,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DateShortFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-fecha-corta\",\r\n            Mask: {\r\n                mask: '00{/}MMM{/}0000',\r\n                overwrite: true,\r\n                autofix: true,\r\n                blocks:\r\n                {\r\n                    MMM: {\r\n                        mask: IMask.MaskedEnum,\r\n                        enum: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic']\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DateLongFormat(): IMaskFormat {\r\n        return {\r\n            Selector: \".formato-fecha-larga\",\r\n            Mask: {\r\n                mask: '00{/}MMM{/}0000{ }HH{:}TT{:}TT',\r\n                overwrite: true,\r\n                autofix: true,\r\n                blocks:\r\n                {\r\n                    MMM: {\r\n                        mask: IMask.MaskedEnum,\r\n                        enum: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic']\r\n                    },\r\n                    HH: {\r\n                        mask: IMask.MaskedRange,\r\n                        from: 0,\r\n                        to: 24\r\n                    },\r\n                    TT: {\r\n                        mask: IMask.MaskedRange,\r\n                        from: 0,\r\n                        to: 59\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    public static IntegerFormatRang(selector, rangoMinimo, rangoMaximo): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: Number,\r\n                min: rangoMinimo,\r\n                max: rangoMaximo,\r\n                scale: 0,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static DecimalFormatRang(selector, rangoMinimo, rangoMaximo): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: Number,\r\n                min: rangoMinimo,\r\n                max: rangoMaximo,\r\n                scale: 2,\r\n                signed: false,\r\n                thousandsSeparator: ',',\r\n                padFractionalZeros: false,\r\n                normalizeZeros: true,\r\n                radix: '.',\r\n                mapToRadix: ['.']\r\n            }\r\n        };\r\n    }\r\n\r\n    public static Alfanumerico(selector): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {   \r\n                mask: /^[a-z0-9]+$/i,\r\n                lazy: false\r\n            }\r\n        };\r\n    }\r\n\r\n    public static NumericoSinSignos(selector): IMaskFormat {\r\n        return {\r\n            Selector: selector,\r\n            Mask: {\r\n                mask: /^[0-9]+$/i,\r\n                lazy: false\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport interface IMaskFormat {\r\n    Selector: string;\r\n    Mask: any | IMask.AnyMaskedOptions | IMask.AnyMaskedOptionsMasked | IMask.MaskedOptions<typeof Masked>;\r\n}","import IMask, { InputMask, Masked, MaskedNumber } from \"imask\";\r\nimport { IMaskFormat } from \"./MaskFormats\";\r\n\r\nexport class MaskFormatsManager {\r\n\r\n    private Masks: Array<IMaskFormat>;\r\n    private FormatElements: Array<IMaskElement>;\r\n\r\n    constructor() {\r\n        this.FormatElements = new Array<IMaskElement>();\r\n    }\r\n\r\n    public RegisterMasks(masks: Array<IMaskFormat>) {\r\n        this.CleanAll();\r\n        this.Masks = masks;\r\n    }\r\n\r\n    public ApplyMasks() {\r\n\r\n        this.CleanFormats();\r\n\r\n        this.Masks?.forEach((element, index, object) => {\r\n            this.ApplyFormat(element);\r\n        });\r\n    }\r\n\r\n    public AddApplyMask(mask: IMaskFormat) {\r\n        this.Masks.push(mask);\r\n        this.ApplyFormat(mask);\r\n    }\r\n\r\n    public UnmaskFormats() {\r\n        this.FormatElements?.forEach((element, index, object) => {\r\n            element.MaskInput.el['input'].value = element.MaskInput.unmaskedValue;\r\n            element.MaskInput.masked.reset();\r\n        });\r\n    }\r\n\r\n    public SetUnmaskedFormValue(formData: FormData) {\r\n\r\n        this.FormatElements?.forEach((element, index, object) => {\r\n            formData.set(element.MaskInput.el['input'].name, element.MaskInput.unmaskedValue);\r\n            element.MaskInput.masked.reset();\r\n        });\r\n    }\r\n\r\n    public UpdateValue(selectors: string[]) {\r\n\r\n        if (selectors?.length > 0) {\r\n            selectors.forEach((val) => {\r\n                let formatEl = this.FormatElements.filter(e => e.Selector === val);\r\n                if (formatEl?.length > 0) {\r\n                    formatEl.forEach((el) => {\r\n                        el.MaskInput.updateValue();\r\n                        el.MaskInput.unmaskedValue = el.MaskInput.el.value;\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    private ApplyFormat(mask: IMaskFormat) {\r\n        var fields = document.querySelectorAll<HTMLElement>(mask.Selector);\r\n        fields.forEach((element) => {\r\n            this.FormatElements.push({\r\n                Selector: mask.Selector, MaskInput: IMask(element, mask.Mask)\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    private CleanAll() {\r\n\r\n        if (this.Masks?.length > 0)\r\n            this.Masks.forEach((element, index, object) => {\r\n                object.splice(index, 1);\r\n            });\r\n\r\n        this.CleanFormats();\r\n\r\n    }\r\n\r\n    private CleanFormats() {\r\n        if (this.FormatElements?.length > 0)\r\n            this.FormatElements.forEach((element, index, object) => {\r\n                element.MaskInput.masked.reset();\r\n                element.MaskInput.destroy;\r\n                object.splice(index, 1);\r\n            });\r\n    }\r\n\r\n    public Destroy() {\r\n        this.CleanAll();\r\n        this.Masks = null;\r\n        this.FormatElements = null;\r\n    }\r\n\r\n}\r\n\r\nexport interface IMaskElement {\r\n    Selector: string;\r\n    MaskInput: InputMask<IMask.AnyMaskedOptions>;\r\n}\r\n","\r\nexport class SelectorMenu {\r\n\r\n    public static SeleccionEnElMenu(): void {\r\n        //Poner active a la opción especifica del menu\r\n        let url = location.href;\r\n        let contador = url.indexOf(\"/\", 8);\r\n        let cade = url.substr(contador, url.length);\r\n        let selector = \"a[href$='\" + cade + \"']\";\r\n        $('.nav-list li a').removeClass('active');\r\n\r\n        //Desplegar segundo nivel\r\n        $(\".collapsible-body\").css({ 'display': '' });\r\n        $('.listaPadre').removeClass('active');\r\n        $(selector).addClass('active');\r\n        let identi = $(selector).attr('name');\r\n\r\n        $('#' + identi).addClass('active'); // los que estan debajo de este, con una funcion poner .css({ 'display': 'block' })\r\n        $(\"#\" + identi + \" .collapsible-body\").css({ 'display': 'block' });\r\n\r\n        //Desplegar primer nivel\r\n        let identi2 = $('#' + identi).attr('name');\r\n        $('#' + identi2).addClass('active');\r\n        $(\"#\" + identi2 + \" #\" + identi + \" .collapsible-body\").css({ 'display': 'block' });\r\n        $(\"#\" + identi2 + \" .nivel2\").css({ 'display': 'block' });\r\n        $(\"#\" + identi2 + \" .collapsible-body\").first().css({ 'display': 'block' });\r\n    }\r\n}","import { JQValidations } from \"./JQValidations\";\r\nimport { MaskFormats } from \"./MaskFormats\";\r\nimport { MaskFormatsManager } from \"./MaskFormatsManager\";\r\nexport const components = [JQValidations, MaskFormats, MaskFormatsManager];\r\n\r\nexport * from \"./JQValidations\";\r\nexport * from \"./MaskFormats\";\r\nexport * from \"./MaskFormatsManager\";","export * from './Http';\r\nexport * from './Models';\r\nexport * from './Utils/HTMLExtensions';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {};\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"productos\": 0\n};\n\nvar deferredModules = [\n\t[\"./Scripts/Pages/Productos/Productos.ts\",\"packages\"]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkairosv2\"] = self[\"webpackChunkkairosv2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"sourceRoot":""}