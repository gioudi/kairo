/*! For license information please see compañias.js.LICENSE.txt */
!function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.sample = e() : t.sample = e() }(self, (function () { return (() => { "use strict"; var t = { "./Scripts/Pages/Compañias/Compañias.ts": function (t, e, a) { var i = this && this.__awaiter || function (t, e, a, i) { return new (a || (a = Promise))((function (o, n) { function r(t) { try { c(i.next(t)) } catch (t) { n(t) } } function s(t) { try { c(i.throw(t)) } catch (t) { n(t) } } function c(t) { var e; t.done ? o(t.value) : (e = t.value, e instanceof a ? e : new a((function (t) { t(e) }))).then(r, s) } c((i = i.apply(t, e || [])).next()) })) }, o = this && this.__generator || function (t, e) { var a, i, o, n, r = { label: 0, sent: function () { if (1 & o[0]) throw o[1]; return o[1] }, trys: [], ops: [] }; return n = { next: s(0), throw: s(1), return: s(2) }, "function" == typeof Symbol && (n[Symbol.iterator] = function () { return this }), n; function s(n) { return function (s) { return function (n) { if (a) throw new TypeError("Generator is already executing."); for (; r;)try { if (a = 1, i && (o = 2 & n[0] ? i.return : n[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, n[1])).done) return o; switch (i = 0, o && (n = [2 & n[0], o.value]), n[0]) { case 0: case 1: o = n; break; case 4: return r.label++, { value: n[1], done: !1 }; case 5: r.label++, i = n[1], n = [0]; continue; case 7: n = r.ops.pop(), r.trys.pop(); continue; default: if (!((o = (o = r.trys).length > 0 && o[o.length - 1]) || 6 !== n[0] && 2 !== n[0])) { r = 0; continue } if (3 === n[0] && (!o || n[1] > o[0] && n[1] < o[3])) { r.label = n[1]; break } if (6 === n[0] && r.label < o[1]) { r.label = o[1], o = n; break } if (o && r.label < o[2]) { r.label = o[2], r.ops.push(n); break } o[2] && r.ops.pop(), r.trys.pop(); continue }n = e.call(t, r) } catch (t) { n = [6, t], i = 0 } finally { a = o = 0 } if (5 & n[0]) throw n[1]; return { value: n[0] ? n[1] : void 0, done: !0 } }([n, s]) } } }; Object.defineProperty(e, "__esModule", { value: !0 }), e["CompañiasPage"] = void 0; var n = a("./Scripts/Shared/index.ts"), r = a("./Scripts/Shared/Components/ConfirmModalMessage.ts"), s = a("./Scripts/Pages/Compañias/GestionCompañias.ts"), c = a("./Scripts/Shared/Utils/JQValidations.ts"), l = function () { function t() { this.Init() } return t.prototype.Destroy = function () { }, t.prototype.Init = function () { this.InicializarButtons(), this.InicializarControls() }, t.prototype.InicializarControls = function () { var t = this; this.gestionCompañias = new s.CompañiasGestionPage(document.getElementById("compañia-modal")), this.gestionCompañias.onCompañiaCreado = function (e) { return t.AgregarCompañiaKanba(e) }, this.gestionCompañias.onCompañiaActualizado = function (e) { return t.ActualizarCompañiaKanba(e) }, c.JQValidations.MaxFileSizeValidation(), c.JQValidations.AllowedExtensionsValidation() }, t.prototype.InicializarButtons = function () { var t = this, e = document.getElementById("kanba"), a = document.getElementById("compañia-add"); e.on("click", ".compañia-action", (function (e) { e.target.matches(".compañia-edit") ? t.EditarCompañia(e.target) : e.target.matches(".compañia-delete") && t.BorrarCompañia(e.target) })), a.addEventListener("click", (function (e) { return t.CrearCompañia() })) }, t.prototype.BorrarCompañia = function (t) { return i(this, void 0, void 0, (function () { var e, a = this; return o(this, (function (i) { switch (i.label) { case 0: return e = t.dataset.compañiaid, [4, new r.ConfirmModalMessage("Eliminar Compañia", "¿Desea eliminar la Compañia " + e + "?", "Aceptar", "Cancelar").Confirm()]; case 1: return i.sent() && (new n.HttpFetchService).Post("/Compañias/BorrarCompañia", e).then((function (t) { t.Result && a.BorrarCompañiaKanba(e), M.toast({ html: t.Message, classes: t.Result ? "succes" : "error" }) })).catch((function (t) { M.toast({ html: t, classes: "error" }) })), [2] } })) })) }, t.prototype.CrearCompañia = function () { this.gestionCompañias.NuevaCompañia() }, t.prototype.EditarCompañia = function (t) { this.gestionCompañias.DatosCompañia(t.dataset.compañiaid, !1) }, t.prototype.BorrarCompañiaKanba = function (t) { var e = document.getElementById("kanba"), a = document.getElementById(t); e.removeChild(a) }, t.prototype.AgregarCompañiaKanba = function (t) { var e = document.getElementById("kanba"), a = document.createElement("div"); a.setAttribute("id", t.IdCompañia), a.classList.add("col"), a.classList.add("s12"), a.classList.add("m6"), a.classList.add("l4"), a.innerHTML = '<div id = "profile-card" class="card animate fadeRight "> <div class="card-image waves-effect waves-block waves-light"> <img src = "/images/gallery/shutterstock_1106084129.jpg" alt = "user bg"></div><div class="card-content"><a class="btn-floating activator btn-move-up waves-effect waves-light accent-2 z-depth-4 right" style = "background-color:#FF6900"><i class="material-icons compañia-action compañia-detail" data-compañiaid="' + t.IdCompañia + '" > visibility </i></a><a class="btn-floating btn-move-up waves-effect waves-light accent-2 z-depth-4 right" style = "background-color: #162b71"><i class="material-icons compañia-action compañia-edit" data-compañiaid="' + t.IdCompañia + '" > edit </i></a><a class="btn-floating btn-move-up waves-effect waves-light grey accent-2 z-depth-4 right"><i class="material-icons compañia-action compañia-delete" data-compañiaid="' + t.IdCompañia + '" > delete </i></a><p> <i class="material-icons profile-card-i" style = "color:#FF6900"> apps </i> ' + t.Nombre + '</p><p><i class="material-icons profile-card-i" style = "color:#FF6900"> select_all </i> ID: ' + t.CodigoSICOM + '</p></div><div class="card-reveal"><span class="card-title grey-text text-darken-4">' + t.Nombre + '<i class="material-icons right"> close </i></span><p><b>Id: </b> ' + t.IdCompañia + " </p><p><b>Sales Organization: </b> " + t.SalesOrganization + " </p><p><b>Distribution Channel: </b> " + t.DistributionChannel + " </p><p><b>Division 12: </b> " + t.Division + " </p><p><b>Supplier Type: </b> " + t.SupplierType + " </p><p><b>SICOM: </b> " + t.CodigoSICOM + " </p></div>", e.appendChild(a) }, t.prototype.ActualizarCompañiaKanba = function (t) { document.getElementById(t.IdCompañia).innerHTML = '<div id = "profile-card" class="card animate fadeRight "> <div class="card-image waves-effect waves-block waves-light"> <img src = "/images/gallery/shutterstock_1106084129.jpg" alt = "user bg"></div><div class="card-content"><a class="btn-floating activator btn-move-up waves-effect waves-light accent-2 z-depth-4 right" style = "background-color:#FF6900"><i class="material-icons compañia-action compañia-detail" data-compañiaid="' + t.IdCompañia + '" > visibility </i></a><a class="btn-floating btn-move-up waves-effect waves-light accent-2 z-depth-4 right" style = "background-color: #162b71"><i class="material-icons compañia-action compañia-edit" data-compañiaid="' + t.IdCompañia + '" > edit </i></a><a class="btn-floating btn-move-up waves-effect waves-light grey accent-2 z-depth-4 right"><i class="material-icons compañia-action compañia-delete" data-compañiaid="' + t.IdCompañia + '" > delete </i></a><p> <i class="material-icons profile-card-i" style = "color:#FF6900"> apps </i> ' + t.Nombre + '</p><p><i class="material-icons profile-card-i" style = "color:#FF6900"> select_all </i> ID: ' + t.CodigoSICOM + '</p></div><div class="card-reveal"><span class="card-title grey-text text-darken-4">' + t.Nombre + '<i class="material-icons right"> close </i></span><p><b>Id: </b> ' + t.IdCompañia + " </p><p><b>Sales Organization: </b> " + t.SalesOrganization + " </p><p><b>Distribution Channel: </b> " + t.DistributionChannel + " </p><p><b>Division 12: </b> " + t.Division + " </p><p><b>Supplier Type: </b> " + t.SupplierType + " </p><p><b>SICOM: </b> " + t.CodigoSICOM + " </p></div>" }, t }(); e["CompañiasPage"] = l; var d = new l; document.addEventListener("turbolinks:render", (function (t) { -1 != document.URL.indexOf("/Compañias/Index") ? d ? d.Init() : d = new l : null == d || d.Destroy() })) }, "./Scripts/Pages/Compañias/GestionCompañias.ts": (t, e, a) => { Object.defineProperty(e, "__esModule", { value: !0 }), e["CompañiasGestionPage"] = void 0; var i = a("./Scripts/Shared/index.ts"), o = a("./Scripts/Shared/Models/Compañia.ts"), n = function () { function t(t) { this._baseUrl = "/Compañias", this._httpService = new i.HttpFetchService, this._modalBase = t, this.InicializarModal() } return t.prototype.NuevaCompañia = function () { var t = this; this._httpService.Post(this._baseUrl + "/NuevaCompañia", null, !1).then((function (e) { t._modalBase.innerHTML = e, t.InicilizarFormCompañia(!0) })), this._modalInstance.open() }, t.prototype.GuardarCompañia = function () { var t, e = this, a = null === (t = this._formData.get("RequestVerificationToken")) || void 0 === t ? void 0 : t.toString(); this._httpService.PostForm(this._baseUrl + "/CrearCompañia", this._formData, a).then((function (t) { t.Result && (e.LimpiarFormulario(), e.onCompañiaCreado && e.onCompañiaCreado(e.ExtraerCompañia())), M.toast({ html: t.Message, classes: t.Result ? "succes" : "error" }) })).catch((function (t) { return console.log(t) })) }, t.prototype.DatosCompañia = function (t, e) { var a = this, i = { compañia: t, lectura: e }; this._compañiaIdActualizar = t, this._httpService.Post(this._baseUrl + "/DatosCompañia", i, !1).then((function (t) { a._modalBase.innerHTML = t, a.InicilizarFormCompañia(!1) })), this._modalInstance.open() }, t.prototype.ActualizarCompañia = function () { var t, e = this, a = null === (t = this._formData.get("RequestVerificationToken")) || void 0 === t ? void 0 : t.toString(); this._formData.set("IdCompañia", this._compañiaIdActualizar), this._httpService.PostForm(this._baseUrl + "/ActualizarCompañia", this._formData, a).then((function (t) { t.Result && (e.onCompañiaActualizado && e.onCompañiaActualizado(e.ExtraerCompañia()), e.LimpiarFormulario(), e.CerrarModal()), M.toast({ html: t.Message, classes: t.Result ? "succes" : "error" }) })).catch((function (t) { return console.log(t) })) }, t.prototype.InicializarModal = function () { this._modalInstance = M.Modal.init(this._modalBase, { dismissible: !1, opacity: .5, inDuration: 300, outDuration: 200, startingTop: "6%", endingTop: "8%" }) }, t.prototype.InicilizarFormCompañia = function (t) { var e = this; M.updateTextFields(), this._formCompañia = document.querySelector("#compañia-form"), this._formData = new FormData(this._formCompañia), $(this._formCompañia).removeData("validator").removeData("unobtrusiveValidation"), $.validator.unobtrusive.parse(this._formCompañia), document.getElementById("compañia-modal-cancel").addEventListener("click", (function (t) { return e.CerrarModal() })), this._formCompañia.onsubmit = function (a) { return a.preventDefault(), $(e._formCompañia).valid() && (e._formData = new FormData(e._formCompañia), t ? e.GuardarCompañia() : e.ActualizarCompañia()), !1 } }, t.prototype.ExtraerCompañia = function () { var t, e, a, i, n, r, s, c = new o.Compañia; return c.IdCompañia = null === (t = this._formData.get("IdCompañia")) || void 0 === t ? void 0 : t.toString(), c.Nombre = null === (e = this._formData.get("Compañia")) || void 0 === e ? void 0 : e.toString(), c.SalesOrganization = null === (a = this._formData.get("SalesOrganization")) || void 0 === a ? void 0 : a.toString(), c.DistributionChannel = null === (i = this._formData.get("DistributionChannel")) || void 0 === i ? void 0 : i.toString(), c.Division = null === (n = this._formData.get("Division")) || void 0 === n ? void 0 : n.toString(), c.SupplierType = null === (r = this._formData.get("SupplierType")) || void 0 === r ? void 0 : r.toString(), c.CodigoSICOM = null === (s = this._formData.get("CodigoSICOM")) || void 0 === s ? void 0 : s.toString(), c }, t.prototype.LimpiarFormulario = function () { this._formCompañia.reset(), $("#compañia-id").val(null).trigger("change"), M.updateTextFields() }, t.prototype.CerrarModal = function () { this._modalInstance.close(), this._formCompañia.parentNode.removeChild(this._formCompañia), this._compañiaIdActualizar = "" }, t }(); e["CompañiasGestionPage"] = n }, "./Scripts/Shared/Components/ConfirmModalMessage.ts": function (t, e) { var a = this && this.__awaiter || function (t, e, a, i) { return new (a || (a = Promise))((function (o, n) { function r(t) { try { c(i.next(t)) } catch (t) { n(t) } } function s(t) { try { c(i.throw(t)) } catch (t) { n(t) } } function c(t) { var e; t.done ? o(t.value) : (e = t.value, e instanceof a ? e : new a((function (t) { t(e) }))).then(r, s) } c((i = i.apply(t, e || [])).next()) })) }, i = this && this.__generator || function (t, e) { var a, i, o, n, r = { label: 0, sent: function () { if (1 & o[0]) throw o[1]; return o[1] }, trys: [], ops: [] }; return n = { next: s(0), throw: s(1), return: s(2) }, "function" == typeof Symbol && (n[Symbol.iterator] = function () { return this }), n; function s(n) { return function (s) { return function (n) { if (a) throw new TypeError("Generator is already executing."); for (; r;)try { if (a = 1, i && (o = 2 & n[0] ? i.return : n[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, n[1])).done) return o; switch (i = 0, o && (n = [2 & n[0], o.value]), n[0]) { case 0: case 1: o = n; break; case 4: return r.label++, { value: n[1], done: !1 }; case 5: r.label++, i = n[1], n = [0]; continue; case 7: n = r.ops.pop(), r.trys.pop(); continue; default: if (!((o = (o = r.trys).length > 0 && o[o.length - 1]) || 6 !== n[0] && 2 !== n[0])) { r = 0; continue } if (3 === n[0] && (!o || n[1] > o[0] && n[1] < o[3])) { r.label = n[1]; break } if (6 === n[0] && r.label < o[1]) { r.label = o[1], o = n; break } if (o && r.label < o[2]) { r.label = o[2], r.ops.push(n); break } o[2] && r.ops.pop(), r.trys.pop(); continue }n = e.call(t, r) } catch (t) { n = [6, t], i = 0 } finally { a = o = 0 } if (5 & n[0]) throw n[1]; return { value: n[0] ? n[1] : void 0, done: !0 } }([n, s]) } } }; Object.defineProperty(e, "__esModule", { value: !0 }), e.ConfirmModalMessage = void 0; var o = function () { function t(t, e, a, i) { this.title = t, this.message = e, this.acceptText = a, this.dismissText = i, this.idMesssage = "confirm-message", this.parent = document.body, this.CreateModal(), this.AppendModel() } return t.prototype.CreateModal = function () { this.modal = document.createElement("div"), this.modal.id = this.idMesssage, this.modal.classList.add("modal", "modal-fixed-footer", "modal-confirm-message-small"); var t = document.createElement("div"); t.classList.add("modal-content"), this.modal.appendChild(t); var e = document.createElement("h4"); e.textContent = this.title, t.appendChild(e); var a = document.createElement("p"); a.textContent = this.message, t.appendChild(a); var i = document.createElement("div"); i.classList.add("modal-footer"), this.modal.appendChild(i), this.dismissButton = document.createElement("button"), this.dismissButton.classList.add("modal-action", "waves-effect", "waves-red", "btn-flat", "btn-orange"), this.dismissButton.type = "button", this.dismissButton.textContent = this.dismissText, i.appendChild(this.dismissButton), this.acceptButton = document.createElement("button"), this.acceptButton.classList.add("modal-action", "waves-effect", "waves-red", "btn-flat", "btn-orange"), this.acceptButton.type = "button", this.acceptButton.textContent = this.acceptText, i.appendChild(this.acceptButton) }, t.prototype.AppendModel = function () { this.parent.appendChild(this.modal) }, t.prototype.destroy = function () { this.modalInstance && (this.modalInstance.close(), this.modalInstance.destroy()); var t = document.querySelector("#" + this.idMesssage); t.parentNode.removeChild(t) }, t.prototype.Confirm = function () { return a(this, void 0, void 0, (function () { var t = this; return i(this, (function (e) { return [2, new Promise((function (e, a) { (!t.modal || !t.acceptButton || !t.dismissButton) && (t.destroy(), a("Fallo algo en la creación del mensaje")), M.Modal.init(t.modal, { dismissible: !1, opacity: .5, inDuration: 300, outDuration: 200, startingTop: "6%", endingTop: "8%" }), t.modalInstance = M.Modal.getInstance(t.modal), t.modalInstance.open(), t.acceptButton.addEventListener("click", (function () { e(!0), t.destroy() })), t.dismissButton.addEventListener("click", (function () { e(!1), t.destroy() })) }))] })) })) }, t }(); e.ConfirmModalMessage = o }, "./Scripts/Shared/Http/HttpFetchService.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.HttpFetchService = void 0; var a = function () { function t() { } return t.prototype.Post = function (t, e, a) { return void 0 === a && (a = !0), new Promise((function (i, o) { fetch(t, { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify(e) }).then((function (t) { return a ? t.json() : t.text() })).then((function (t) { i(t) })).catch((function (t) { console.log(t), o(t) })) })) }, t.prototype.PostForm = function (t, e, a) { return new Promise((function (i, o) { fetch(t, { method: "post", headers: { RequestVerificationToken: a }, body: e }).then((function (t) { return t.json() })).then((function (t) { i(t) })).catch((function (t) { console.log(t), o(t) })) })) }, t.prototype.PostFormURL = function (t, e, a) { return void 0 === a && (a = !0), new Promise((function (i, o) { fetch(t, { method: "post", headers: { "Content-Type": "application/json" }, body: e }).then((function (t) { return a ? t.json() : t.text() })).then((function (t) { i(t) })).catch((function (t) { console.log(t), o(t) })) })) }, t }(); e.HttpFetchService = a }, "./Scripts/Shared/Http/index.ts": function (t, e, a) { var i = this && this.__createBinding || (Object.create ? function (t, e, a, i) { void 0 === i && (i = a), Object.defineProperty(t, i, { enumerable: !0, get: function () { return e[a] } }) } : function (t, e, a, i) { void 0 === i && (i = a), t[i] = e[a] }), o = this && this.__exportStar || function (t, e) { for (var a in t) "default" === a || Object.prototype.hasOwnProperty.call(e, a) || i(e, t, a) }; Object.defineProperty(e, "__esModule", { value: !0 }), e.services = void 0; var n = a("./Scripts/Shared/Http/HttpFetchService.ts"); e.services = [n.HttpFetchService], o(a("./Scripts/Shared/Http/HttpFetchService.ts"), e) }, "./Scripts/Shared/Models/Area.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.Area = void 0; e.Area = function () { } }, "./Scripts/Shared/Models/Cabezote.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.Cabezote = void 0; e.Cabezote = function () { } }, "./Scripts/Shared/Models/Compañia.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e["Compañia"] = void 0; e["Compañia"] = function () { } }, "./Scripts/Shared/Models/Conductor.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.Conductor = void 0; e.Conductor = function () { } }, "./Scripts/Shared/Models/Log.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.Log = void 0; e.Log = function () { } }, "./Scripts/Shared/Models/MessageResponse.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }) }, "./Scripts/Shared/Models/Trailer.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.Trailer = void 0; e.Trailer = function () { } }, "./Scripts/Shared/Models/Usuario.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.Usuario = void 0; e.Usuario = function () { } }, "./Scripts/Shared/Models/index.ts": function (t, e, a) { var i = this && this.__createBinding || (Object.create ? function (t, e, a, i) { void 0 === i && (i = a), Object.defineProperty(t, i, { enumerable: !0, get: function () { return e[a] } }) } : function (t, e, a, i) { void 0 === i && (i = a), t[i] = e[a] }), o = this && this.__exportStar || function (t, e) { for (var a in t) "default" === a || Object.prototype.hasOwnProperty.call(e, a) || i(e, t, a) }; Object.defineProperty(e, "__esModule", { value: !0 }), e.models = void 0; var n = a("./Scripts/Shared/Models/Usuario.ts"), r = a("./Scripts/Shared/Models/Log.ts"), s = a("./Scripts/Shared/Models/Cabezote.ts"), c = a("./Scripts/Shared/Models/Trailer.ts"), l = a("./Scripts/Shared/Models/Conductor.ts"), d = a("./Scripts/Shared/Models/Area.ts"), p = a("./Scripts/Shared/Models/Compañia.ts"); e.models = [n.Usuario, s.Cabezote, c.Trailer, l.Conductor, d.Area, r.Log, p.Compañia], o(a("./Scripts/Shared/Models/MessageResponse.ts"), e), o(a("./Scripts/Shared/Models/Usuario.ts"), e), o(a("./Scripts/Shared/Models/Log.ts"), e), o(a("./Scripts/Shared/Models/Usuario.ts"), e), o(a("./Scripts/Shared/Models/Cabezote.ts"), e), o(a("./Scripts/Shared/Models/Trailer.ts"), e), o(a("./Scripts/Shared/Models/Conductor.ts"), e), o(a("./Scripts/Shared/Models/Area.ts"), e), o(a("./Scripts/Shared/Models/Compañia.ts"), e) }, "./Scripts/Shared/Utils/HTMLExtensions.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), HTMLElement.prototype.on = function (t, e, a) { this.addEventListener(t, (function (t) { t.target.matches(e) ? a(t) : console.log(t.target) })) } }, "./Scripts/Shared/Utils/JQValidations.ts": (t, e) => { Object.defineProperty(e, "__esModule", { value: !0 }), e.JQValidations = void 0; var a = function () { function t() { } return t.MaxFileSizeValidation = function () { $.validator.methods.maxfilesize || ($.validator.addMethod("maxfilesize", (function (t, e, a) { var i = a, o = e.files[0]; return !(o && o.size / 1024 > i) })), $.validator.unobtrusive.adapters.add("maxfilesize", ["size"], (function (t) { t.rules.maxfilesize = t.params.size, t.messages.maxfilesize = t.message }))) }, t.AllowedExtensionsValidation = function () { $.validator.methods.allowedextensions || ($.validator.addMethod("allowedextensions", (function (t, e, a) { var i = a, o = e.files[0], n = i.split(","); return !o || !!new RegExp("(" + n.join("|").replace(/\./g, "\\.") + ")$").test(t) })), $.validator.unobtrusive.adapters.add("allowedextensions", ["exts"], (function (t) { t.rules.allowedextensions = t.params.exts, t.messages.allowedextensions = t.message }))) }, t }(); e.JQValidations = a }, "./Scripts/Shared/index.ts": function (t, e, a) { var i = this && this.__createBinding || (Object.create ? function (t, e, a, i) { void 0 === i && (i = a), Object.defineProperty(t, i, { enumerable: !0, get: function () { return e[a] } }) } : function (t, e, a, i) { void 0 === i && (i = a), t[i] = e[a] }), o = this && this.__exportStar || function (t, e) { for (var a in t) "default" === a || Object.prototype.hasOwnProperty.call(e, a) || i(e, t, a) }; Object.defineProperty(e, "__esModule", { value: !0 }), o(a("./Scripts/Shared/Http/index.ts"), e), o(a("./Scripts/Shared/Models/index.ts"), e), o(a("./Scripts/Shared/Utils/HTMLExtensions.ts"), e) } }, e = {}; return function a(i) { if (e[i]) return e[i].exports; var o = e[i] = { exports: {} }; return t[i].call(o.exports, o, o.exports, a), o.exports }("./Scripts/Pages/Compañias/Compañias.ts") })() }));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvUGFnZXMvQ29tcGHDsWlhcy9Db21wYcOxaWFzLnRzIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvUGFnZXMvQ29tcGHDsWlhcy9HZXN0aW9uQ29tcGHDsWlhcy50cyIsIndlYnBhY2s6Ly9zYW1wbGUvLi9TY3JpcHRzL1NoYXJlZC9Db21wb25lbnRzL0NvbmZpcm1Nb2RhbE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vc2FtcGxlLy4vU2NyaXB0cy9TaGFyZWQvSHR0cC9IdHRwRmV0Y2hTZXJ2aWNlLnRzIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvU2hhcmVkL0h0dHAvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc2FtcGxlLy4vU2NyaXB0cy9TaGFyZWQvTW9kZWxzL0FyZWEudHMiLCJ3ZWJwYWNrOi8vc2FtcGxlLy4vU2NyaXB0cy9TaGFyZWQvTW9kZWxzL0NhYmV6b3RlLnRzIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvU2hhcmVkL01vZGVscy9Db21wYcOxaWEudHMiLCJ3ZWJwYWNrOi8vc2FtcGxlLy4vU2NyaXB0cy9TaGFyZWQvTW9kZWxzL0NvbmR1Y3Rvci50cyIsIndlYnBhY2s6Ly9zYW1wbGUvLi9TY3JpcHRzL1NoYXJlZC9Nb2RlbHMvTG9nLnRzIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvU2hhcmVkL01vZGVscy9UcmFpbGVyLnRzIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvU2hhcmVkL01vZGVscy9Vc3VhcmlvLnRzIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvU2hhcmVkL01vZGVscy9pbmRleC50cyIsIndlYnBhY2s6Ly9zYW1wbGUvLi9TY3JpcHRzL1NoYXJlZC9VdGlscy9IVE1MRXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly9zYW1wbGUvLi9TY3JpcHRzL1NoYXJlZC9VdGlscy9KUVZhbGlkYXRpb25zLnRzIiwid2VicGFjazovL3NhbXBsZS8uL1NjcmlwdHMvU2hhcmVkL2luZGV4LnRzIiwid2VicGFjazovL3NhbXBsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zYW1wbGUvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiSW5pdCIsIkRlc3Ryb3kiLCJJbmljaWFsaXphckJ1dHRvbnMiLCJJbmljaWFsaXphckNvbnRyb2xzIiwiZ2VzdGlvbkNvbXBhw7FpYXMiLCJDb21wYcOxaWFzR2VzdGlvblBhZ2UiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib25Db21wYcOxaWFDcmVhZG8iLCJjb21wYcOxaWEiLCJBZ3JlZ2FyQ29tcGHDsWlhS2FuYmEiLCJvbkNvbXBhw7FpYUFjdHVhbGl6YWRvIiwiQWN0dWFsaXphckNvbXBhw7FpYUthbmJhIiwiSlFWYWxpZGF0aW9ucyIsIk1heEZpbGVTaXplVmFsaWRhdGlvbiIsIkFsbG93ZWRFeHRlbnNpb25zVmFsaWRhdGlvbiIsImNhcmQiLCJjb21wYcOxaWFBZGQiLCJvbiIsImV2ZW50IiwidGFyZ2V0IiwibWF0Y2hlcyIsIkVkaXRhckNvbXBhw7FpYSIsIkJvcnJhckNvbXBhw7FpYSIsImFkZEV2ZW50TGlzdGVuZXIiLCJDcmVhckNvbXBhw7FpYSIsImVsZW1lbnQiLCJjb21wYcOxaWFJZCIsImRhdGFzZXQiLCJjb21wYcOxaWFpZCIsIkNvbmZpcm1Nb2RhbE1lc3NhZ2UiLCJDb25maXJtIiwiSHR0cEZldGNoU2VydmljZSIsIlBvc3QiLCJ0aGVuIiwiZGF0YSIsIlJlc3VsdCIsIkJvcnJhckNvbXBhw7FpYUthbmJhIiwiTSIsInRvYXN0IiwiaHRtbCIsIk1lc3NhZ2UiLCJjbGFzc2VzIiwiY2F0Y2giLCJlcnJvciIsIk51ZXZhQ29tcGHDsWlhIiwiRGF0b3NDb21wYcOxaWEiLCJpZENvbXBhw7FpYSIsInBhZHJlIiwicmVtb3ZlQ2hpbGQiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiSWRDb21wYcOxaWEiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJOb21icmUiLCJDb2RpZ29TSUNPTSIsIlNhbGVzT3JnYW5pemF0aW9uIiwiRGlzdHJpYnV0aW9uQ2hhbm5lbCIsIkRpdmlzaW9uIiwiU3VwcGxpZXJUeXBlIiwiYXBwZW5kQ2hpbGQiLCJDb21wYcOxaWFzUGFnZSIsImNvbXBhw7FpYXNQYWdlIiwiZSIsIlVSTCIsImluZGV4T2YiLCJtb2RhbEJhc2UiLCJfYmFzZVVybCIsIl9odHRwU2VydmljZSIsIl9tb2RhbEJhc2UiLCJJbmljaWFsaXphck1vZGFsIiwiSW5pY2lsaXphckZvcm1Db21wYcOxaWEiLCJfbW9kYWxJbnN0YW5jZSIsIm9wZW4iLCJHdWFyZGFyQ29tcGHDsWlhIiwidG9rZW4iLCJfZm9ybURhdGEiLCJnZXQiLCJ0b1N0cmluZyIsIlBvc3RGb3JtIiwiTGltcGlhckZvcm11bGFyaW8iLCJFeHRyYWVyQ29tcGHDsWlhIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImxlY3R1cmEiLCJwYXlsb2FkIiwiX2NvbXBhw7FpYUlkQWN0dWFsaXphciIsIkFjdHVhbGl6YXJDb21wYcOxaWEiLCJzZXQiLCJDZXJyYXJNb2RhbCIsIk1vZGFsIiwiaW5pdCIsImRpc21pc3NpYmxlIiwib3BhY2l0eSIsImluRHVyYXRpb24iLCJvdXREdXJhdGlvbiIsInN0YXJ0aW5nVG9wIiwiZW5kaW5nVG9wIiwibW9kb0NyZWFjaW9uIiwidXBkYXRlVGV4dEZpZWxkcyIsIl9mb3JtQ29tcGHDsWlhIiwicXVlcnlTZWxlY3RvciIsIkZvcm1EYXRhIiwiJCIsInJlbW92ZURhdGEiLCJ2YWxpZGF0b3IiLCJ1bm9idHJ1c2l2ZSIsInBhcnNlIiwiZXYiLCJvbnN1Ym1pdCIsInByZXZlbnREZWZhdWx0IiwidmFsaWQiLCJDb21wYcOxaWEiLCJyZXNldCIsInZhbCIsInRyaWdnZXIiLCJjbG9zZSIsInBhcmVudE5vZGUiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJhY2NlcHRUZXh0IiwiZGlzbWlzc1RleHQiLCJpZE1lc3NzYWdlIiwicGFyZW50IiwiYm9keSIsIkNyZWF0ZU1vZGFsIiwiQXBwZW5kTW9kZWwiLCJtb2RhbCIsImlkIiwiY29udGVudCIsImhlYWRlciIsInRleHRDb250ZW50IiwiYnV0dG9uR3JvdXAiLCJkaXNtaXNzQnV0dG9uIiwidHlwZSIsImFjY2VwdEJ1dHRvbiIsImRlc3Ryb3kiLCJtb2RhbEluc3RhbmNlIiwiZWxlbSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2V0SW5zdGFuY2UiLCJ1cmwiLCJqc29uUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJqc29uIiwidGV4dCIsIlBvc3RGb3JtVVJMIiwic2VydmljZXMiLCJBcmVhIiwiQ2FiZXpvdGUiLCJDb25kdWN0b3IiLCJMb2ciLCJUcmFpbGVyIiwiVXN1YXJpbyIsIm1vZGVscyIsIkhUTUxFbGVtZW50IiwicHJvdG90eXBlIiwiZXZlbnRUeXBlIiwiY2hpbGRTZWxlY3RvciIsImV2ZW50SGFuZGxlciIsImV2ZW50T25FbGVtZW50IiwibWV0aG9kcyIsImFkZE1ldGhvZCIsInZhbHVlIiwicGFyYW1zIiwic2l6ZSIsImZpbGUiLCJmaWxlcyIsImFkYXB0ZXJzIiwib3B0aW9ucyIsInJ1bGVzIiwibWVzc2FnZXMiLCJleHRzIiwiZXh0c0FycmF5Iiwic3BsaXQiLCJSZWdFeHAiLCJqb2luIiwicmVwbGFjZSIsInRlc3QiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFP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QVU2SCxHQUVwRUEsRUFBUUMsTUFBbUIsWUFBSUQsRUFBUUwsT0FBYSxLQUNwREssRUFBUUUsU0FBc0IsWUFBSUYsRUFBUXpELGFBSXBDLEVBQUE1Ryw0QkFBZCxXQUNRNEYsRUFBRUUsVUFBVStELFFBQTJCLG9CQUczQ2pFLEVBQUVFLFVBQVVnRSxVQUFVLHFCQUFxQixTQUFVQyxFQUFPcEosRUFBU3FKLEdBQ2pFLElBQ0lRLEVBQU9SLEVBQVFFLEVBRE52SixFQUNvQndKLE1BQU0sR0FDbkNNLEVBQVlELEVBQUtFLE1BQU0sS0FFM0IsT0FBSVIsS0FDSSxJQUFLUyxPQUFPLElBQU1GLEVBQVVHLEtBQUssS0FBS0MsUUFBUSxNQUFPLE9BQVMsTUFBT0MsS0FBS2YsTUFRdEZuRSxFQUFFRSxVQUFVQyxZQUFZcUUsU0FBUzVILElBQUksb0JBQXFCLENBQUMsU0FBUyxTQUFVNkgsR0FDMUVBLEVBQVFDLE1BQXlCLGtCQUFJRCxFQUFRTCxPQUFhLEtBQzFESyxFQUFRRSxTQUE0QixrQkFBSUYsRUFBUXpELGFBRzVELEVBaERBLEdBQWEsRUFBQTlHLGlCLHNhQ0FiLHlDQUNBLDJDQUNBLHFEQ0RJaUwsRUFBMkIsR0NFL0IsT0RDQSxTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVdE0sUUFHM0MsSUFBSUMsRUFBU21NLEVBQXlCRSxHQUFZLENBR2pEdE0sUUFBUyxJQU9WLE9BSEF1TSxFQUFvQkQsR0FBVUUsS0FBS3ZNLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNxTSxHQUdwRXBNLEVBQU9ELFFDakJScU0sQ0FBb0IsMkMiLCJmaWxlIjoiY29tcGHDsWlhcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInNhbXBsZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJzYW1wbGVcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJpbXBvcnQgeyBIdHRwRmV0Y2hTZXJ2aWNlLCBJTWVzc2FnZVJlc3BvbnNlLCBDb21wYcOxaWEgfSBmcm9tICcuLi8uLi9TaGFyZWQnO1xyXG5pbXBvcnQgeyBDb25maXJtTW9kYWxNZXNzYWdlIH0gZnJvbSAnLi4vLi4vU2hhcmVkL0NvbXBvbmVudHMvQ29uZmlybU1vZGFsTWVzc2FnZSc7XHJcbmltcG9ydCB7IENvbXBhw7FpYXNHZXN0aW9uUGFnZSB9IGZyb20gJy4vR2VzdGlvbkNvbXBhw7FpYXMnO1xyXG5pbXBvcnQgeyBKUVZhbGlkYXRpb25zIH0gZnJvbSAnLi4vLi4vU2hhcmVkL1V0aWxzL0pRVmFsaWRhdGlvbnMnO1xyXG5pbXBvcnQgeyBJUGFnZSB9IGZyb20gJy4uLy4uL1NoYXJlZC9Db21wb25lbnRzL0lQYWdlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21wYcOxaWFzUGFnZSBpbXBsZW1lbnRzIElQYWdlIHtcclxuXHJcbiAgICBwcml2YXRlIG1vZGFsSW5zdGFuY2U6IE0uTW9kYWw7XHJcbiAgICBwcml2YXRlIGdlc3Rpb25Db21wYcOxaWFzOiBDb21wYcOxaWFzR2VzdGlvblBhZ2U7XHJcblxyXG4gICAgQmFzZVVSTDogXCIvQ29tcGHDsWlhcy9JbmRleFwiO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuSW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBEZXN0cm95KCkge1xyXG4gICAgICAgIC8vdGhpcy5UYWJsZS5kZXN0cm95KGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgSW5pdCgpIHtcclxuICAgICAgICB0aGlzLkluaWNpYWxpemFyQnV0dG9ucygpO1xyXG4gICAgICAgIHRoaXMuSW5pY2lhbGl6YXJDb250cm9scygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgSW5pY2lhbGl6YXJDb250cm9scygpIHtcclxuICAgICAgICB0aGlzLmdlc3Rpb25Db21wYcOxaWFzID0gbmV3IENvbXBhw7FpYXNHZXN0aW9uUGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXBhw7FpYS1tb2RhbFwiKSk7XHJcbiAgICAgICAgdGhpcy5nZXN0aW9uQ29tcGHDsWlhcy5vbkNvbXBhw7FpYUNyZWFkbyA9IChjb21wYcOxaWEpID0+IHRoaXMuQWdyZWdhckNvbXBhw7FpYUthbmJhKGNvbXBhw7FpYSk7XHJcbiAgICAgICAgdGhpcy5nZXN0aW9uQ29tcGHDsWlhcy5vbkNvbXBhw7FpYUFjdHVhbGl6YWRvID0gKGNvbXBhw7FpYSkgPT4gdGhpcy5BY3R1YWxpemFyQ29tcGHDsWlhS2FuYmEoY29tcGHDsWlhKTtcclxuICAgICAgICBKUVZhbGlkYXRpb25zLk1heEZpbGVTaXplVmFsaWRhdGlvbigpO1xyXG4gICAgICAgIEpRVmFsaWRhdGlvbnMuQWxsb3dlZEV4dGVuc2lvbnNWYWxpZGF0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBJbmljaWFsaXphckJ1dHRvbnMoKSB7XHJcbiAgICAgICAgdmFyIGNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImthbmJhXCIpO1xyXG4gICAgICAgIHZhciBjb21wYcOxaWFBZGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXBhw7FpYS1hZGRcIik7XHJcblxyXG4gICAgICAgIGNhcmQub24oJ2NsaWNrJywgJy5jb21wYcOxaWEtYWN0aW9uJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoXCIuY29tcGHDsWlhLWVkaXRcIikpXHJcbiAgICAgICAgICAgICAgICB0aGlzLkVkaXRhckNvbXBhw7FpYShldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoXCIuY29tcGHDsWlhLWRlbGV0ZVwiKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuQm9ycmFyQ29tcGHDsWlhKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbXBhw7FpYUFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHRoaXMuQ3JlYXJDb21wYcOxaWEoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBCb3JyYXJDb21wYcOxaWEoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgY29tcGHDsWlhSWQgPSBlbGVtZW50LmRhdGFzZXQuY29tcGHDsWlhaWQ7XHJcbiAgICAgICAgY29uc3QgY29uZmlybSA9IG5ldyBDb25maXJtTW9kYWxNZXNzYWdlKFwiRWxpbWluYXIgQ29tcGHDsWlhXCIsIFwiwr9EZXNlYSBlbGltaW5hciBsYSBDb21wYcOxaWEgXCIgKyBjb21wYcOxaWFJZCArIFwiP1wiLCBcIkFjZXB0YXJcIiwgXCJDYW5jZWxhclwiKTtcclxuICAgICAgICBjb25zdCBzaG91bGREZWxldGUgPSBhd2FpdCBjb25maXJtLkNvbmZpcm0oKTtcclxuICAgICAgICBpZiAoc2hvdWxkRGVsZXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGh0dHBTZXJ2aWNlID0gbmV3IEh0dHBGZXRjaFNlcnZpY2UoKTtcclxuICAgICAgICAgICAgaHR0cFNlcnZpY2UuUG9zdDxJTWVzc2FnZVJlc3BvbnNlPignL0NvbXBhw7FpYXMvQm9ycmFyQ29tcGHDsWlhJywgY29tcGHDsWlhSWQpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLlJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Cb3JyYXJDb21wYcOxaWFLYW5iYShjb21wYcOxaWFJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7IGh0bWw6IGRhdGEuTWVzc2FnZSwgY2xhc3NlczogKGRhdGEuUmVzdWx0KSA/IFwic3VjY2VzXCIgOiBcImVycm9yXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7IGh0bWw6IGVycm9yLCBjbGFzc2VzOiBcImVycm9yXCIgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhckNvbXBhw7FpYSgpIHtcclxuICAgICAgICB0aGlzLmdlc3Rpb25Db21wYcOxaWFzLk51ZXZhQ29tcGHDsWlhKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBFZGl0YXJDb21wYcOxaWEoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdlc3Rpb25Db21wYcOxaWFzLkRhdG9zQ29tcGHDsWlhKGVsZW1lbnQuZGF0YXNldC5jb21wYcOxaWFpZCwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRnVuY2lvbiBwYXJhIGJvcnJhciBjb21wYcOxaWFcclxuICAgIHByaXZhdGUgQm9ycmFyQ29tcGHDsWlhS2FuYmEoaWRDb21wYcOxaWEpIHtcclxuICAgICAgICB2YXIgcGFkcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImthbmJhXCIpO1xyXG4gICAgICAgIHZhciBjYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRDb21wYcOxaWEpO1xyXG4gICAgICAgIHBhZHJlLnJlbW92ZUNoaWxkKGNhcmQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFncmVnYXIgdW5hIG51ZXZhIENvbXBhw7FpYSAgXHJcbiAgICBwcml2YXRlIEFncmVnYXJDb21wYcOxaWFLYW5iYShjb21wYcOxaWE6IENvbXBhw7FpYSkge1xyXG4gICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImthbmJhXCIpO1xyXG4gICAgICAgIHZhciBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBjYXJkLnNldEF0dHJpYnV0ZSgnaWQnLCBjb21wYcOxaWEuSWRDb21wYcOxaWEpO1xyXG4gICAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY29sJyk7XHJcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdzMTInKTtcclxuICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ202Jyk7XHJcbiAgICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdsNCcpO1xyXG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gJzxkaXYgaWQgPSBcInByb2ZpbGUtY2FyZFwiIGNsYXNzPVwiY2FyZCBhbmltYXRlIGZhZGVSaWdodCBcIj4gJyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNhcmQtaW1hZ2Ugd2F2ZXMtZWZmZWN0IHdhdmVzLWJsb2NrIHdhdmVzLWxpZ2h0XCI+ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYyA9IFwiL2ltYWdlcy9nYWxsZXJ5L3NodXR0ZXJzdG9ja18xMTA2MDg0MTI5LmpwZ1wiIGFsdCA9IFwidXNlciBiZ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGEgY2xhc3M9XCJidG4tZmxvYXRpbmcgYWN0aXZhdG9yIGJ0bi1tb3ZlLXVwIHdhdmVzLWVmZmVjdCB3YXZlcy1saWdodCBhY2NlbnQtMiB6LWRlcHRoLTQgcmlnaHRcIiBzdHlsZSA9IFwiYmFja2dyb3VuZC1jb2xvcjojRkY2OTAwXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNvbXBhw7FpYS1hY3Rpb24gY29tcGHDsWlhLWRldGFpbFwiIGRhdGEtY29tcGHDsWlhaWQ9XCInICsgY29tcGHDsWlhLklkQ29tcGHDsWlhICsnXCIgPiB2aXNpYmlsaXR5IDwvaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImJ0bi1mbG9hdGluZyBidG4tbW92ZS11cCB3YXZlcy1lZmZlY3Qgd2F2ZXMtbGlnaHQgYWNjZW50LTIgei1kZXB0aC00IHJpZ2h0XCIgc3R5bGUgPSBcImJhY2tncm91bmQtY29sb3I6ICMxNjJiNzFcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY29tcGHDsWlhLWFjdGlvbiBjb21wYcOxaWEtZWRpdFwiIGRhdGEtY29tcGHDsWlhaWQ9XCInICsgY29tcGHDsWlhLklkQ29tcGHDsWlhICsnXCIgPiBlZGl0IDwvaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImJ0bi1mbG9hdGluZyBidG4tbW92ZS11cCB3YXZlcy1lZmZlY3Qgd2F2ZXMtbGlnaHQgZ3JleSBhY2NlbnQtMiB6LWRlcHRoLTQgcmlnaHRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY29tcGHDsWlhLWFjdGlvbiBjb21wYcOxaWEtZGVsZXRlXCIgZGF0YS1jb21wYcOxaWFpZD1cIicgKyBjb21wYcOxaWEuSWRDb21wYcOxaWEgKydcIiA+IGRlbGV0ZSA8L2k+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvYT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+IDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgcHJvZmlsZS1jYXJkLWlcIiBzdHlsZSA9IFwiY29sb3I6I0ZGNjkwMFwiPiBhcHBzIDwvaT4gJyArIGNvbXBhw7FpYS5Ob21icmUgKyc8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxwPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgcHJvZmlsZS1jYXJkLWlcIiBzdHlsZSA9IFwiY29sb3I6I0ZGNjkwMFwiPiBzZWxlY3RfYWxsIDwvaT4gSUQ6ICcgKyBjb21wYcOxaWEuQ29kaWdvU0lDT00gKyc8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNhcmQtcmV2ZWFsXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiY2FyZC10aXRsZSBncmV5LXRleHQgdGV4dC1kYXJrZW4tNFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnJytjb21wYcOxaWEuTm9tYnJlKyc8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIHJpZ2h0XCI+IGNsb3NlIDwvaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD48Yj5JZDogPC9iPiAnK2NvbXBhw7FpYS5JZENvbXBhw7FpYSsnIDwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+PGI+U2FsZXMgT3JnYW5pemF0aW9uOiA8L2I+ICcrY29tcGHDsWlhLlNhbGVzT3JnYW5pemF0aW9uKycgPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD48Yj5EaXN0cmlidXRpb24gQ2hhbm5lbDogPC9iPiAnK2NvbXBhw7FpYS5EaXN0cmlidXRpb25DaGFubmVsKycgPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD48Yj5EaXZpc2lvbiAxMjogPC9iPiAnK2NvbXBhw7FpYS5EaXZpc2lvbisnIDwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+PGI+U3VwcGxpZXIgVHlwZTogPC9iPiAnK2NvbXBhw7FpYS5TdXBwbGllclR5cGUrJyA8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxwPjxiPlNJQ09NOiA8L2I+ICcrY29tcGHDsWlhLkNvZGlnb1NJQ09NKycgPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYXJkKTtcclxuICAgIH1cclxuICAgXHJcbiAgICAvLyBBY3R1YWxpemFyIHVuYSBDb21wYcOxaWFcclxuICAgIHByaXZhdGUgQWN0dWFsaXphckNvbXBhw7FpYUthbmJhKGNvbXBhw7FpYTogQ29tcGHDsWlhKSB7XHJcbiAgICAgICAgbGV0IGNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb21wYcOxaWEuSWRDb21wYcOxaWEpO1xyXG4gICAgICAgIGNhcmQuaW5uZXJIVE1MID0gJzxkaXYgaWQgPSBcInByb2ZpbGUtY2FyZFwiIGNsYXNzPVwiY2FyZCBhbmltYXRlIGZhZGVSaWdodCBcIj4gJyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNhcmQtaW1hZ2Ugd2F2ZXMtZWZmZWN0IHdhdmVzLWJsb2NrIHdhdmVzLWxpZ2h0XCI+ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYyA9IFwiL2ltYWdlcy9nYWxsZXJ5L3NodXR0ZXJzdG9ja18xMTA2MDg0MTI5LmpwZ1wiIGFsdCA9IFwidXNlciBiZ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGEgY2xhc3M9XCJidG4tZmxvYXRpbmcgYWN0aXZhdG9yIGJ0bi1tb3ZlLXVwIHdhdmVzLWVmZmVjdCB3YXZlcy1saWdodCBhY2NlbnQtMiB6LWRlcHRoLTQgcmlnaHRcIiBzdHlsZSA9IFwiYmFja2dyb3VuZC1jb2xvcjojRkY2OTAwXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIGNvbXBhw7FpYS1hY3Rpb24gY29tcGHDsWlhLWRldGFpbFwiIGRhdGEtY29tcGHDsWlhaWQ9XCInICsgY29tcGHDsWlhLklkQ29tcGHDsWlhICsnXCIgPiB2aXNpYmlsaXR5IDwvaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImJ0bi1mbG9hdGluZyBidG4tbW92ZS11cCB3YXZlcy1lZmZlY3Qgd2F2ZXMtbGlnaHQgYWNjZW50LTIgei1kZXB0aC00IHJpZ2h0XCIgc3R5bGUgPSBcImJhY2tncm91bmQtY29sb3I6ICMxNjJiNzFcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY29tcGHDsWlhLWFjdGlvbiBjb21wYcOxaWEtZWRpdFwiIGRhdGEtY29tcGHDsWlhaWQ9XCInICsgY29tcGHDsWlhLklkQ29tcGHDsWlhICsnXCIgPiBlZGl0IDwvaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9hPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImJ0bi1mbG9hdGluZyBidG4tbW92ZS11cCB3YXZlcy1lZmZlY3Qgd2F2ZXMtbGlnaHQgZ3JleSBhY2NlbnQtMiB6LWRlcHRoLTQgcmlnaHRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgY29tcGHDsWlhLWFjdGlvbiBjb21wYcOxaWEtZGVsZXRlXCIgZGF0YS1jb21wYcOxaWFpZD1cIicgKyBjb21wYcOxaWEuSWRDb21wYcOxaWEgKydcIiA+IGRlbGV0ZSA8L2k+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvYT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+IDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgcHJvZmlsZS1jYXJkLWlcIiBzdHlsZSA9IFwiY29sb3I6I0ZGNjkwMFwiPiBhcHBzIDwvaT4gJyArIGNvbXBhw7FpYS5Ob21icmUgKyc8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxwPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgcHJvZmlsZS1jYXJkLWlcIiBzdHlsZSA9IFwiY29sb3I6I0ZGNjkwMFwiPiBzZWxlY3RfYWxsIDwvaT4gSUQ6ICcgKyBjb21wYcOxaWEuQ29kaWdvU0lDT00gKyc8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNhcmQtcmV2ZWFsXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiY2FyZC10aXRsZSBncmV5LXRleHQgdGV4dC1kYXJrZW4tNFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnJytjb21wYcOxaWEuTm9tYnJlKyc8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIHJpZ2h0XCI+IGNsb3NlIDwvaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD48Yj5JZDogPC9iPiAnK2NvbXBhw7FpYS5JZENvbXBhw7FpYSsnIDwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+PGI+U2FsZXMgT3JnYW5pemF0aW9uOiA8L2I+ICcrY29tcGHDsWlhLlNhbGVzT3JnYW5pemF0aW9uKycgPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD48Yj5EaXN0cmlidXRpb24gQ2hhbm5lbDogPC9iPiAnK2NvbXBhw7FpYS5EaXN0cmlidXRpb25DaGFubmVsKycgPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD48Yj5EaXZpc2lvbiAxMjogPC9iPiAnK2NvbXBhw7FpYS5EaXZpc2lvbisnIDwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+PGI+U3VwcGxpZXIgVHlwZTogPC9iPiAnK2NvbXBhw7FpYS5TdXBwbGllclR5cGUrJyA8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxwPjxiPlNJQ09NOiA8L2I+ICcrY29tcGHDsWlhLkNvZGlnb1NJQ09NKycgPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG52YXIgY29tcGHDsWlhc1BhZ2UgPSBuZXcgQ29tcGHDsWlhc1BhZ2UoKTtcclxuXHJcblxyXG5cclxuLy8gQ2FsbGVkIGFmdGVyIGV2ZXJ5IG5vbi1pbml0aWFsIHBhZ2UgbG9hZFxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0dXJib2xpbmtzOnJlbmRlcicsIChlOiBhbnkpID0+IHtcclxuICAgIGlmIChkb2N1bWVudC5VUkwuaW5kZXhPZignL0NvbXBhw7FpYXMvSW5kZXgnKSAhPSAtMSkge1xyXG4gICAgICAgIGlmIChjb21wYcOxaWFzUGFnZSkge1xyXG4gICAgICAgICAgICBjb21wYcOxaWFzUGFnZS5Jbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb21wYcOxaWFzUGFnZSA9IG5ldyBDb21wYcOxaWFzUGFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGUuZGF0YS51cmwpO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAgICAgIGNvbXBhw7FpYXNQYWdlPy5EZXN0cm95KCk7XHJcbn0pOyIsIlxyXG5pbXBvcnQgeyBIdHRwRmV0Y2hTZXJ2aWNlLCBJTWVzc2FnZVJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vU2hhcmVkJztcclxuaW1wb3J0IHsgQ29tcGHDsWlhIH0gZnJvbSAnLi4vLi4vU2hhcmVkL01vZGVscy9Db21wYcOxaWEnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBhw7FpYXNHZXN0aW9uUGFnZSB7XHJcblxyXG4gICAgLy9QUk9QSUVEQURFU1xyXG4gICAgcHVibGljIG9uQ29tcGHDsWlhQ3JlYWRvPzogKGNvbXBhw7FpYTogQ29tcGHDsWlhKSA9PiB2b2lkO1xyXG4gICAgcHVibGljIG9uQ29tcGHDsWlhQWN0dWFsaXphZG8/OiAoY29tcGHDsWlhOiBDb21wYcOxaWEpID0+IHZvaWQ7XHJcblxyXG4gICAgLy9DQU1QT1NcclxuICAgIHByaXZhdGUgX2Jhc2VVcmwgPSBcIi9Db21wYcOxaWFzXCI7XHJcbiAgICBwcml2YXRlIF9odHRwU2VydmljZTogSHR0cEZldGNoU2VydmljZTtcclxuICAgIHByaXZhdGUgX21vZGFsSW5zdGFuY2U6IE0uTW9kYWw7XHJcbiAgICBwcml2YXRlIF9tb2RhbEJhc2U6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfZm9ybUNvbXBhw7FpYTogSFRNTEZvcm1FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfZm9ybURhdGE6IEZvcm1EYXRhO1xyXG4gICAgcHJpdmF0ZSBfY29tcGHDsWlhSWRBY3R1YWxpemFyOiBzdHJpbmc7XHJcblxyXG4gICAgLy9DT05TVFJVQ1RPUlxyXG4gICAgY29uc3RydWN0b3IobW9kYWxCYXNlOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2h0dHBTZXJ2aWNlID0gbmV3IEh0dHBGZXRjaFNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLl9tb2RhbEJhc2UgPSBtb2RhbEJhc2U7XHJcbiAgICAgICAgdGhpcy5JbmljaWFsaXphck1vZGFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9NRVRPRE9TXHJcblxyXG4gICAgLy9DcmVhY2lvbiBkZSBudWV2YSBjb21wYcOxaWFcclxuICAgIHB1YmxpYyBOdWV2YUNvbXBhw7FpYSgpIHtcclxuICAgICAgICB0aGlzLl9odHRwU2VydmljZS5Qb3N0PHN0cmluZz4odGhpcy5fYmFzZVVybCArIFwiL051ZXZhQ29tcGHDsWlhXCIsIG51bGwsIGZhbHNlKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbW9kYWxCYXNlLmlubmVySFRNTCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkluaWNpbGl6YXJGb3JtQ29tcGHDsWlhKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HdWFyZGFyIENvbXBhw7FpYVxyXG4gICAgcHJpdmF0ZSBHdWFyZGFyQ29tcGHDsWlhKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuX2Zvcm1EYXRhLmdldChcIlJlcXVlc3RWZXJpZmljYXRpb25Ub2tlblwiKT8udG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLl9odHRwU2VydmljZS5Qb3N0Rm9ybTxJTWVzc2FnZVJlc3BvbnNlPih0aGlzLl9iYXNlVXJsICsgXCIvQ3JlYXJDb21wYcOxaWFcIiwgdGhpcy5fZm9ybURhdGEsIHRva2VuKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MaW1waWFyRm9ybXVsYXJpbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGHDsWlhQ3JlYWRvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGHDsWlhQ3JlYWRvKHRoaXMuRXh0cmFlckNvbXBhw7FpYSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE0udG9hc3QoeyBodG1sOiBkYXRhLk1lc3NhZ2UsIGNsYXNzZXM6IChkYXRhLlJlc3VsdCkgPyBcInN1Y2Nlc1wiIDogXCJlcnJvclwiIH0pO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRWRpY2lvbiB5IGRldGFsbGVzIGRlIENvbXBhw7FpYVxyXG4gICAgcHVibGljIERhdG9zQ29tcGHDsWlhKGlkQ29tcGHDsWlhOiBzdHJpbmcsIGxlY3R1cmE6IGJvb2xlYW4pIHtcclxuICAgICAgICB2YXIgcGF5bG9hZCA9IHsgY29tcGHDsWlhOiBpZENvbXBhw7FpYSwgbGVjdHVyYTogbGVjdHVyYSB9O1xyXG4gICAgICAgIHRoaXMuX2NvbXBhw7FpYUlkQWN0dWFsaXphciA9IGlkQ29tcGHDsWlhO1xyXG4gICAgICAgIHRoaXMuX2h0dHBTZXJ2aWNlLlBvc3Q8c3RyaW5nPih0aGlzLl9iYXNlVXJsICsgXCIvRGF0b3NDb21wYcOxaWFcIiwgcGF5bG9hZCwgZmFsc2UpXHJcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb2RhbEJhc2UuaW5uZXJIVE1MID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuSW5pY2lsaXphckZvcm1Db21wYcOxaWEoZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9BY3R1YWxpemFyIENvbXBhw7FpYVxyXG4gICAgcHJpdmF0ZSBBY3R1YWxpemFyQ29tcGHDsWlhKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuX2Zvcm1EYXRhLmdldChcIlJlcXVlc3RWZXJpZmljYXRpb25Ub2tlblwiKT8udG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLl9mb3JtRGF0YS5zZXQoXCJJZENvbXBhw7FpYVwiLCB0aGlzLl9jb21wYcOxaWFJZEFjdHVhbGl6YXIpO1xyXG4gICAgICAgIHRoaXMuX2h0dHBTZXJ2aWNlLlBvc3RGb3JtPElNZXNzYWdlUmVzcG9uc2U+KHRoaXMuX2Jhc2VVcmwgKyBcIi9BY3R1YWxpemFyQ29tcGHDsWlhXCIsIHRoaXMuX2Zvcm1EYXRhLCB0b2tlbilcclxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLlJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGHDsWlhQWN0dWFsaXphZG8pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Db21wYcOxaWFBY3R1YWxpemFkbyh0aGlzLkV4dHJhZXJDb21wYcOxaWEoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MaW1waWFyRm9ybXVsYXJpbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQ2VycmFyTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE0udG9hc3QoeyBodG1sOiBkYXRhLk1lc3NhZ2UsIGNsYXNzZXM6IChkYXRhLlJlc3VsdCkgPyBcInN1Y2Nlc1wiIDogXCJlcnJvclwiIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9JbmljaWFsaXphciBjb250cm9sIG1vZGFsXHJcbiAgICBwcml2YXRlIEluaWNpYWxpemFyTW9kYWwoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSBNLk1vZGFsLmluaXQodGhpcy5fbW9kYWxCYXNlLCB7XHJcbiAgICAgICAgICAgIGRpc21pc3NpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgb3BhY2l0eTogLjUsXHJcbiAgICAgICAgICAgIGluRHVyYXRpb246IDMwMCxcclxuICAgICAgICAgICAgb3V0RHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgc3RhcnRpbmdUb3A6ICc2JScsXHJcbiAgICAgICAgICAgIGVuZGluZ1RvcDogJzglJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL0luaWNpYWxpemFyIGNvbnRyb2xlcyBkZSBmb3JtdWxhcmlvXHJcbiAgICBwcml2YXRlIEluaWNpbGl6YXJGb3JtQ29tcGHDsWlhKG1vZG9DcmVhY2lvbjogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIE0udXBkYXRlVGV4dEZpZWxkcygpO1xyXG5cclxuICAgICAgICB0aGlzLl9mb3JtQ29tcGHDsWlhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb21wYcOxaWEtZm9ybVwiKTtcclxuICAgICAgICB0aGlzLl9mb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLl9mb3JtQ29tcGHDsWlhKTtcclxuICAgICAgICAkKHRoaXMuX2Zvcm1Db21wYcOxaWEpLnJlbW92ZURhdGEoXCJ2YWxpZGF0b3JcIikucmVtb3ZlRGF0YShcInVub2J0cnVzaXZlVmFsaWRhdGlvblwiKTtcclxuICAgICAgICAkLnZhbGlkYXRvci51bm9idHJ1c2l2ZS5wYXJzZSh0aGlzLl9mb3JtQ29tcGHDsWlhKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXBhw7FpYS1tb2RhbC1jYW5jZWxcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHRoaXMuQ2VycmFyTW9kYWwoKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm1Db21wYcOxaWEub25zdWJtaXQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJCh0aGlzLl9mb3JtQ29tcGHDsWlhKS52YWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLl9mb3JtQ29tcGHDsWlhKTtcclxuICAgICAgICAgICAgICAgIC8vZm9ybURhdGEuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4geyBjb25zb2xlLmxvZyhrZXkgKyBcIjogXCIgKyB2YWx1ZSkgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vZG9DcmVhY2lvbilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkd1YXJkYXJDb21wYcOxaWEoKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkFjdHVhbGl6YXJDb21wYcOxaWEoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBwcmV2ZW50IHJlbG9hZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy9FeHRyYWVyIGNvbXBhw7FpYSBkZSBmb3JtdWxhcmlvXHJcbiAgICBwcml2YXRlIEV4dHJhZXJDb21wYcOxaWEoKTogQ29tcGHDsWlhIHtcclxuICAgICAgICBsZXQgY29tcGHDsWlhID0gbmV3IENvbXBhw7FpYSgpO1xyXG5cclxuICAgICAgICBjb21wYcOxaWEuSWRDb21wYcOxaWEgPSB0aGlzLl9mb3JtRGF0YS5nZXQoXCJJZENvbXBhw7FpYVwiKT8udG9TdHJpbmcoKTtcclxuICAgICAgICBjb21wYcOxaWEuTm9tYnJlID0gdGhpcy5fZm9ybURhdGEuZ2V0KFwiQ29tcGHDsWlhXCIpPy50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbXBhw7FpYS5TYWxlc09yZ2FuaXphdGlvbiA9IHRoaXMuX2Zvcm1EYXRhLmdldChcIlNhbGVzT3JnYW5pemF0aW9uXCIpPy50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbXBhw7FpYS5EaXN0cmlidXRpb25DaGFubmVsID0gdGhpcy5fZm9ybURhdGEuZ2V0KFwiRGlzdHJpYnV0aW9uQ2hhbm5lbFwiKT8udG9TdHJpbmcoKTtcclxuICAgICAgICBjb21wYcOxaWEuRGl2aXNpb24gPSB0aGlzLl9mb3JtRGF0YS5nZXQoXCJEaXZpc2lvblwiKT8udG9TdHJpbmcoKTtcclxuICAgICAgICBjb21wYcOxaWEuU3VwcGxpZXJUeXBlID0gdGhpcy5fZm9ybURhdGEuZ2V0KFwiU3VwcGxpZXJUeXBlXCIpPy50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbXBhw7FpYS5Db2RpZ29TSUNPTSA9IHRoaXMuX2Zvcm1EYXRhLmdldChcIkNvZGlnb1NJQ09NXCIpPy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICByZXR1cm4gY29tcGHDsWlhO1xyXG4gICAgfVxyXG5cclxuICAgIC8vUmVzZXQgZGUgZm9ybXVsYXJpb1xyXG4gICAgcHJpdmF0ZSBMaW1waWFyRm9ybXVsYXJpbygpIHtcclxuICAgICAgICB0aGlzLl9mb3JtQ29tcGHDsWlhLnJlc2V0KCk7XHJcbiAgICAgICAgJCgnI2NvbXBhw7FpYS1pZCcpLnZhbChudWxsKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICBNLnVwZGF0ZVRleHRGaWVsZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NlcnJhciBjb250cm9sIG1vZGFsXHJcbiAgICBwcml2YXRlIENlcnJhck1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9mb3JtQ29tcGHDsWlhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZm9ybUNvbXBhw7FpYSk7XHJcbiAgICAgICAgdGhpcy5fY29tcGHDsWlhSWRBY3R1YWxpemFyID0gXCJcIjtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb25maXJtTW9kYWxNZXNzYWdlIHtcclxuXHJcbiAgICBwcml2YXRlIHBhcmVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIG1vZGFsOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgYWNjZXB0QnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgZGlzbWlzc0J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIG1vZGFsSW5zdGFuY2U6IE0uTW9kYWw7XHJcbiAgICBwcml2YXRlIGlkTWVzc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdGl0bGU6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nLFxyXG4gICAgICAgIHB1YmxpYyBhY2NlcHRUZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgcHVibGljIGRpc21pc3NUZXh0OiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pZE1lc3NzYWdlID0gXCJjb25maXJtLW1lc3NhZ2VcIjtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgdGhpcy5DcmVhdGVNb2RhbCgpO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kTW9kZWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZU1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMubW9kYWwuaWQgPSB0aGlzLmlkTWVzc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxcIiwgXCJtb2RhbC1maXhlZC1mb290ZXJcIiwgXCJtb2RhbC1jb25maXJtLW1lc3NhZ2Utc21hbGxcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsLWNvbnRlbnRcIik7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg0XCIpO1xyXG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHRoaXMudGl0bGU7XHJcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChoZWFkZXIpO1xyXG5cclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgbWVzc2FnZS50ZXh0Q29udGVudCA9IHRoaXMubWVzc2FnZTtcclxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKG1lc3NhZ2UpO1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgYnV0dG9uR3JvdXAuY2xhc3NMaXN0LmFkZChcIm1vZGFsLWZvb3RlclwiKTtcclxuICAgICAgICB0aGlzLm1vZGFsLmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaXNtaXNzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICB0aGlzLmRpc21pc3NCdXR0b24uY2xhc3NMaXN0LmFkZChcclxuICAgICAgICAgICAgXCJtb2RhbC1hY3Rpb25cIixcclxuICAgICAgICAgICAgXCJ3YXZlcy1lZmZlY3RcIixcclxuICAgICAgICAgICAgXCJ3YXZlcy1yZWRcIixcclxuICAgICAgICAgICAgXCJidG4tZmxhdFwiLFxyXG4gICAgICAgICAgICBcImJ0bi1vcmFuZ2VcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5kaXNtaXNzQnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xyXG4gICAgICAgIHRoaXMuZGlzbWlzc0J1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuZGlzbWlzc1RleHQ7XHJcbiAgICAgICAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQodGhpcy5kaXNtaXNzQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5hY2NlcHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuYWNjZXB0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgICAgICAgIFwibW9kYWwtYWN0aW9uXCIsXHJcbiAgICAgICAgICAgIFwid2F2ZXMtZWZmZWN0XCIsXHJcbiAgICAgICAgICAgIFwid2F2ZXMtcmVkXCIsXHJcbiAgICAgICAgICAgIFwiYnRuLWZsYXRcIixcclxuICAgICAgICAgICAgXCJidG4tb3JhbmdlXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuYWNjZXB0QnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xyXG4gICAgICAgIHRoaXMuYWNjZXB0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5hY2NlcHRUZXh0O1xyXG4gICAgICAgIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKHRoaXMuYWNjZXB0QnV0dG9uKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEFwcGVuZE1vZGVsKCkge1xyXG4gICAgICAgIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMubW9kYWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVzdHJveSgpIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGFsSW5zdGFuY2UuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgdGhpcy5pZE1lc3NzYWdlKTtcclxuICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIENvbmZpcm0oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNvbWV0aGluZ1dlbnRXcm9uZ1Vwb25DcmVhdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tb2RhbCB8fCAhdGhpcy5hY2NlcHRCdXR0b24gfHwgIXRoaXMuZGlzbWlzc0J1dHRvbjtcclxuICAgICAgICAgICAgaWYgKHNvbWV0aGluZ1dlbnRXcm9uZ1Vwb25DcmVhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoXCJGYWxsbyBhbGdvIGVuIGxhIGNyZWFjacOzbiBkZWwgbWVuc2FqZVwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgTS5Nb2RhbC5pbml0KHRoaXMubW9kYWwsIHtcclxuICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IC41LFxyXG4gICAgICAgICAgICAgICAgaW5EdXJhdGlvbjogMzAwLFxyXG4gICAgICAgICAgICAgICAgb3V0RHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nVG9wOiAnNiUnLFxyXG4gICAgICAgICAgICAgICAgZW5kaW5nVG9wOiAnOCUnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGFsSW5zdGFuY2UgPSBNLk1vZGFsLmdldEluc3RhbmNlKHRoaXMubW9kYWwpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGFsSW5zdGFuY2Uub3BlbigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY2NlcHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc21pc3NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiLy8gQmFzZSBjbGFzcyBmb3IgSHR0cCBvcGVyYXRpb25zIEdFVCwgUFVULCBQT1NULCBERUxFVEUsIFBBVENIISFcclxuZXhwb3J0IGNsYXNzIEh0dHBGZXRjaFNlcnZpY2Uge1xyXG5cclxuICAgIHB1YmxpYyBQb3N0PFU+KHVybDogc3RyaW5nLCBwYXlsb2FkOiBhbnksIGpzb25SZXNwb25zZSA9IHRydWUpOiBQcm9taXNlPFU+IHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8VT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKGpzb25SZXNwb25zZSkgPyByZXNwb25zZS5qc29uKCkgOiByZXNwb25zZS50ZXh0KCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBQb3N0Rm9ybTxVPih1cmw6IHN0cmluZywgcGF5bG9hZDogYW55LCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxVPiB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFU+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbic6IHRva2VufSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IHBheWxvYWRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFBvc3RGb3JtVVJMPFU+KHVybDogc3RyaW5nLCBwYXlsb2FkOiBhbnksIGpzb25SZXNwb25zZSA9IHRydWUpOiBQcm9taXNlPFU+IHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8VT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiBwYXlsb2FkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiAoanNvblJlc3BvbnNlKSA/IHJlc3BvbnNlLmpzb24oKSA6IHJlc3BvbnNlLnRleHQoKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIdHRwRmV0Y2hTZXJ2aWNlIH0gZnJvbSBcIi4vSHR0cEZldGNoU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlcnZpY2VzID0gW0h0dHBGZXRjaFNlcnZpY2VdO1xyXG5cclxuZXhwb3J0ICogZnJvbSBcIi4vSHR0cEZldGNoU2VydmljZVwiOyIsImV4cG9ydCBjbGFzcyBBcmVhIHtcclxuICAgIElkQXJlYTogc3RyaW5nO1xyXG4gICAgTm9tYnJlOiBzdHJpbmc7XHJcbn0iLCJleHBvcnQgY2xhc3MgQ2FiZXpvdGUge1xyXG4gICAgUGxhY2E6IHN0cmluZztcclxufSIsImV4cG9ydCBjbGFzcyBDb21wYcOxaWEge1xyXG4gICAgIElkQ29tcGHDsWlhOiBzdHJpbmc7XHJcbiAgICAgTm9tYnJlOiBzdHJpbmc7XHJcbiAgICAgU2FsZXNPcmdhbml6YXRpb246IHN0cmluZztcclxuICAgICBEaXN0cmlidXRpb25DaGFubmVsOiBzdHJpbmc7XHJcbiAgICAgRGl2aXNpb246IHN0cmluZztcclxuICAgICBTdXBwbGllclR5cGU6IHN0cmluZztcclxuICAgICBDb2RpZ29TSUNPTTogc3RyaW5nXHJcbn0iLCJleHBvcnQgY2xhc3MgQ29uZHVjdG9yIHtcclxuICAgIE5vbWJyZTogc3RyaW5nO1xyXG4gICAgQ2VkdWxhOiBzdHJpbmc7XHJcbn0iLCJleHBvcnQgY2xhc3MgTG9nIHtcclxuICAgIElkOiBzdHJpbmc7XHJcbiAgICBGZWNoYUV2ZW50bzogc3RyaW5nO1xyXG4gICAgQXBsaWNhY2lvbjogc3RyaW5nXHJcbiAgICBBcmVhOiBzdHJpbmdcclxuICAgIFNlY2Npb246IHN0cmluZ1xyXG4gICAgQWNjaW9uOiBzdHJpbmdcclxuICAgIE9iamV0aXZvOiBzdHJpbmdcclxuICAgIEVudGlkYWQ6IHN0cmluZ1xyXG4gICAgUHJpb3JpZGFkOiBzdHJpbmdcclxuICAgIENvbWVudGFyaW86IHN0cmluZ1xyXG59IiwiZXhwb3J0IGNsYXNzIFRyYWlsZXIge1xyXG4gICAgUGxhY2E6IHN0cmluZztcclxufSIsImV4cG9ydCBjbGFzcyBVc3VhcmlvIHtcclxuICAgIEltYWdlbjogRmlsZTtcclxuICAgIElkVXN1YXJpbzogc3RyaW5nO1xyXG4gICAgTm9tYnJlOiBzdHJpbmc7XHJcbiAgICBSb2w6IHN0cmluZztcclxuICAgIEVtYWlsOiBzdHJpbmc7XHJcbiAgICBUZWxlZm9ubzogc3RyaW5nO1xyXG59IiwiaW1wb3J0IHsgSU1lc3NhZ2VSZXNwb25zZSB9IGZyb20gXCIuL01lc3NhZ2VSZXNwb25zZVwiO1xyXG5pbXBvcnQgeyBVc3VhcmlvIH0gZnJvbSBcIi4vVXN1YXJpb1wiO1xyXG5pbXBvcnQgeyBMb2cgfSBmcm9tIFwiLi9Mb2dcIjtcclxuaW1wb3J0IHsgQ2FiZXpvdGUgfSBmcm9tIFwiLi9DYWJlem90ZVwiO1xyXG5pbXBvcnQgeyBUcmFpbGVyIH0gZnJvbSBcIi4vVHJhaWxlclwiO1xyXG5pbXBvcnQgeyBDb25kdWN0b3IgfSBmcm9tIFwiLi9Db25kdWN0b3JcIjtcclxuaW1wb3J0IHsgQXJlYSB9IGZyb20gXCIuL0FyZWFcIjtcclxuaW1wb3J0IHsgQ29tcGHDsWlhIH0gZnJvbSBcIi4vQ29tcGHDsWlhXCI7XHJcblxyXG5leHBvcnQgY29uc3QgbW9kZWxzID0gW1VzdWFyaW8sIENhYmV6b3RlLCBUcmFpbGVyLCBDb25kdWN0b3IsIEFyZWEsIExvZywgQ29tcGHDsWlhXTtcclxuXHJcbmV4cG9ydCAqIGZyb20gXCIuL01lc3NhZ2VSZXNwb25zZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9Vc3VhcmlvXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0xvZ1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9Vc3VhcmlvXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0NhYmV6b3RlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1RyYWlsZXJcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQ29uZHVjdG9yXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0FyZWFcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQ29tcGHDsWlhXCI7IiwiZGVjbGFyZSBnbG9iYWwge1xyXG4gICAgaW50ZXJmYWNlIEhUTUxFbGVtZW50IHtcclxuICAgICAgICBvbihldmVudFR5cGU6IHN0cmluZywgY2hpbGRTZWxlY3Rvcjogc3RyaW5nLCBldmVudEhhbmRsZXI6IGFueSk6IHZvaWQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbkhUTUxFbGVtZW50LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudFR5cGU6IHN0cmluZywgY2hpbGRTZWxlY3Rvcjogc3RyaW5nLCBldmVudEhhbmRsZXI6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZXZlbnRPbkVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGlmIChldmVudE9uRWxlbWVudC50YXJnZXQubWF0Y2hlcyhjaGlsZFNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnRPbkVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50T25FbGVtZW50LnRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IHsgfTsiLCJleHBvcnQgY2xhc3MgSlFWYWxpZGF0aW9ucyB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBNYXhGaWxlU2l6ZVZhbGlkYXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCQudmFsaWRhdG9yLm1ldGhvZHNbJ21heGZpbGVzaXplJ10pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKCdtYXhmaWxlc2l6ZScsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgcGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IChlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHBhcmFtcywgZmlsZSA9IChpbnB1dC5maWxlc1swXSBhcyBGaWxlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKGZpbGUuc2l6ZSAvIDEwMjQpID4gc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJC52YWxpZGF0b3IudW5vYnRydXNpdmUuYWRhcHRlcnMuYWRkKCdtYXhmaWxlc2l6ZScsIFsnc2l6ZSddLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVnaXN0cmEgbWF4ZmlsZXNpemUgZW4gdW5vYnRydXNpdmVcIik7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucnVsZXNbJ21heGZpbGVzaXplJ10gPSBvcHRpb25zLnBhcmFtc1snc2l6ZSddO1xyXG4gICAgICAgICAgICBvcHRpb25zLm1lc3NhZ2VzWydtYXhmaWxlc2l6ZSddID0gb3B0aW9ucy5tZXNzYWdlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQWxsb3dlZEV4dGVuc2lvbnNWYWxpZGF0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICgkLnZhbGlkYXRvci5tZXRob2RzWydhbGxvd2VkZXh0ZW5zaW9ucyddKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZCgnYWxsb3dlZGV4dGVuc2lvbnMnLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQsIHBhcmFtcykge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSAoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgbGV0IGV4dHMgPSBwYXJhbXMsIGZpbGUgPSAoaW5wdXQuZmlsZXNbMF0gYXMgRmlsZSk7XHJcbiAgICAgICAgICAgIGxldCBleHRzQXJyYXkgPSBleHRzLnNwbGl0KCcsJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChuZXcgUmVnRXhwKCcoJyArIGV4dHNBcnJheS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpICsgJykkJykpLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQudmFsaWRhdG9yLnVub2J0cnVzaXZlLmFkYXB0ZXJzLmFkZCgnYWxsb3dlZGV4dGVuc2lvbnMnLCBbJ2V4dHMnXSwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5ydWxlc1snYWxsb3dlZGV4dGVuc2lvbnMnXSA9IG9wdGlvbnMucGFyYW1zWydleHRzJ107XHJcbiAgICAgICAgICAgIG9wdGlvbnMubWVzc2FnZXNbJ2FsbG93ZWRleHRlbnNpb25zJ10gPSBvcHRpb25zLm1lc3NhZ2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL0h0dHAnO1xyXG5leHBvcnQgKiBmcm9tICcuL01vZGVscyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vVXRpbHMvSFRNTEV4dGVuc2lvbnMnOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gbW9kdWxlIGV4cG9ydHMgbXVzdCBiZSByZXR1cm5lZCBmcm9tIHJ1bnRpbWUgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xucmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oXCIuL1NjcmlwdHMvUGFnZXMvQ29tcGHDsWlhcy9Db21wYcOxaWFzLnRzXCIpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==